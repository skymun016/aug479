import{S as j,i as X,s as Y,f as J,a as yt,H as Ct,w as Rt,x as bt,y as Mt,e as C,g as st,z as Lt,h as St,n as G,j as ot,N as ut,c as M,u as d,q as O,t as p,r as q,ah as U,a4 as dt,Y as Ft,A as W,Z as E,E as h,F as v,G as w,_ as I,$ as k,a0 as H,X as P,D as z,b as F,d as B,a1 as Gt,T as ft,a2 as pt,a6 as Et,ac as zt}from"./SpinnerAugment-CCR7AGk-.js";import"./design-system-init-B0YNj4mb.js";import{h as _,W as K,e as rt}from"./IconButtonAugment-CVWbWfwx.js";import{S as Nt,O as Tt}from"./OpenFileButton-DToWNTcv.js";import{C as Bt}from"./check-whOCP5so.js";import{C as mt,E as gt}from"./chat-flags-model-B-EOBEov.js";import{M as Q}from"./message-broker-D_dlQCzo.js";import{M as It,R as kt}from"./rules-model-CBinLWqn.js";import{D,M as Z,b as At,c as Ot,d as qt}from"./index-DaLJ_QUV.js";import{B as ht}from"./ButtonAugment-JhlUwgSi.js";import{C as vt}from"./chevron-down-Di3C5ykp.js";import{F as _t}from"./Filespan-Dq3a1CK8.js";import{a as wt,T as xt}from"./TextTooltipAugment-QVDAcl-O.js";import"./chat-context-CfYmajw8.js";import"./types-DDm27S8B.js";import"./index-B60hMJvm.js";import"./utils-DRvqjT1k.js";import"./ra-diff-ops-model-CfFedGkc.js";import"./types-CGlLNakm.js";import"./async-messaging-BnYTstSc.js";import"./file-paths-BhRi9crS.js";import"./BaseTextInput-BomIiYnE.js";import"./TextAreaAugment-20MWk3hd.js";import"./CardAugment-Cjl8BxE0.js";function Dt(r){let t,n,e=[{xmlns:"http://www.w3.org/2000/svg"},{"data-ds-icon":"fa"},{viewBox:"0 0 448 512"},r[0]],s={};for(let o=0;o<e.length;o+=1)s=J(s,e[o]);return{c(){t=yt("svg"),n=new Ct(!0),this.h()},l(o){t=Rt(o,"svg",{xmlns:!0,"data-ds-icon":!0,viewBox:!0});var i=bt(t);n=Mt(i,!0),i.forEach(C),this.h()},h(){n.a=null,st(t,s)},m(o,i){Lt(o,t,i),n.m('<!--! Font Awesome Pro 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2024 Fonticons, Inc.--><path d="M440.6 273.4c4.7-4.5 7.4-10.8 7.4-17.4s-2.7-12.8-7.4-17.4l-176-168c-9.6-9.2-24.8-8.8-33.9.8s-8.8 24.8.8 33.9L364.1 232H24c-13.3 0-24 10.7-24 24s10.7 24 24 24h340.1L231.4 406.6c-9.6 9.2-9.9 24.3-.8 33.9s24.3 9.9 33.9.8l176-168z"/>',t)},p(o,[i]){st(t,s=St(e,[{xmlns:"http://www.w3.org/2000/svg"},{"data-ds-icon":"fa"},{viewBox:"0 0 448 512"},1&i&&o[0]]))},i:G,o:G,d(o){o&&C(t)}}}function Ht(r,t,n){return r.$$set=e=>{n(0,t=J(J({},t),ot(e)))},[t=ot(t)]}class tt extends j{constructor(t){super(),X(this,t,Ht,Dt,Y,{})}}function at(r,t,n){const e=r.slice();return e[26]=t[n],e[28]=n,e}function it(r){let t,n,e,s;const o=[Wt,Ut],i=[];function l(a,$){return a[0]?0:1}return t=l(r),n=i[t]=o[t](r),{c(){n.c(),e=ut()},m(a,$){i[t].m(a,$),M(a,e,$),s=!0},p(a,$){let c=t;t=l(a),t===c?i[t].p(a,$):(O(),p(i[c],1,1,()=>{i[c]=null}),q(),n=i[t],n?n.p(a,$):(n=i[t]=o[t](a),n.c()),d(n,1),n.m(e.parentNode,e))},i(a){s||(d(n),s=!0)},o(a){p(n),s=!1},d(a){a&&C(e),i[t].d(a)}}}function Ut(r){let t,n,e={content:r[5],triggerOn:[wt.Hover],side:"top",$$slots:{default:[Xt]},$$scope:{ctx:r}};return t=new xt({props:e}),r[21](t),{c(){h(t.$$.fragment)},m(s,o){v(t,s,o),n=!0},p(s,o){const i={};32&o&&(i.content=s[5]),536870912&o&&(i.$$scope={dirty:o,ctx:s}),t.$set(i)},i(s){n||(d(t.$$.fragment,s),n=!0)},o(s){p(t.$$.fragment,s),n=!1},d(s){r[21](null),w(t,s)}}}function Wt(r){let t,n,e,s;function o(a){r[19](a)}function i(a){r[20](a)}let l={$$slots:{default:[oe]},$$scope:{ctx:r}};return r[3]!==void 0&&(l.requestClose=r[3]),r[2]!==void 0&&(l.focusedIndex=r[2]),t=new D.Root({props:l}),E.push(()=>I(t,"requestClose",o)),E.push(()=>I(t,"focusedIndex",i)),{c(){h(t.$$.fragment)},m(a,$){v(t,a,$),s=!0},p(a,$){const c={};536871794&$&&(c.$$scope={dirty:$,ctx:a}),!n&&8&$&&(n=!0,c.requestClose=a[3],k(()=>n=!1)),!e&&4&$&&(e=!0,c.focusedIndex=a[2],k(()=>e=!1)),t.$set(c)},i(a){s||(d(t.$$.fragment,a),s=!0)},o(a){p(t.$$.fragment,a),s=!1},d(a){w(t,a)}}}function Pt(r){let t;return{c(){t=H("Rules")},m(n,e){M(n,t,e)},d(n){n&&C(t)}}}function Vt(r){let t,n;return t=new tt({props:{slot:"iconLeft"}}),{c(){h(t.$$.fragment)},m(e,s){v(t,e,s),n=!0},p:G,i(e){n||(d(t.$$.fragment,e),n=!0)},o(e){p(t.$$.fragment,e),n=!1},d(e){w(t,e)}}}function jt(r){let t,n;return t=new vt({props:{slot:"iconRight"}}),{c(){h(t.$$.fragment)},m(e,s){v(t,e,s),n=!0},p:G,i(e){n||(d(t.$$.fragment,e),n=!0)},o(e){p(t.$$.fragment,e),n=!1},d(e){w(t,e)}}}function Xt(r){let t,n;return t=new ht({props:{color:"neutral",variant:"soft",size:1,disabled:!0,$$slots:{iconRight:[jt],iconLeft:[Vt],default:[Pt]},$$scope:{ctx:r}}}),{c(){h(t.$$.fragment)},m(e,s){v(t,e,s),n=!0},p(e,s){const o={};536870912&s&&(o.$$scope={dirty:s,ctx:e}),t.$set(o)},i(e){n||(d(t.$$.fragment,e),n=!0)},o(e){p(t.$$.fragment,e),n=!1},d(e){w(t,e)}}}function Yt(r){let t,n=(r[8]?r[8].path:"Rules")+"";return{c(){t=H(n)},m(e,s){M(e,t,s)},p(e,s){256&s&&n!==(n=(e[8]?e[8].path:"Rules")+"")&&pt(t,n)},d(e){e&&C(t)}}}function Zt(r){let t,n;return t=new tt({props:{slot:"iconLeft"}}),{c(){h(t.$$.fragment)},m(e,s){v(t,e,s),n=!0},p:G,i(e){n||(d(t.$$.fragment,e),n=!0)},o(e){p(t.$$.fragment,e),n=!1},d(e){w(t,e)}}}function Jt(r){let t,n;return t=new vt({props:{slot:"iconRight"}}),{c(){h(t.$$.fragment)},m(e,s){v(t,e,s),n=!0},p:G,i(e){n||(d(t.$$.fragment,e),n=!0)},o(e){p(t.$$.fragment,e),n=!1},d(e){w(t,e)}}}function Kt(r){let t,n;return t=new ht({props:{color:"neutral",variant:"soft",size:1,disabled:r[6],$$slots:{iconRight:[Jt],iconLeft:[Zt],default:[Yt]},$$scope:{ctx:r}}}),t.$on("click",r[14]),{c(){h(t.$$.fragment)},m(e,s){v(t,e,s),n=!0},p(e,s){const o={};64&s&&(o.disabled=e[6]),536871168&s&&(o.$$scope={dirty:s,ctx:e}),t.$set(o)},i(e){n||(d(t.$$.fragment,e),n=!0)},o(e){p(t.$$.fragment,e),n=!1},d(e){w(t,e)}}}function Qt(r){let t,n,e={content:r[5],triggerOn:[wt.Hover],side:"top",$$slots:{default:[Kt]},$$scope:{ctx:r}};return t=new xt({props:e}),r[17](t),{c(){h(t.$$.fragment)},m(s,o){v(t,s,o),n=!0},p(s,o){const i={};32&o&&(i.content=s[5]),536871232&o&&(i.$$scope={dirty:o,ctx:s}),t.$set(i)},i(s){n||(d(t.$$.fragment,s),n=!0)},o(s){p(t.$$.fragment,s),n=!1},d(s){r[17](null),w(t,s)}}}function te(r){let t,n;return t=new _t({props:{filepath:r[26].path}}),{c(){h(t.$$.fragment)},m(e,s){v(t,e,s),n=!0},p(e,s){const o={};2&s&&(o.filepath=e[26].path),t.$set(o)},i(e){n||(d(t.$$.fragment,e),n=!0)},o(e){p(t.$$.fragment,e),n=!1},d(e){w(t,e)}}}function ct(r){let t,n;function e(){return r[18](r[26])}return t=new D.Item({props:{onSelect:e,highlight:r[9]===r[28],$$slots:{default:[te]},$$scope:{ctx:r}}}),{c(){h(t.$$.fragment)},m(s,o){v(t,s,o),n=!0},p(s,o){r=s;const i={};2&o&&(i.onSelect=e),512&o&&(i.highlight=r[9]===r[28]),536870914&o&&(i.$$scope={dirty:o,ctx:r}),t.$set(i)},i(s){n||(d(t.$$.fragment,s),n=!0)},o(s){p(t.$$.fragment,s),n=!1},d(s){w(t,s)}}}function lt(r){let t,n,e,s;return t=new D.Separator({}),e=new D.Label({props:{$$slots:{default:[ne]},$$scope:{ctx:r}}}),{c(){h(t.$$.fragment),n=P(),h(e.$$.fragment)},m(o,i){v(t,o,i),M(o,n,i),v(e,o,i),s=!0},p(o,i){const l={};536871426&i&&(l.$$scope={dirty:i,ctx:o}),e.$set(l)},i(o){s||(d(t.$$.fragment,o),d(e.$$.fragment,o),s=!0)},o(o){p(t.$$.fragment,o),p(e.$$.fragment,o),s=!1},d(o){o&&C(n),w(t,o),w(e,o)}}}function ee(r){let t,n=$t(r[1][r[9]])+"";return{c(){t=H(n)},m(e,s){M(e,t,s)},p(e,s){514&s&&n!==(n=$t(e[1][e[9]])+"")&&pt(t,n)},d(e){e&&C(t)}}}function ne(r){let t,n;return t=new ft({props:{size:1,color:"neutral",$$slots:{default:[ee]},$$scope:{ctx:r}}}),{c(){h(t.$$.fragment)},m(e,s){v(t,e,s),n=!0},p(e,s){const o={};536871426&s&&(o.$$scope={dirty:s,ctx:e}),t.$set(o)},i(e){n||(d(t.$$.fragment,e),n=!0)},o(e){p(t.$$.fragment,e),n=!1},d(e){w(t,e)}}}function se(r){let t,n,e,s=rt(r[1]),o=[];for(let a=0;a<s.length;a+=1)o[a]=ct(at(r,s,a));const i=a=>p(o[a],1,1,()=>{o[a]=null});let l=r[9]!==void 0&&r[1][r[9]]&&lt(r);return{c(){t=z("div");for(let a=0;a<o.length;a+=1)o[a].c();n=P(),l&&l.c(),F(t,"class","rules-dropdown-content svelte-18wohv")},m(a,$){M(a,t,$);for(let c=0;c<o.length;c+=1)o[c]&&o[c].m(t,null);B(t,n),l&&l.m(t,null),e=!0},p(a,$){if(8706&$){let c;for(s=rt(a[1]),c=0;c<s.length;c+=1){const m=at(a,s,c);o[c]?(o[c].p(m,$),d(o[c],1)):(o[c]=ct(m),o[c].c(),d(o[c],1),o[c].m(t,n))}for(O(),c=s.length;c<o.length;c+=1)i(c);q()}a[9]!==void 0&&a[1][a[9]]?l?(l.p(a,$),514&$&&d(l,1)):(l=lt(a),l.c(),d(l,1),l.m(t,null)):l&&(O(),p(l,1,1,()=>{l=null}),q())},i(a){if(!e){for(let $=0;$<s.length;$+=1)d(o[$]);d(l),e=!0}},o(a){o=o.filter(Boolean);for(let $=0;$<o.length;$+=1)p(o[$]);p(l),e=!1},d(a){a&&C(t),Gt(o,a),l&&l.d()}}}function oe(r){let t,n,e,s;return t=new D.Trigger({props:{$$slots:{default:[Qt]},$$scope:{ctx:r}}}),e=new D.Content({props:{side:"bottom",align:"start",$$slots:{default:[se]},$$scope:{ctx:r}}}),{c(){h(t.$$.fragment),n=P(),h(e.$$.fragment)},m(o,i){v(t,o,i),M(o,n,i),v(e,o,i),s=!0},p(o,i){const l={};536871280&i&&(l.$$scope={dirty:i,ctx:o}),t.$set(l);const a={};536871426&i&&(a.$$scope={dirty:i,ctx:o}),e.$set(a)},i(o){s||(d(t.$$.fragment,o),d(e.$$.fragment,o),s=!0)},o(o){p(t.$$.fragment,o),p(e.$$.fragment,o),s=!1},d(o){o&&C(n),w(t,o),w(e,o)}}}function re(r){let t,n,e=!r[7]&&it(r);return{c(){e&&e.c(),t=ut()},m(s,o){e&&e.m(s,o),M(s,t,o),n=!0},p(s,[o]){s[7]?e&&(O(),p(e,1,1,()=>{e=null}),q()):e?(e.p(s,o),128&o&&d(e,1)):(e=it(s),e.c(),d(e,1),e.m(t.parentNode,t))},i(s){n||(d(e),n=!0)},o(s){p(e),n=!1},d(s){s&&C(t),e&&e.d(s)}}}function $t(r){return`Move to ${r.path}`}function ae(r,t,n){let e,s,o,i,l,a,$,c=G,m=()=>(c(),c=Ft(N,g=>n(9,$=g)),N);r.$$.on_destroy.push(()=>c());let{onRuleSelected:f}=t,{disabled:y=!1}=t;const R=new Q(_),u=new mt,x=new gt(_,R,u),b=W([]);U(r,b,g=>n(1,i=g));const L=W(!0);U(r,L,g=>n(7,l=g));const S=W(void 0);let N;U(r,S,g=>n(8,a=g)),m();let T,V=()=>{};function et(g){S.set(g),f(g),V()}return dt(()=>{(async function(){try{L.set(!0);const A=await x.findRules("",100);b.set(A)}catch(A){console.error("Failed to load rules:",A),b.set([])}finally{L.set(!1)}})();const g=A=>{var nt;((nt=A.data)==null?void 0:nt.type)===K.getRulesListResponse&&(b.set(A.data.data||[]),L.set(!1))};return window.addEventListener("message",g),()=>{window.removeEventListener("message",g)}}),r.$$set=g=>{"onRuleSelected"in g&&n(15,f=g.onRuleSelected),"disabled"in g&&n(16,y=g.disabled)},r.$$.update=()=>{2&r.$$.dirty&&n(0,e=i.length>0),65537&r.$$.dirty&&n(6,s=y||!e),1&r.$$.dirty&&n(5,o=e?"Move highlighted text to a .augment/rules file":"Please add at least 1 file to .augment/rules and reload VSCode")},[e,i,N,V,T,o,s,l,a,$,b,L,S,et,function(){T&&T.requestClose()},f,y,function(g){E[g?"unshift":"push"](()=>{T=g,n(4,T)})},g=>et(g),function(g){V=g,n(3,V)},function(g){N=g,m(n(2,N))},function(g){E[g?"unshift":"push"](()=>{T=g,n(4,T)})}]}class ie extends j{constructor(t){super(),X(this,t,ae,re,Y,{onRuleSelected:15,disabled:16})}}function ce(r){let t;return{c(){t=H("User Guidelines")},m(n,e){M(n,t,e)},d(n){n&&C(t)}}}function le(r){let t,n;return t=new tt({}),{c(){h(t.$$.fragment)},m(e,s){v(t,e,s),n=!0},i(e){n||(d(t.$$.fragment,e),n=!0)},o(e){p(t.$$.fragment,e),n=!1},d(e){w(t,e)}}}function $e(r){let t,n;return t=new Bt({}),{c(){h(t.$$.fragment)},m(e,s){v(t,e,s),n=!0},i(e){n||(d(t.$$.fragment,e),n=!0)},o(e){p(t.$$.fragment,e),n=!1},d(e){w(t,e)}}}function ue(r){let t,n,e,s;const o=[$e,le],i=[];function l(a,$){return a[5]==="success"?0:1}return n=l(r),e=i[n]=o[n](r),{c(){t=z("div"),e.c(),F(t,"slot","iconLeft"),F(t,"class","c-move-text-btn__left_icon svelte-1yddhs6")},m(a,$){M(a,t,$),i[n].m(t,null),s=!0},p(a,$){let c=n;n=l(a),n!==c&&(O(),p(i[c],1,1,()=>{i[c]=null}),q(),e=i[n],e||(e=i[n]=o[n](a),e.c()),d(e,1),e.m(t,null))},i(a){s||(d(e),s=!0)},o(a){p(e),s=!1},d(a){a&&C(t),i[n].d()}}}function de(r){let t;return{c(){t=H("Augment-Memories.md")},m(n,e){M(n,t,e)},d(n){n&&C(t)}}}function fe(r){let t,n;return t=new ft({props:{slot:"text",size:1,$$slots:{default:[de]},$$scope:{ctx:r}}}),{c(){h(t.$$.fragment)},m(e,s){v(t,e,s),n=!0},p(e,s){const o={};1048576&s&&(o.$$scope={dirty:s,ctx:e}),t.$set(o)},i(e){n||(d(t.$$.fragment,e),n=!0)},o(e){p(t.$$.fragment,e),n=!1},d(e){w(t,e)}}}function pe(r){let t,n,e,s,o,i,l,a,$,c,m,f;function y(u){r[11](u)}let R={tooltip:{neutral:"Move highlighted text to user guidelines",success:"Text moved to user guidelines"},stateVariant:{success:"solid",neutral:"soft"},defaultColor:"neutral",onClick:r[10],disabled:!r[2],stickyColor:!1,persistOnTooltipClose:!0,replaceIconOnSuccess:!0,size:1,$$slots:{iconLeft:[ue],default:[ce]},$$scope:{ctx:r}};return r[5]!==void 0&&(R.state=r[5]),s=new Nt({props:R}),E.push(()=>I(s,"state",y)),a=new ie({props:{onRuleSelected:r[9],disabled:!r[2]}}),m=new Tt({props:{size:1,path:r[1],variant:"soft",onOpenLocalFile:r[12],$$slots:{text:[fe]},$$scope:{ctx:r}}}),{c(){t=z("div"),n=z("div"),e=z("div"),h(s.$$.fragment),i=P(),l=z("div"),h(a.$$.fragment),$=P(),c=z("div"),h(m.$$.fragment),F(e,"class","c-move-text-btn svelte-1yddhs6"),F(l,"class","c-move-text-btn svelte-1yddhs6"),F(n,"class","l-file-controls-left svelte-1yddhs6"),F(c,"class","l-file-controls-right svelte-1yddhs6"),F(t,"class","l-file-controls svelte-1yddhs6"),F(t,"slot","header")},m(u,x){M(u,t,x),B(t,n),B(n,e),v(s,e,null),B(n,i),B(n,l),v(a,l,null),B(t,$),B(t,c),v(m,c,null),f=!0},p(u,x){const b={};4&x&&(b.disabled=!u[2]),1048608&x&&(b.$$scope={dirty:x,ctx:u}),!o&&32&x&&(o=!0,b.state=u[5],k(()=>o=!1)),s.$set(b);const L={};4&x&&(L.disabled=!u[2]),a.$set(L);const S={};2&x&&(S.path=u[1]),2&x&&(S.onOpenLocalFile=u[12]),1048576&x&&(S.$$scope={dirty:x,ctx:u}),m.$set(S)},i(u){f||(d(s.$$.fragment,u),d(a.$$.fragment,u),d(m.$$.fragment,u),f=!0)},o(u){p(s.$$.fragment,u),p(a.$$.fragment,u),p(m.$$.fragment,u),f=!1},d(u){u&&C(t),w(s),w(a),w(m)}}}function me(r){let t,n,e,s,o,i;function l(f){r[13](f)}function a(f){r[14](f)}function $(f){r[15](f)}function c(f){r[16](f)}let m={saveFunction:r[7],variant:"surface",size:2,resize:"vertical",class:"markdown-editor",$$slots:{header:[pe]},$$scope:{ctx:r}};return r[2]!==void 0&&(m.selectedText=r[2]),r[3]!==void 0&&(m.selectionStart=r[3]),r[4]!==void 0&&(m.selectionEnd=r[4]),r[0]!==void 0&&(m.value=r[0]),t=new It({props:m}),E.push(()=>I(t,"selectedText",l)),E.push(()=>I(t,"selectionStart",a)),E.push(()=>I(t,"selectionEnd",$)),E.push(()=>I(t,"value",c)),{c(){h(t.$$.fragment)},m(f,y){v(t,f,y),i=!0},p(f,[y]){const R={};1048614&y&&(R.$$scope={dirty:y,ctx:f}),!n&&4&y&&(n=!0,R.selectedText=f[2],k(()=>n=!1)),!e&&8&y&&(e=!0,R.selectionStart=f[3],k(()=>e=!1)),!s&&16&y&&(s=!0,R.selectionEnd=f[4],k(()=>s=!1)),!o&&1&y&&(o=!0,R.value=f[0],k(()=>o=!1)),t.$set(R)},i(f){i||(d(t.$$.fragment,f),i=!0)},o(f){p(t.$$.fragment,f),i=!1},d(f){w(t,f)}}}function ge(r,t,n){let{text:e}=t,{path:s}=t;const o=new Q(_),i=new mt,l=new gt(_,o,i),a=new kt(o);let $="",c=0,m=0,f="neutral";const y=async()=>{s&&l.saveFile({repoRoot:"",pathName:s,content:e})};async function R(u){if(!$)return;let x,b,L;const S=$.slice(0,20);if(u==="userGuidelines"?(x="Move Content to User Guidelines",b=`Are you sure you want to move the selected content "${S}" to your user guidelines?`,L=Z.userGuidelines):u==="augmentGuidelines"?(x="Move Content to Workspace Guidelines",b=`Are you sure you want to move the selected content "${S}" to workspace guidelines?`,L=Z.augmentGuidelines):(x="Move Content to Rule",b=`Are you sure you want to move the selected content "${S}" to rule file "${u.rule.path}"?`,L=Z.rules),!await l.openConfirmationModal({title:x,message:b,confirmButtonText:"Move",cancelButtonText:"Cancel"}))return;u==="userGuidelines"?l.updateUserGuidelines($):u==="augmentGuidelines"?l.updateWorkspaceGuidelines($):(await a.updateRuleContent({type:u.rule.type,path:u.rule.path,content:u.rule.content+`

`+$,description:u.rule.description}),l.showNotification({message:`Moved content "${S}" to rule file "${u.rule.path}"`,type:"info",openFileMessage:{repoRoot:"",pathName:`${At}/${Ot}/${u.rule.path}`}}));const N=e.substring(0,c)+e.substring(m);return n(0,e=N),await y(),l.reportAgentSessionEvent({eventName:qt.memoriesMove,conversationId:"",eventData:{memoriesMoveData:{target:L}}}),"success"}return r.$$set=u=>{"text"in u&&n(0,e=u.text),"path"in u&&n(1,s=u.path)},[e,s,$,c,m,f,l,y,R,async function(u){await R({type:"rule",rule:u})},()=>R("userGuidelines"),function(u){f=u,n(5,f)},async()=>(l.openFile({repoRoot:"",pathName:s}),"success"),function(u){$=u,n(2,$)},function(u){c=u,n(3,c)},function(u){m=u,n(4,m)},function(u){e=u,n(0,e)}]}class he extends j{constructor(t){super(),X(this,t,ge,me,Y,{text:0,path:1})}}function ve(r){let t;return{c(){t=H("Loading memories...")},m(n,e){M(n,t,e)},p:G,i:G,o:G,d(n){n&&C(t)}}}function we(r){let t,n;return t=new he({props:{text:r[0],path:r[1]}}),{c(){h(t.$$.fragment)},m(e,s){v(t,e,s),n=!0},p(e,s){const o={};1&s&&(o.text=e[0]),2&s&&(o.path=e[1]),t.$set(o)},i(e){n||(d(t.$$.fragment,e),n=!0)},o(e){p(t.$$.fragment,e),n=!1},d(e){w(t,e)}}}function xe(r){let t,n,e,s,o,i;const l=[we,ve],a=[];function $(c,m){return c[0]!==null&&c[1]!==null?0:1}return n=$(r),e=a[n]=l[n](r),{c(){t=z("div"),e.c(),F(t,"class","c-memories-container svelte-1vchs21")},m(c,m){M(c,t,m),a[n].m(t,null),s=!0,o||(i=Et(window,"message",r[2].onMessageFromExtension),o=!0)},p(c,[m]){let f=n;n=$(c),n===f?a[n].p(c,m):(O(),p(a[f],1,1,()=>{a[f]=null}),q(),e=a[n],e?e.p(c,m):(e=a[n]=l[n](c),e.c()),d(e,1),e.m(t,null))},i(c){s||(d(e),s=!0)},o(c){p(e),s=!1},d(c){c&&C(t),a[n].d(),o=!1,i()}}}function ye(r,t,n){let e,s;const o=new Q(_),i=W(null);U(r,i,$=>n(0,e=$));const l=W(null);U(r,l,$=>n(1,s=$));const a={handleMessageFromExtension($){const c=$.data;if(c&&c.type===K.loadFile){if(c.data.content!==void 0){const m=c.data.content.replace(/^\n+/,"");i.set(m)}c.data.pathName&&l.set(c.data.pathName)}return!0}};return dt(()=>{o.registerConsumer(a),_.postMessage({type:K.memoriesLoaded})}),zt(()=>{o.dispose()}),[e,s,o,i,l]}new class extends j{constructor(r){super(),X(this,r,ye,xe,Y,{})}}({target:document.getElementById("app")});
