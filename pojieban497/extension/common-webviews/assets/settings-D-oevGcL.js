var bo=Object.defineProperty;var ko=(r,t,e)=>t in r?bo(r,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):r[t]=e;var lt=(r,t,e)=>ko(r,typeof t!="symbol"?t+"":t,e);import{A as Rt,ak as Mo,al as Ae,S as ct,i as dt,s as at,D as k,X as A,E as x,a0 as L,b as w,c as y,d as b,F as _,a6 as It,ad as ye,q as U,r as V,u as p,t as m,e as v,G as S,a8 as xn,V as $t,a2 as rt,T as Y,av as es,N as ht,n as J,Y as Xe,a as Ot,J as Mt,f as Ct,R as ln,K as Tt,L as At,M as Nt,h as oe,W as cn,I as Bn,j as Gt,a9 as dn,at as ie,ah as Dt,a1 as me,a7 as To,aa as ns,H as _n,w as Sn,x as Cn,y as bn,g as ae,z as kn,ai as Hr,Z as xt,_ as _t,$ as St,aA as Ao,ag as No,am as Mn,a4 as Wr,az as ss,ac as Kr,ab as rs,ar as os,aj as Io}from"./SpinnerAugment-CCR7AGk-.js";import{D as rn,p as Eo,S as Po,P as Qe,C as Ro,B as Yr,T as Xr,a as Qr,b as to,c as Lo,F as Oo,L as zo}from"./sound-model-Hh6Xs8ht.js";import"./design-system-init-B0YNj4mb.js";import{W as ft,a as jt,e as mt,u as fe,o as $e,I as tn,h as kt,i as Zo,b as Fo,H as is}from"./IconButtonAugment-CVWbWfwx.js";import{M as eo,R as jo}from"./message-broker-D_dlQCzo.js";import{a as Do,S as Uo,b as Vo,c as qo,N as Bo,J as Go,L as Jo,G as Ho,F as ee,d as Et,M as be,D as Wo,e as Ko,f as Yo,R as Xo,g as Qo,h as ti,i as ei,C as ni,j as si,T as ri,U as oi,k as ii}from"./mcp-logo-CwhjBp6K.js";import{T as Ln,R as Wt,L as bt,C as Gn,A as ai,E as li}from"./chevron-down-Di3C5ykp.js";import{o as On,G as jn,T as le,D as vt,d as zn,J as on,A as as,b as ci,c as di}from"./index-DaLJ_QUV.js";import{V as no}from"./VSCodeCodicon-D6TsidP1.js";import{o as ui}from"./keypress-DD1aQVr0.js";import{A as pi}from"./async-messaging-BnYTstSc.js";import{D as mi}from"./Drawer-C-YZ_TQw.js";import{B as yt}from"./ButtonAugment-JhlUwgSi.js";import{T as se,a as so}from"./TextTooltipAugment-QVDAcl-O.js";import{C as Tn}from"./CalloutAugment-D1eOn47Z.js";import{E as fi}from"./ellipsis-DUJFhkV3.js";import{P as $i}from"./pen-to-square-CrZjDplM.js";import{T as ro}from"./TextAreaAugment-20MWk3hd.js";import{C as hi,S as gi}from"./copy-CzH8IZOA.js";import{C as oo,a as vi,T as Jn}from"./CollapseButtonAugment-DvFOUTxy.js";import{M as yi}from"./index-DJGUS2rb.js";import{M as wi,R as xi}from"./rules-model-CBinLWqn.js";import{C as _i,E as Si}from"./chat-flags-model-B-EOBEov.js";import{R as Ci}from"./RulesModeSelector-CzATbTqz.js";import{C as bi}from"./CardAugment-Cjl8BxE0.js";import"./types-CGlLNakm.js";import"./file-paths-BhRi9crS.js";import"./BaseTextInput-BomIiYnE.js";import"./index-BHzmr0EY.js";import"./index-B60hMJvm.js";const Le={maxMS:9e5,initialMS:6e4,mult:2,maxSteps:4};class ki{constructor(t,e=Le){lt(this,"timerId",null);lt(this,"currentMS");lt(this,"step",0);lt(this,"params");this.callback=t;const n={...e};n.maxMS<0&&(console.warn("PollingManager: Negative maxMS detected, using default value of 15 minutes"),n.maxMS=Le.maxMS),n.initialMS<=0&&(console.warn("PollingManager: Negative or zero initialMS detected, using default value of 1 minute"),n.initialMS=Le.initialMS),n.mult<=0&&(console.warn("PollingManager: Negative or zero multiplier detected, using default value of 2"),n.mult=Le.mult),n.maxSteps!==void 0&&n.maxSteps<0&&(console.warn("PollingManager: Negative maxSteps detected, using default value of 4"),n.maxSteps=Le.maxSteps),this.params=n,this.currentMS=this.params.maxMS}startPolling(){this.stopPolling(),this.currentMS=this.params.initialMS,this.step=0,this.safeExecute(),this.scheduleNext()}stopPolling(){this.timerId!==null&&(window.clearTimeout(this.timerId),this.timerId=null)}dispose(){this.stopPolling()}scheduleNext(){this.timerId=window.setTimeout(()=>{if(this.safeExecute(),this.params.maxMS===0){if(this.step++,this.params.maxSteps!==void 0&&this.step>=this.params.maxSteps)return void this.stopPolling()}else this.currentMS<this.params.maxMS&&(this.step++,this.params.maxSteps!==void 0&&this.step>=this.params.maxSteps?(this.currentMS=this.params.maxMS,this.step=0):this.currentMS=Math.min(this.currentMS*this.params.mult,this.params.maxMS));this.scheduleNext()},this.currentMS)}safeExecute(){try{const t=this.callback();t instanceof Promise&&t.catch(e=>console.error("Error in polling callback:",e))}catch(t){console.error("Error in polling callback:",t)}}}class Mi{constructor(t){lt(this,"configs",Rt([]));lt(this,"pollingManager");lt(this,"_enableDebugFeatures",Rt(!1));lt(this,"_settingsComponentSupported",Rt({workspaceContext:!1,mcpServerList:!1,mcpServerImport:!1,orientation:!1,remoteTools:!1,userGuidelines:!1,terminal:!1,rules:!1}));lt(this,"_enableAgentMode",Rt(!1));lt(this,"_enableInitialOrientation",Rt(!1));lt(this,"_userTier",Rt("unknown"));lt(this,"_guidelines",Rt({}));this._host=t,this.pollingManager=new ki(()=>this.requestToolStatus(!1),{maxMS:0,initialMS:2e3,mult:1,maxSteps:150}),this.requestToolStatus(!1)}transformToolDisplay(t){const e=!t.isConfigured,n=t.oauthUrl;if(t.identifier.hostName===Ln.remoteToolHost){let s=t.identifier.toolId;switch(typeof s=="string"&&/^\d+$/.test(s)&&(s=Number(s)),s){case Wt.GitHubApi:return{displayName:"GitHub",description:"Configure GitHub API access for repository operations",icon:Ho,requiresAuthentication:e,authUrl:n};case Wt.Linear:return{displayName:"Linear",description:"Configure Linear API access for issue tracking",icon:Jo,requiresAuthentication:e,authUrl:n};case Wt.Jira:return{displayName:"Jira",description:"Configure Jira API access for issue tracking",icon:Go,requiresAuthentication:e,authUrl:n};case Wt.Notion:return{displayName:"Notion",description:"Configure Notion API access",icon:Bo,requiresAuthentication:e,authUrl:n};case Wt.Confluence:return{displayName:"Confluence",description:"Configure Confluence API access",icon:qo,requiresAuthentication:e,authUrl:n};case Wt.WebSearch:return{displayName:"Web Search",description:"Configure web search capabilities",icon:Vo,requiresAuthentication:e,authUrl:n};case Wt.Supabase:return{displayName:"Supabase",description:"Configure Supabase API access",icon:Uo,requiresAuthentication:e,authUrl:n};case Wt.Glean:return{displayName:"Glean",description:"Configure Glean API access",icon:Do,requiresAuthentication:e,authUrl:n};case Wt.Unknown:return{displayName:"Unknown",description:"Unknown tool",requiresAuthentication:e,authUrl:n};default:throw new Error(`Unhandled RemoteToolId: ${s}`)}}else if(t.identifier.hostName===Ln.localToolHost){const s=t.identifier.toolId;switch(s){case bt.readFile:case bt.editFile:case bt.saveFile:case bt.launchProcess:case bt.killProcess:case bt.readProcess:case bt.writeProcess:case bt.listProcesses:case bt.waitProcess:case bt.openBrowser:case bt.clarify:case bt.onboardingSubAgent:case bt.strReplaceEditor:case bt.remember:case bt.diagnostics:case bt.setupScript:case bt.readTerminal:case bt.gitCommitRetrieval:case bt.spawnSubAgent:return{displayName:t.definition.name.toString(),description:"Local tool",icon:ee,requiresAuthentication:e,authUrl:n};default:throw new Error(`Unhandled LocalToolType: ${s}`)}}else if(t.identifier.hostName===Ln.sidecarToolHost){const s=t.identifier.toolId;switch(s){case Et.codebaseRetrieval:return{displayName:"Code Search",description:"Configure codebase search capabilities",icon:be,requiresAuthentication:e,authUrl:n};case Et.shell:return{displayName:"Shell",description:"Shell",icon:be,requiresAuthentication:e,authUrl:n};case Et.strReplaceEditor:return{displayName:"File Edit",description:"File Editor",icon:be,requiresAuthentication:e,authUrl:n};case Et.view:return{displayName:"File View",description:"File Viewer",icon:be,requiresAuthentication:e,authUrl:n};case Et.webFetch:return{displayName:"Web Fetch",description:"Retrieve information from the web",icon:be,requiresAuthentication:e,authUrl:n};case Et.removeFiles:return{displayName:"Remove Files",description:"Remove files from the codebase",icon:Yo,requiresAuthentication:e,authUrl:n};case Et.remember:return{displayName:t.definition.name.toString(),description:"Remember",icon:ee,requiresAuthentication:e,authUrl:n};case Et.saveFile:return{displayName:"Save File",description:"Save a new file",icon:Ko,requiresAuthentication:e,authUrl:n};case Et.viewTaskList:return{displayName:"View Task List",description:"View the current task list",icon:ee,requiresAuthentication:e,authUrl:n};case Et.reorganizeTaskList:return{displayName:"Reorganize Task List",description:"Reorganize the task list structure for major restructuring",icon:ee,requiresAuthentication:e,authUrl:n};case Et.viewRangeUntruncated:return{displayName:t.definition.name.toString(),description:"View Range",icon:ee,requiresAuthentication:e,authUrl:n};case Et.updateTasks:return{displayName:"Update Tasks",description:"Update one or more tasks in the task list",icon:ee,requiresAuthentication:e,authUrl:n};case Et.addTasks:return{displayName:"Add Tasks",description:"Add one or more new tasks to the task list",icon:ee,requiresAuthentication:e,authUrl:n};case Et.searchUntruncated:return{displayName:t.definition.name.toString(),description:"Search Untruncated",icon:ee,requiresAuthentication:e,authUrl:n};case Et.renderMermaid:return{displayName:"View Mermaid Diagram",description:"View a mermaid diagram",icon:Wo,requiresAuthentication:e,authUrl:n};case Et.grepSearch:return{displayName:"Grep search",description:"Run grep search",icon:be,requiresAuthentication:e,authUrl:n};default:throw new Error(`Unhandled SidecarToolType: ${s}`)}}return{displayName:t.definition.name.toString(),description:t.definition.description||"",requiresAuthentication:e,authUrl:n}}handleMessageFromExtension(t){const e=t.data;switch(e.type){case ft.toolConfigInitialize:return this.createConfigsFromHostTools(e.data.hostTools,e.data.toolConfigs),e.data&&e.data.enableDebugFeatures!==void 0&&this._enableDebugFeatures.set(e.data.enableDebugFeatures),e.data&&e.data.settingsComponentSupported!==void 0&&this._settingsComponentSupported.set(e.data.settingsComponentSupported),e.data.enableAgentMode!==void 0&&this._enableAgentMode.set(e.data.enableAgentMode),e.data.enableInitialOrientation!==void 0&&this._enableInitialOrientation.set(e.data.enableInitialOrientation),e.data.userTier!==void 0&&this._userTier.set(e.data.userTier),e.data.guidelines!==void 0&&this._guidelines.set(e.data.guidelines),!0;case ft.toolConfigDefinitionsResponse:return this.configs.update(n=>this.createConfigsFromHostTools(e.data.hostTools,[]).map(s=>{const o=n.find(i=>i.name===s.name);return o?{...o,displayName:s.displayName,description:s.description,icon:s.icon,requiresAuthentication:s.requiresAuthentication,authUrl:s.authUrl,isConfigured:s.isConfigured,toolApprovalConfig:s.toolApprovalConfig}:s})),!0}return!1}createConfigsFromHostTools(t,e){return t.map(n=>{const s=this.transformToolDisplay(n),o=e.find(l=>l.name===n.definition.name),i=(o==null?void 0:o.isConfigured)??!s.requiresAuthentication;return{config:(o==null?void 0:o.config)??{},configString:JSON.stringify((o==null?void 0:o.config)??{},null,2),isConfigured:i,name:n.definition.name.toString(),displayName:s.displayName,description:s.description,identifier:n.identifier,icon:s.icon,requiresAuthentication:s.requiresAuthentication,authUrl:s.authUrl,showStatus:!1,statusMessage:"",statusType:"info",toolApprovalConfig:n.toolApprovalConfig}})}getConfigs(){return this.configs}isDisplayableTool(t){return["github","linear","notion","jira","confluence","supabase"].includes(t.displayName.toLowerCase())}getDisplayableTools(){return Mo(this.configs,t=>{const e=t.filter(s=>this.isDisplayableTool(s)),n=new Map;for(const s of e)n.set(s.displayName,s);return Array.from(n.values()).sort((s,o)=>{const i={GitHub:1,Linear:2,Notion:3},l=Number.MAX_SAFE_INTEGER,a=i[s.displayName]||l,c=i[o.displayName]||l;return a<l&&c<l||a===l&&c===l?a!==c?a-c:s.displayName.localeCompare(o.displayName):a-c})})}saveConfig(t){this.startPolling()}notifyLoaded(){this._host.postMessage({type:ft.toolConfigLoaded})}startPolling(){this.pollingManager.startPolling()}requestToolStatus(t=!0){this._host.postMessage({type:ft.toolConfigGetDefinitions,data:{useCache:t}})}dispose(){this.pollingManager.dispose()}getEnableDebugFeatures(){return this._enableDebugFeatures}getEnableAgentMode(){return this._enableAgentMode}getEnableInitialOrientation(){return this._enableInitialOrientation}getUserTier(){return this._userTier}getGuidelines(){return this._guidelines}updateLocalUserGuidelines(t){this._guidelines.update(e=>e.userGuidelines?{...e,userGuidelines:{...e.userGuidelines,contents:t,enabled:t.length>0}}:e)}updateToolApprovalConfig(t,e){this.configs.update(n=>n.map(s=>s.identifier.toolId===t.toolId&&s.identifier.hostName===t.hostName?{...s,toolApprovalConfig:e}:s))}getSettingsComponentSupported(){return this._settingsComponentSupported}}var it,Dn;(function(r){r.assertEqual=t=>t,r.assertIs=function(t){},r.assertNever=function(t){throw new Error},r.arrayToEnum=t=>{const e={};for(const n of t)e[n]=n;return e},r.getValidEnumValues=t=>{const e=r.objectKeys(t).filter(s=>typeof t[t[s]]!="number"),n={};for(const s of e)n[s]=t[s];return r.objectValues(n)},r.objectValues=t=>r.objectKeys(t).map(function(e){return t[e]}),r.objectKeys=typeof Object.keys=="function"?t=>Object.keys(t):t=>{const e=[];for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.push(n);return e},r.find=(t,e)=>{for(const n of t)if(e(n))return n},r.isInteger=typeof Number.isInteger=="function"?t=>Number.isInteger(t):t=>typeof t=="number"&&isFinite(t)&&Math.floor(t)===t,r.joinValues=function(t,e=" | "){return t.map(n=>typeof n=="string"?`'${n}'`:n).join(e)},r.jsonStringifyReplacer=(t,e)=>typeof e=="bigint"?e.toString():e})(it||(it={})),function(r){r.mergeShapes=(t,e)=>({...t,...e})}(Dn||(Dn={}));const B=it.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Kt=r=>{switch(typeof r){case"undefined":return B.undefined;case"string":return B.string;case"number":return isNaN(r)?B.nan:B.number;case"boolean":return B.boolean;case"function":return B.function;case"bigint":return B.bigint;case"symbol":return B.symbol;case"object":return Array.isArray(r)?B.array:r===null?B.null:r.then&&typeof r.then=="function"&&r.catch&&typeof r.catch=="function"?B.promise:typeof Map<"u"&&r instanceof Map?B.map:typeof Set<"u"&&r instanceof Set?B.set:typeof Date<"u"&&r instanceof Date?B.date:B.object;default:return B.unknown}},O=it.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class zt extends Error{get errors(){return this.issues}constructor(t){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};const e=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,e):this.__proto__=e,this.name="ZodError",this.issues=t}format(t){const e=t||function(o){return o.message},n={_errors:[]},s=o=>{for(const i of o.issues)if(i.code==="invalid_union")i.unionErrors.map(s);else if(i.code==="invalid_return_type")s(i.returnTypeError);else if(i.code==="invalid_arguments")s(i.argumentsError);else if(i.path.length===0)n._errors.push(e(i));else{let l=n,a=0;for(;a<i.path.length;){const c=i.path[a];a===i.path.length-1?(l[c]=l[c]||{_errors:[]},l[c]._errors.push(e(i))):l[c]=l[c]||{_errors:[]},l=l[c],a++}}};return s(this),n}static assert(t){if(!(t instanceof zt))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,it.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=e=>e.message){const e={},n=[];for(const s of this.issues)s.path.length>0?(e[s.path[0]]=e[s.path[0]]||[],e[s.path[0]].push(t(s))):n.push(t(s));return{formErrors:n,fieldErrors:e}}get formErrors(){return this.flatten()}}zt.create=r=>new zt(r);const Ne=(r,t)=>{let e;switch(r.code){case O.invalid_type:e=r.received===B.undefined?"Required":`Expected ${r.expected}, received ${r.received}`;break;case O.invalid_literal:e=`Invalid literal value, expected ${JSON.stringify(r.expected,it.jsonStringifyReplacer)}`;break;case O.unrecognized_keys:e=`Unrecognized key(s) in object: ${it.joinValues(r.keys,", ")}`;break;case O.invalid_union:e="Invalid input";break;case O.invalid_union_discriminator:e=`Invalid discriminator value. Expected ${it.joinValues(r.options)}`;break;case O.invalid_enum_value:e=`Invalid enum value. Expected ${it.joinValues(r.options)}, received '${r.received}'`;break;case O.invalid_arguments:e="Invalid function arguments";break;case O.invalid_return_type:e="Invalid function return type";break;case O.invalid_date:e="Invalid date";break;case O.invalid_string:typeof r.validation=="object"?"includes"in r.validation?(e=`Invalid input: must include "${r.validation.includes}"`,typeof r.validation.position=="number"&&(e=`${e} at one or more positions greater than or equal to ${r.validation.position}`)):"startsWith"in r.validation?e=`Invalid input: must start with "${r.validation.startsWith}"`:"endsWith"in r.validation?e=`Invalid input: must end with "${r.validation.endsWith}"`:it.assertNever(r.validation):e=r.validation!=="regex"?`Invalid ${r.validation}`:"Invalid";break;case O.too_small:e=r.type==="array"?`Array must contain ${r.exact?"exactly":r.inclusive?"at least":"more than"} ${r.minimum} element(s)`:r.type==="string"?`String must contain ${r.exact?"exactly":r.inclusive?"at least":"over"} ${r.minimum} character(s)`:r.type==="number"?`Number must be ${r.exact?"exactly equal to ":r.inclusive?"greater than or equal to ":"greater than "}${r.minimum}`:r.type==="date"?`Date must be ${r.exact?"exactly equal to ":r.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(r.minimum))}`:"Invalid input";break;case O.too_big:e=r.type==="array"?`Array must contain ${r.exact?"exactly":r.inclusive?"at most":"less than"} ${r.maximum} element(s)`:r.type==="string"?`String must contain ${r.exact?"exactly":r.inclusive?"at most":"under"} ${r.maximum} character(s)`:r.type==="number"?`Number must be ${r.exact?"exactly":r.inclusive?"less than or equal to":"less than"} ${r.maximum}`:r.type==="bigint"?`BigInt must be ${r.exact?"exactly":r.inclusive?"less than or equal to":"less than"} ${r.maximum}`:r.type==="date"?`Date must be ${r.exact?"exactly":r.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(r.maximum))}`:"Invalid input";break;case O.custom:e="Invalid input";break;case O.invalid_intersection_types:e="Intersection results could not be merged";break;case O.not_multiple_of:e=`Number must be a multiple of ${r.multipleOf}`;break;case O.not_finite:e="Number must be finite";break;default:e=t.defaultError,it.assertNever(r)}return{message:e}};let io=Ne;function un(){return io}const pn=r=>{const{data:t,path:e,errorMaps:n,issueData:s}=r,o=[...e,...s.path||[]],i={...s,path:o};if(s.message!==void 0)return{...s,path:o,message:s.message};let l="";const a=n.filter(c=>!!c).slice().reverse();for(const c of a)l=c(i,{data:t,defaultError:l}).message;return{...s,path:o,message:l}};function D(r,t){const e=un(),n=pn({issueData:t,data:r.data,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,e,e===Ne?void 0:Ne].filter(s=>!!s)});r.common.issues.push(n)}class Pt{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,e){const n=[];for(const s of e){if(s.status==="aborted")return X;s.status==="dirty"&&t.dirty(),n.push(s.value)}return{status:t.value,value:n}}static async mergeObjectAsync(t,e){const n=[];for(const s of e){const o=await s.key,i=await s.value;n.push({key:o,value:i})}return Pt.mergeObjectSync(t,n)}static mergeObjectSync(t,e){const n={};for(const s of e){const{key:o,value:i}=s;if(o.status==="aborted"||i.status==="aborted")return X;o.status==="dirty"&&t.dirty(),i.status==="dirty"&&t.dirty(),o.value==="__proto__"||i.value===void 0&&!s.alwaysSet||(n[o.value]=i.value)}return{status:t.value,value:n}}}const X=Object.freeze({status:"aborted"}),mn=r=>({status:"dirty",value:r}),Lt=r=>({status:"valid",value:r}),Un=r=>r.status==="aborted",Vn=r=>r.status==="dirty",we=r=>r.status==="valid",Fe=r=>typeof Promise<"u"&&r instanceof Promise;function fn(r,t,e,n){if(typeof t=="function"?r!==t||!n:!t.has(r))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t.get(r)}function ao(r,t,e,n,s){if(typeof t=="function"?r!==t||!s:!t.has(r))throw new TypeError("Cannot write private member to an object whose class did not declare it");return t.set(r,e),e}var H,Oe,ze;typeof SuppressedError=="function"&&SuppressedError,function(r){r.errToObj=t=>typeof t=="string"?{message:t}:t||{},r.toString=t=>typeof t=="string"?t:t==null?void 0:t.message}(H||(H={}));class Jt{constructor(t,e,n,s){this._cachedPath=[],this.parent=t,this.data=e,this._path=n,this._key=s}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const ls=(r,t)=>{if(we(t))return{success:!0,data:t.value};if(!r.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const e=new zt(r.common.issues);return this._error=e,this._error}}};function Q(r){if(!r)return{};const{errorMap:t,invalid_type_error:e,required_error:n,description:s}=r;if(t&&(e||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:s}:{errorMap:(o,i)=>{var l,a;const{message:c}=r;return o.code==="invalid_enum_value"?{message:c??i.defaultError}:i.data===void 0?{message:(l=c??n)!==null&&l!==void 0?l:i.defaultError}:o.code!=="invalid_type"?{message:i.defaultError}:{message:(a=c??e)!==null&&a!==void 0?a:i.defaultError}},description:s}}class nt{get description(){return this._def.description}_getType(t){return Kt(t.data)}_getOrReturnCtx(t,e){return e||{common:t.parent.common,data:t.data,parsedType:Kt(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new Pt,ctx:{common:t.parent.common,data:t.data,parsedType:Kt(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const e=this._parse(t);if(Fe(e))throw new Error("Synchronous parse encountered promise.");return e}_parseAsync(t){const e=this._parse(t);return Promise.resolve(e)}parse(t,e){const n=this.safeParse(t,e);if(n.success)return n.data;throw n.error}safeParse(t,e){var n;const s={common:{issues:[],async:(n=e==null?void 0:e.async)!==null&&n!==void 0&&n,contextualErrorMap:e==null?void 0:e.errorMap},path:(e==null?void 0:e.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Kt(t)},o=this._parseSync({data:t,path:s.path,parent:s});return ls(s,o)}"~validate"(t){var e,n;const s={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Kt(t)};if(!this["~standard"].async)try{const o=this._parseSync({data:t,path:[],parent:s});return we(o)?{value:o.value}:{issues:s.common.issues}}catch(o){!((n=(e=o==null?void 0:o.message)===null||e===void 0?void 0:e.toLowerCase())===null||n===void 0)&&n.includes("encountered")&&(this["~standard"].async=!0),s.common={issues:[],async:!0}}return this._parseAsync({data:t,path:[],parent:s}).then(o=>we(o)?{value:o.value}:{issues:s.common.issues})}async parseAsync(t,e){const n=await this.safeParseAsync(t,e);if(n.success)return n.data;throw n.error}async safeParseAsync(t,e){const n={common:{issues:[],contextualErrorMap:e==null?void 0:e.errorMap,async:!0},path:(e==null?void 0:e.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Kt(t)},s=this._parse({data:t,path:n.path,parent:n}),o=await(Fe(s)?s:Promise.resolve(s));return ls(n,o)}refine(t,e){const n=s=>typeof e=="string"||e===void 0?{message:e}:typeof e=="function"?e(s):e;return this._refinement((s,o)=>{const i=t(s),l=()=>o.addIssue({code:O.custom,...n(s)});return typeof Promise<"u"&&i instanceof Promise?i.then(a=>!!a||(l(),!1)):!!i||(l(),!1)})}refinement(t,e){return this._refinement((n,s)=>!!t(n)||(s.addIssue(typeof e=="function"?e(n,s):e),!1))}_refinement(t){return new Vt({schema:this,typeName:K.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:e=>this["~validate"](e)}}optional(){return Bt.create(this,this._def)}nullable(){return pe.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return qt.create(this)}promise(){return Ee.create(this,this._def)}or(t){return Ve.create([this,t],this._def)}and(t){return qe.create(this,t,this._def)}transform(t){return new Vt({...Q(this._def),schema:this,typeName:K.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const e=typeof t=="function"?t:()=>t;return new He({...Q(this._def),innerType:this,defaultValue:e,typeName:K.ZodDefault})}brand(){return new Hn({typeName:K.ZodBranded,type:this,...Q(this._def)})}catch(t){const e=typeof t=="function"?t:()=>t;return new We({...Q(this._def),innerType:this,catchValue:e,typeName:K.ZodCatch})}describe(t){return new this.constructor({...this._def,description:t})}pipe(t){return en.create(this,t)}readonly(){return Ke.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const Ti=/^c[^\s-]{8,}$/i,Ai=/^[0-9a-z]+$/,Ni=/^[0-9A-HJKMNP-TV-Z]{26}$/i,Ii=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,Ei=/^[a-z0-9_-]{21}$/i,Pi=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,Ri=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,Li=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i;let Zn;const Oi=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,zi=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,Zi=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,Fi=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,ji=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,Di=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,lo="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",Ui=new RegExp(`^${lo}$`);function co(r){let t="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return r.precision?t=`${t}\\.\\d{${r.precision}}`:r.precision==null&&(t=`${t}(\\.\\d+)?`),t}function uo(r){let t=`${lo}T${co(r)}`;const e=[];return e.push(r.local?"Z?":"Z"),r.offset&&e.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${e.join("|")})`,new RegExp(`^${t}$`)}function Vi(r,t){if(!Pi.test(r))return!1;try{const[e]=r.split("."),n=e.replace(/-/g,"+").replace(/_/g,"/").padEnd(e.length+(4-e.length%4)%4,"="),s=JSON.parse(atob(n));return typeof s=="object"&&s!==null&&!(!s.typ||!s.alg)&&(!t||s.alg===t)}catch{return!1}}function qi(r,t){return!(t!=="v4"&&t||!zi.test(r))||!(t!=="v6"&&t||!Fi.test(r))}class Ut extends nt{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==B.string){const i=this._getOrReturnCtx(t);return D(i,{code:O.invalid_type,expected:B.string,received:i.parsedType}),X}const e=new Pt;let n;for(const i of this._def.checks)if(i.kind==="min")t.data.length<i.value&&(n=this._getOrReturnCtx(t,n),D(n,{code:O.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),e.dirty());else if(i.kind==="max")t.data.length>i.value&&(n=this._getOrReturnCtx(t,n),D(n,{code:O.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),e.dirty());else if(i.kind==="length"){const l=t.data.length>i.value,a=t.data.length<i.value;(l||a)&&(n=this._getOrReturnCtx(t,n),l?D(n,{code:O.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):a&&D(n,{code:O.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),e.dirty())}else if(i.kind==="email")Li.test(t.data)||(n=this._getOrReturnCtx(t,n),D(n,{validation:"email",code:O.invalid_string,message:i.message}),e.dirty());else if(i.kind==="emoji")Zn||(Zn=new RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")),Zn.test(t.data)||(n=this._getOrReturnCtx(t,n),D(n,{validation:"emoji",code:O.invalid_string,message:i.message}),e.dirty());else if(i.kind==="uuid")Ii.test(t.data)||(n=this._getOrReturnCtx(t,n),D(n,{validation:"uuid",code:O.invalid_string,message:i.message}),e.dirty());else if(i.kind==="nanoid")Ei.test(t.data)||(n=this._getOrReturnCtx(t,n),D(n,{validation:"nanoid",code:O.invalid_string,message:i.message}),e.dirty());else if(i.kind==="cuid")Ti.test(t.data)||(n=this._getOrReturnCtx(t,n),D(n,{validation:"cuid",code:O.invalid_string,message:i.message}),e.dirty());else if(i.kind==="cuid2")Ai.test(t.data)||(n=this._getOrReturnCtx(t,n),D(n,{validation:"cuid2",code:O.invalid_string,message:i.message}),e.dirty());else if(i.kind==="ulid")Ni.test(t.data)||(n=this._getOrReturnCtx(t,n),D(n,{validation:"ulid",code:O.invalid_string,message:i.message}),e.dirty());else if(i.kind==="url")try{new URL(t.data)}catch{n=this._getOrReturnCtx(t,n),D(n,{validation:"url",code:O.invalid_string,message:i.message}),e.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(t.data)||(n=this._getOrReturnCtx(t,n),D(n,{validation:"regex",code:O.invalid_string,message:i.message}),e.dirty())):i.kind==="trim"?t.data=t.data.trim():i.kind==="includes"?t.data.includes(i.value,i.position)||(n=this._getOrReturnCtx(t,n),D(n,{code:O.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),e.dirty()):i.kind==="toLowerCase"?t.data=t.data.toLowerCase():i.kind==="toUpperCase"?t.data=t.data.toUpperCase():i.kind==="startsWith"?t.data.startsWith(i.value)||(n=this._getOrReturnCtx(t,n),D(n,{code:O.invalid_string,validation:{startsWith:i.value},message:i.message}),e.dirty()):i.kind==="endsWith"?t.data.endsWith(i.value)||(n=this._getOrReturnCtx(t,n),D(n,{code:O.invalid_string,validation:{endsWith:i.value},message:i.message}),e.dirty()):i.kind==="datetime"?uo(i).test(t.data)||(n=this._getOrReturnCtx(t,n),D(n,{code:O.invalid_string,validation:"datetime",message:i.message}),e.dirty()):i.kind==="date"?Ui.test(t.data)||(n=this._getOrReturnCtx(t,n),D(n,{code:O.invalid_string,validation:"date",message:i.message}),e.dirty()):i.kind==="time"?new RegExp(`^${co(i)}$`).test(t.data)||(n=this._getOrReturnCtx(t,n),D(n,{code:O.invalid_string,validation:"time",message:i.message}),e.dirty()):i.kind==="duration"?Ri.test(t.data)||(n=this._getOrReturnCtx(t,n),D(n,{validation:"duration",code:O.invalid_string,message:i.message}),e.dirty()):i.kind==="ip"?(s=t.data,((o=i.version)!=="v4"&&o||!Oi.test(s))&&(o!=="v6"&&o||!Zi.test(s))&&(n=this._getOrReturnCtx(t,n),D(n,{validation:"ip",code:O.invalid_string,message:i.message}),e.dirty())):i.kind==="jwt"?Vi(t.data,i.alg)||(n=this._getOrReturnCtx(t,n),D(n,{validation:"jwt",code:O.invalid_string,message:i.message}),e.dirty()):i.kind==="cidr"?qi(t.data,i.version)||(n=this._getOrReturnCtx(t,n),D(n,{validation:"cidr",code:O.invalid_string,message:i.message}),e.dirty()):i.kind==="base64"?ji.test(t.data)||(n=this._getOrReturnCtx(t,n),D(n,{validation:"base64",code:O.invalid_string,message:i.message}),e.dirty()):i.kind==="base64url"?Di.test(t.data)||(n=this._getOrReturnCtx(t,n),D(n,{validation:"base64url",code:O.invalid_string,message:i.message}),e.dirty()):it.assertNever(i);var s,o;return{status:e.value,value:t.data}}_regex(t,e,n){return this.refinement(s=>t.test(s),{validation:e,code:O.invalid_string,...H.errToObj(n)})}_addCheck(t){return new Ut({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...H.errToObj(t)})}url(t){return this._addCheck({kind:"url",...H.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...H.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...H.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",...H.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...H.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...H.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...H.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",...H.errToObj(t)})}base64url(t){return this._addCheck({kind:"base64url",...H.errToObj(t)})}jwt(t){return this._addCheck({kind:"jwt",...H.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...H.errToObj(t)})}cidr(t){return this._addCheck({kind:"cidr",...H.errToObj(t)})}datetime(t){var e,n;return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:(t==null?void 0:t.precision)===void 0?null:t==null?void 0:t.precision,offset:(e=t==null?void 0:t.offset)!==null&&e!==void 0&&e,local:(n=t==null?void 0:t.local)!==null&&n!==void 0&&n,...H.errToObj(t==null?void 0:t.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:(t==null?void 0:t.precision)===void 0?null:t==null?void 0:t.precision,...H.errToObj(t==null?void 0:t.message)})}duration(t){return this._addCheck({kind:"duration",...H.errToObj(t)})}regex(t,e){return this._addCheck({kind:"regex",regex:t,...H.errToObj(e)})}includes(t,e){return this._addCheck({kind:"includes",value:t,position:e==null?void 0:e.position,...H.errToObj(e==null?void 0:e.message)})}startsWith(t,e){return this._addCheck({kind:"startsWith",value:t,...H.errToObj(e)})}endsWith(t,e){return this._addCheck({kind:"endsWith",value:t,...H.errToObj(e)})}min(t,e){return this._addCheck({kind:"min",value:t,...H.errToObj(e)})}max(t,e){return this._addCheck({kind:"max",value:t,...H.errToObj(e)})}length(t,e){return this._addCheck({kind:"length",value:t,...H.errToObj(e)})}nonempty(t){return this.min(1,H.errToObj(t))}trim(){return new Ut({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Ut({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Ut({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isCIDR(){return!!this._def.checks.find(t=>t.kind==="cidr")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get isBase64url(){return!!this._def.checks.find(t=>t.kind==="base64url")}get minLength(){let t=null;for(const e of this._def.checks)e.kind==="min"&&(t===null||e.value>t)&&(t=e.value);return t}get maxLength(){let t=null;for(const e of this._def.checks)e.kind==="max"&&(t===null||e.value<t)&&(t=e.value);return t}}function Bi(r,t){const e=(r.toString().split(".")[1]||"").length,n=(t.toString().split(".")[1]||"").length,s=e>n?e:n;return parseInt(r.toFixed(s).replace(".",""))%parseInt(t.toFixed(s).replace(".",""))/Math.pow(10,s)}Ut.create=r=>{var t;return new Ut({checks:[],typeName:K.ZodString,coerce:(t=r==null?void 0:r.coerce)!==null&&t!==void 0&&t,...Q(r)})};class ce extends nt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==B.number){const s=this._getOrReturnCtx(t);return D(s,{code:O.invalid_type,expected:B.number,received:s.parsedType}),X}let e;const n=new Pt;for(const s of this._def.checks)s.kind==="int"?it.isInteger(t.data)||(e=this._getOrReturnCtx(t,e),D(e,{code:O.invalid_type,expected:"integer",received:"float",message:s.message}),n.dirty()):s.kind==="min"?(s.inclusive?t.data<s.value:t.data<=s.value)&&(e=this._getOrReturnCtx(t,e),D(e,{code:O.too_small,minimum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),n.dirty()):s.kind==="max"?(s.inclusive?t.data>s.value:t.data>=s.value)&&(e=this._getOrReturnCtx(t,e),D(e,{code:O.too_big,maximum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),n.dirty()):s.kind==="multipleOf"?Bi(t.data,s.value)!==0&&(e=this._getOrReturnCtx(t,e),D(e,{code:O.not_multiple_of,multipleOf:s.value,message:s.message}),n.dirty()):s.kind==="finite"?Number.isFinite(t.data)||(e=this._getOrReturnCtx(t,e),D(e,{code:O.not_finite,message:s.message}),n.dirty()):it.assertNever(s);return{status:n.value,value:t.data}}gte(t,e){return this.setLimit("min",t,!0,H.toString(e))}gt(t,e){return this.setLimit("min",t,!1,H.toString(e))}lte(t,e){return this.setLimit("max",t,!0,H.toString(e))}lt(t,e){return this.setLimit("max",t,!1,H.toString(e))}setLimit(t,e,n,s){return new ce({...this._def,checks:[...this._def.checks,{kind:t,value:e,inclusive:n,message:H.toString(s)}]})}_addCheck(t){return new ce({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:H.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:H.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:H.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:H.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:H.toString(t)})}multipleOf(t,e){return this._addCheck({kind:"multipleOf",value:t,message:H.toString(e)})}finite(t){return this._addCheck({kind:"finite",message:H.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:H.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:H.toString(t)})}get minValue(){let t=null;for(const e of this._def.checks)e.kind==="min"&&(t===null||e.value>t)&&(t=e.value);return t}get maxValue(){let t=null;for(const e of this._def.checks)e.kind==="max"&&(t===null||e.value<t)&&(t=e.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&it.isInteger(t.value))}get isFinite(){let t=null,e=null;for(const n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(e===null||n.value>e)&&(e=n.value):n.kind==="max"&&(t===null||n.value<t)&&(t=n.value)}return Number.isFinite(e)&&Number.isFinite(t)}}ce.create=r=>new ce({checks:[],typeName:K.ZodNumber,coerce:(r==null?void 0:r.coerce)||!1,...Q(r)});class de extends nt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce)try{t.data=BigInt(t.data)}catch{return this._getInvalidInput(t)}if(this._getType(t)!==B.bigint)return this._getInvalidInput(t);let e;const n=new Pt;for(const s of this._def.checks)s.kind==="min"?(s.inclusive?t.data<s.value:t.data<=s.value)&&(e=this._getOrReturnCtx(t,e),D(e,{code:O.too_small,type:"bigint",minimum:s.value,inclusive:s.inclusive,message:s.message}),n.dirty()):s.kind==="max"?(s.inclusive?t.data>s.value:t.data>=s.value)&&(e=this._getOrReturnCtx(t,e),D(e,{code:O.too_big,type:"bigint",maximum:s.value,inclusive:s.inclusive,message:s.message}),n.dirty()):s.kind==="multipleOf"?t.data%s.value!==BigInt(0)&&(e=this._getOrReturnCtx(t,e),D(e,{code:O.not_multiple_of,multipleOf:s.value,message:s.message}),n.dirty()):it.assertNever(s);return{status:n.value,value:t.data}}_getInvalidInput(t){const e=this._getOrReturnCtx(t);return D(e,{code:O.invalid_type,expected:B.bigint,received:e.parsedType}),X}gte(t,e){return this.setLimit("min",t,!0,H.toString(e))}gt(t,e){return this.setLimit("min",t,!1,H.toString(e))}lte(t,e){return this.setLimit("max",t,!0,H.toString(e))}lt(t,e){return this.setLimit("max",t,!1,H.toString(e))}setLimit(t,e,n,s){return new de({...this._def,checks:[...this._def.checks,{kind:t,value:e,inclusive:n,message:H.toString(s)}]})}_addCheck(t){return new de({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:H.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:H.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:H.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:H.toString(t)})}multipleOf(t,e){return this._addCheck({kind:"multipleOf",value:t,message:H.toString(e)})}get minValue(){let t=null;for(const e of this._def.checks)e.kind==="min"&&(t===null||e.value>t)&&(t=e.value);return t}get maxValue(){let t=null;for(const e of this._def.checks)e.kind==="max"&&(t===null||e.value<t)&&(t=e.value);return t}}de.create=r=>{var t;return new de({checks:[],typeName:K.ZodBigInt,coerce:(t=r==null?void 0:r.coerce)!==null&&t!==void 0&&t,...Q(r)})};class je extends nt{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==B.boolean){const e=this._getOrReturnCtx(t);return D(e,{code:O.invalid_type,expected:B.boolean,received:e.parsedType}),X}return Lt(t.data)}}je.create=r=>new je({typeName:K.ZodBoolean,coerce:(r==null?void 0:r.coerce)||!1,...Q(r)});class xe extends nt{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==B.date){const s=this._getOrReturnCtx(t);return D(s,{code:O.invalid_type,expected:B.date,received:s.parsedType}),X}if(isNaN(t.data.getTime()))return D(this._getOrReturnCtx(t),{code:O.invalid_date}),X;const e=new Pt;let n;for(const s of this._def.checks)s.kind==="min"?t.data.getTime()<s.value&&(n=this._getOrReturnCtx(t,n),D(n,{code:O.too_small,message:s.message,inclusive:!0,exact:!1,minimum:s.value,type:"date"}),e.dirty()):s.kind==="max"?t.data.getTime()>s.value&&(n=this._getOrReturnCtx(t,n),D(n,{code:O.too_big,message:s.message,inclusive:!0,exact:!1,maximum:s.value,type:"date"}),e.dirty()):it.assertNever(s);return{status:e.value,value:new Date(t.data.getTime())}}_addCheck(t){return new xe({...this._def,checks:[...this._def.checks,t]})}min(t,e){return this._addCheck({kind:"min",value:t.getTime(),message:H.toString(e)})}max(t,e){return this._addCheck({kind:"max",value:t.getTime(),message:H.toString(e)})}get minDate(){let t=null;for(const e of this._def.checks)e.kind==="min"&&(t===null||e.value>t)&&(t=e.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const e of this._def.checks)e.kind==="max"&&(t===null||e.value<t)&&(t=e.value);return t!=null?new Date(t):null}}xe.create=r=>new xe({checks:[],coerce:(r==null?void 0:r.coerce)||!1,typeName:K.ZodDate,...Q(r)});class $n extends nt{_parse(t){if(this._getType(t)!==B.symbol){const e=this._getOrReturnCtx(t);return D(e,{code:O.invalid_type,expected:B.symbol,received:e.parsedType}),X}return Lt(t.data)}}$n.create=r=>new $n({typeName:K.ZodSymbol,...Q(r)});class De extends nt{_parse(t){if(this._getType(t)!==B.undefined){const e=this._getOrReturnCtx(t);return D(e,{code:O.invalid_type,expected:B.undefined,received:e.parsedType}),X}return Lt(t.data)}}De.create=r=>new De({typeName:K.ZodUndefined,...Q(r)});class Ue extends nt{_parse(t){if(this._getType(t)!==B.null){const e=this._getOrReturnCtx(t);return D(e,{code:O.invalid_type,expected:B.null,received:e.parsedType}),X}return Lt(t.data)}}Ue.create=r=>new Ue({typeName:K.ZodNull,...Q(r)});class Ie extends nt{constructor(){super(...arguments),this._any=!0}_parse(t){return Lt(t.data)}}Ie.create=r=>new Ie({typeName:K.ZodAny,...Q(r)});class ve extends nt{constructor(){super(...arguments),this._unknown=!0}_parse(t){return Lt(t.data)}}ve.create=r=>new ve({typeName:K.ZodUnknown,...Q(r)});class Qt extends nt{_parse(t){const e=this._getOrReturnCtx(t);return D(e,{code:O.invalid_type,expected:B.never,received:e.parsedType}),X}}Qt.create=r=>new Qt({typeName:K.ZodNever,...Q(r)});class hn extends nt{_parse(t){if(this._getType(t)!==B.undefined){const e=this._getOrReturnCtx(t);return D(e,{code:O.invalid_type,expected:B.void,received:e.parsedType}),X}return Lt(t.data)}}hn.create=r=>new hn({typeName:K.ZodVoid,...Q(r)});class qt extends nt{_parse(t){const{ctx:e,status:n}=this._processInputParams(t),s=this._def;if(e.parsedType!==B.array)return D(e,{code:O.invalid_type,expected:B.array,received:e.parsedType}),X;if(s.exactLength!==null){const i=e.data.length>s.exactLength.value,l=e.data.length<s.exactLength.value;(i||l)&&(D(e,{code:i?O.too_big:O.too_small,minimum:l?s.exactLength.value:void 0,maximum:i?s.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:s.exactLength.message}),n.dirty())}if(s.minLength!==null&&e.data.length<s.minLength.value&&(D(e,{code:O.too_small,minimum:s.minLength.value,type:"array",inclusive:!0,exact:!1,message:s.minLength.message}),n.dirty()),s.maxLength!==null&&e.data.length>s.maxLength.value&&(D(e,{code:O.too_big,maximum:s.maxLength.value,type:"array",inclusive:!0,exact:!1,message:s.maxLength.message}),n.dirty()),e.common.async)return Promise.all([...e.data].map((i,l)=>s.type._parseAsync(new Jt(e,i,e.path,l)))).then(i=>Pt.mergeArray(n,i));const o=[...e.data].map((i,l)=>s.type._parseSync(new Jt(e,i,e.path,l)));return Pt.mergeArray(n,o)}get element(){return this._def.type}min(t,e){return new qt({...this._def,minLength:{value:t,message:H.toString(e)}})}max(t,e){return new qt({...this._def,maxLength:{value:t,message:H.toString(e)}})}length(t,e){return new qt({...this._def,exactLength:{value:t,message:H.toString(e)}})}nonempty(t){return this.min(1,t)}}function ke(r){if(r instanceof gt){const t={};for(const e in r.shape){const n=r.shape[e];t[e]=Bt.create(ke(n))}return new gt({...r._def,shape:()=>t})}return r instanceof qt?new qt({...r._def,type:ke(r.element)}):r instanceof Bt?Bt.create(ke(r.unwrap())):r instanceof pe?pe.create(ke(r.unwrap())):r instanceof Ht?Ht.create(r.items.map(t=>ke(t))):r}qt.create=(r,t)=>new qt({type:r,minLength:null,maxLength:null,exactLength:null,typeName:K.ZodArray,...Q(t)});class gt extends nt{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),e=it.objectKeys(t);return this._cached={shape:t,keys:e}}_parse(t){if(this._getType(t)!==B.object){const a=this._getOrReturnCtx(t);return D(a,{code:O.invalid_type,expected:B.object,received:a.parsedType}),X}const{status:e,ctx:n}=this._processInputParams(t),{shape:s,keys:o}=this._getCached(),i=[];if(!(this._def.catchall instanceof Qt&&this._def.unknownKeys==="strip"))for(const a in n.data)o.includes(a)||i.push(a);const l=[];for(const a of o){const c=s[a],d=n.data[a];l.push({key:{status:"valid",value:a},value:c._parse(new Jt(n,d,n.path,a)),alwaysSet:a in n.data})}if(this._def.catchall instanceof Qt){const a=this._def.unknownKeys;if(a==="passthrough")for(const c of i)l.push({key:{status:"valid",value:c},value:{status:"valid",value:n.data[c]}});else if(a==="strict")i.length>0&&(D(n,{code:O.unrecognized_keys,keys:i}),e.dirty());else if(a!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const a=this._def.catchall;for(const c of i){const d=n.data[c];l.push({key:{status:"valid",value:c},value:a._parse(new Jt(n,d,n.path,c)),alwaysSet:c in n.data})}}return n.common.async?Promise.resolve().then(async()=>{const a=[];for(const c of l){const d=await c.key,u=await c.value;a.push({key:d,value:u,alwaysSet:c.alwaysSet})}return a}).then(a=>Pt.mergeObjectSync(e,a)):Pt.mergeObjectSync(e,l)}get shape(){return this._def.shape()}strict(t){return H.errToObj,new gt({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(e,n)=>{var s,o,i,l;const a=(i=(o=(s=this._def).errorMap)===null||o===void 0?void 0:o.call(s,e,n).message)!==null&&i!==void 0?i:n.defaultError;return e.code==="unrecognized_keys"?{message:(l=H.errToObj(t).message)!==null&&l!==void 0?l:a}:{message:a}}}:{}})}strip(){return new gt({...this._def,unknownKeys:"strip"})}passthrough(){return new gt({...this._def,unknownKeys:"passthrough"})}extend(t){return new gt({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new gt({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:K.ZodObject})}setKey(t,e){return this.augment({[t]:e})}catchall(t){return new gt({...this._def,catchall:t})}pick(t){const e={};return it.objectKeys(t).forEach(n=>{t[n]&&this.shape[n]&&(e[n]=this.shape[n])}),new gt({...this._def,shape:()=>e})}omit(t){const e={};return it.objectKeys(this.shape).forEach(n=>{t[n]||(e[n]=this.shape[n])}),new gt({...this._def,shape:()=>e})}deepPartial(){return ke(this)}partial(t){const e={};return it.objectKeys(this.shape).forEach(n=>{const s=this.shape[n];t&&!t[n]?e[n]=s:e[n]=s.optional()}),new gt({...this._def,shape:()=>e})}required(t){const e={};return it.objectKeys(this.shape).forEach(n=>{if(t&&!t[n])e[n]=this.shape[n];else{let s=this.shape[n];for(;s instanceof Bt;)s=s._def.innerType;e[n]=s}}),new gt({...this._def,shape:()=>e})}keyof(){return po(it.objectKeys(this.shape))}}gt.create=(r,t)=>new gt({shape:()=>r,unknownKeys:"strip",catchall:Qt.create(),typeName:K.ZodObject,...Q(t)}),gt.strictCreate=(r,t)=>new gt({shape:()=>r,unknownKeys:"strict",catchall:Qt.create(),typeName:K.ZodObject,...Q(t)}),gt.lazycreate=(r,t)=>new gt({shape:r,unknownKeys:"strip",catchall:Qt.create(),typeName:K.ZodObject,...Q(t)});class Ve extends nt{_parse(t){const{ctx:e}=this._processInputParams(t),n=this._def.options;if(e.common.async)return Promise.all(n.map(async s=>{const o={...e,common:{...e.common,issues:[]},parent:null};return{result:await s._parseAsync({data:e.data,path:e.path,parent:o}),ctx:o}})).then(function(s){for(const i of s)if(i.result.status==="valid")return i.result;for(const i of s)if(i.result.status==="dirty")return e.common.issues.push(...i.ctx.common.issues),i.result;const o=s.map(i=>new zt(i.ctx.common.issues));return D(e,{code:O.invalid_union,unionErrors:o}),X});{let s;const o=[];for(const l of n){const a={...e,common:{...e.common,issues:[]},parent:null},c=l._parseSync({data:e.data,path:e.path,parent:a});if(c.status==="valid")return c;c.status!=="dirty"||s||(s={result:c,ctx:a}),a.common.issues.length&&o.push(a.common.issues)}if(s)return e.common.issues.push(...s.ctx.common.issues),s.result;const i=o.map(l=>new zt(l));return D(e,{code:O.invalid_union,unionErrors:i}),X}}get options(){return this._def.options}}Ve.create=(r,t)=>new Ve({options:r,typeName:K.ZodUnion,...Q(t)});const ne=r=>r instanceof Be?ne(r.schema):r instanceof Vt?ne(r.innerType()):r instanceof Ge?[r.value]:r instanceof ue?r.options:r instanceof Je?it.objectValues(r.enum):r instanceof He?ne(r._def.innerType):r instanceof De?[void 0]:r instanceof Ue?[null]:r instanceof Bt?[void 0,...ne(r.unwrap())]:r instanceof pe?[null,...ne(r.unwrap())]:r instanceof Hn||r instanceof Ke?ne(r.unwrap()):r instanceof We?ne(r._def.innerType):[];class An extends nt{_parse(t){const{ctx:e}=this._processInputParams(t);if(e.parsedType!==B.object)return D(e,{code:O.invalid_type,expected:B.object,received:e.parsedType}),X;const n=this.discriminator,s=e.data[n],o=this.optionsMap.get(s);return o?e.common.async?o._parseAsync({data:e.data,path:e.path,parent:e}):o._parseSync({data:e.data,path:e.path,parent:e}):(D(e,{code:O.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[n]}),X)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(t,e,n){const s=new Map;for(const o of e){const i=ne(o.shape[t]);if(!i.length)throw new Error(`A discriminator value for key \`${t}\` could not be extracted from all schema options`);for(const l of i){if(s.has(l))throw new Error(`Discriminator property ${String(t)} has duplicate value ${String(l)}`);s.set(l,o)}}return new An({typeName:K.ZodDiscriminatedUnion,discriminator:t,options:e,optionsMap:s,...Q(n)})}}function qn(r,t){const e=Kt(r),n=Kt(t);if(r===t)return{valid:!0,data:r};if(e===B.object&&n===B.object){const s=it.objectKeys(t),o=it.objectKeys(r).filter(l=>s.indexOf(l)!==-1),i={...r,...t};for(const l of o){const a=qn(r[l],t[l]);if(!a.valid)return{valid:!1};i[l]=a.data}return{valid:!0,data:i}}if(e===B.array&&n===B.array){if(r.length!==t.length)return{valid:!1};const s=[];for(let o=0;o<r.length;o++){const i=qn(r[o],t[o]);if(!i.valid)return{valid:!1};s.push(i.data)}return{valid:!0,data:s}}return e===B.date&&n===B.date&&+r==+t?{valid:!0,data:r}:{valid:!1}}class qe extends nt{_parse(t){const{status:e,ctx:n}=this._processInputParams(t),s=(o,i)=>{if(Un(o)||Un(i))return X;const l=qn(o.value,i.value);return l.valid?((Vn(o)||Vn(i))&&e.dirty(),{status:e.value,value:l.data}):(D(n,{code:O.invalid_intersection_types}),X)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([o,i])=>s(o,i)):s(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}qe.create=(r,t,e)=>new qe({left:r,right:t,typeName:K.ZodIntersection,...Q(e)});class Ht extends nt{_parse(t){const{status:e,ctx:n}=this._processInputParams(t);if(n.parsedType!==B.array)return D(n,{code:O.invalid_type,expected:B.array,received:n.parsedType}),X;if(n.data.length<this._def.items.length)return D(n,{code:O.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),X;!this._def.rest&&n.data.length>this._def.items.length&&(D(n,{code:O.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),e.dirty());const s=[...n.data].map((o,i)=>{const l=this._def.items[i]||this._def.rest;return l?l._parse(new Jt(n,o,n.path,i)):null}).filter(o=>!!o);return n.common.async?Promise.all(s).then(o=>Pt.mergeArray(e,o)):Pt.mergeArray(e,s)}get items(){return this._def.items}rest(t){return new Ht({...this._def,rest:t})}}Ht.create=(r,t)=>{if(!Array.isArray(r))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Ht({items:r,typeName:K.ZodTuple,rest:null,...Q(t)})};class Nn extends nt{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:e,ctx:n}=this._processInputParams(t);if(n.parsedType!==B.object)return D(n,{code:O.invalid_type,expected:B.object,received:n.parsedType}),X;const s=[],o=this._def.keyType,i=this._def.valueType;for(const l in n.data)s.push({key:o._parse(new Jt(n,l,n.path,l)),value:i._parse(new Jt(n,n.data[l],n.path,l)),alwaysSet:l in n.data});return n.common.async?Pt.mergeObjectAsync(e,s):Pt.mergeObjectSync(e,s)}get element(){return this._def.valueType}static create(t,e,n){return new Nn(e instanceof nt?{keyType:t,valueType:e,typeName:K.ZodRecord,...Q(n)}:{keyType:Ut.create(),valueType:t,typeName:K.ZodRecord,...Q(e)})}}class gn extends nt{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:e,ctx:n}=this._processInputParams(t);if(n.parsedType!==B.map)return D(n,{code:O.invalid_type,expected:B.map,received:n.parsedType}),X;const s=this._def.keyType,o=this._def.valueType,i=[...n.data.entries()].map(([l,a],c)=>({key:s._parse(new Jt(n,l,n.path,[c,"key"])),value:o._parse(new Jt(n,a,n.path,[c,"value"]))}));if(n.common.async){const l=new Map;return Promise.resolve().then(async()=>{for(const a of i){const c=await a.key,d=await a.value;if(c.status==="aborted"||d.status==="aborted")return X;c.status!=="dirty"&&d.status!=="dirty"||e.dirty(),l.set(c.value,d.value)}return{status:e.value,value:l}})}{const l=new Map;for(const a of i){const c=a.key,d=a.value;if(c.status==="aborted"||d.status==="aborted")return X;c.status!=="dirty"&&d.status!=="dirty"||e.dirty(),l.set(c.value,d.value)}return{status:e.value,value:l}}}}gn.create=(r,t,e)=>new gn({valueType:t,keyType:r,typeName:K.ZodMap,...Q(e)});class _e extends nt{_parse(t){const{status:e,ctx:n}=this._processInputParams(t);if(n.parsedType!==B.set)return D(n,{code:O.invalid_type,expected:B.set,received:n.parsedType}),X;const s=this._def;s.minSize!==null&&n.data.size<s.minSize.value&&(D(n,{code:O.too_small,minimum:s.minSize.value,type:"set",inclusive:!0,exact:!1,message:s.minSize.message}),e.dirty()),s.maxSize!==null&&n.data.size>s.maxSize.value&&(D(n,{code:O.too_big,maximum:s.maxSize.value,type:"set",inclusive:!0,exact:!1,message:s.maxSize.message}),e.dirty());const o=this._def.valueType;function i(a){const c=new Set;for(const d of a){if(d.status==="aborted")return X;d.status==="dirty"&&e.dirty(),c.add(d.value)}return{status:e.value,value:c}}const l=[...n.data.values()].map((a,c)=>o._parse(new Jt(n,a,n.path,c)));return n.common.async?Promise.all(l).then(a=>i(a)):i(l)}min(t,e){return new _e({...this._def,minSize:{value:t,message:H.toString(e)}})}max(t,e){return new _e({...this._def,maxSize:{value:t,message:H.toString(e)}})}size(t,e){return this.min(t,e).max(t,e)}nonempty(t){return this.min(1,t)}}_e.create=(r,t)=>new _e({valueType:r,minSize:null,maxSize:null,typeName:K.ZodSet,...Q(t)});class Te extends nt{constructor(){super(...arguments),this.validate=this.implement}_parse(t){const{ctx:e}=this._processInputParams(t);if(e.parsedType!==B.function)return D(e,{code:O.invalid_type,expected:B.function,received:e.parsedType}),X;function n(l,a){return pn({data:l,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,un(),Ne].filter(c=>!!c),issueData:{code:O.invalid_arguments,argumentsError:a}})}function s(l,a){return pn({data:l,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,un(),Ne].filter(c=>!!c),issueData:{code:O.invalid_return_type,returnTypeError:a}})}const o={errorMap:e.common.contextualErrorMap},i=e.data;if(this._def.returns instanceof Ee){const l=this;return Lt(async function(...a){const c=new zt([]),d=await l._def.args.parseAsync(a,o).catch($=>{throw c.addIssue(n(a,$)),c}),u=await Reflect.apply(i,this,d);return await l._def.returns._def.type.parseAsync(u,o).catch($=>{throw c.addIssue(s(u,$)),c})})}{const l=this;return Lt(function(...a){const c=l._def.args.safeParse(a,o);if(!c.success)throw new zt([n(a,c.error)]);const d=Reflect.apply(i,this,c.data),u=l._def.returns.safeParse(d,o);if(!u.success)throw new zt([s(d,u.error)]);return u.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...t){return new Te({...this._def,args:Ht.create(t).rest(ve.create())})}returns(t){return new Te({...this._def,returns:t})}implement(t){return this.parse(t)}strictImplement(t){return this.parse(t)}static create(t,e,n){return new Te({args:t||Ht.create([]).rest(ve.create()),returns:e||ve.create(),typeName:K.ZodFunction,...Q(n)})}}class Be extends nt{get schema(){return this._def.getter()}_parse(t){const{ctx:e}=this._processInputParams(t);return this._def.getter()._parse({data:e.data,path:e.path,parent:e})}}Be.create=(r,t)=>new Be({getter:r,typeName:K.ZodLazy,...Q(t)});class Ge extends nt{_parse(t){if(t.data!==this._def.value){const e=this._getOrReturnCtx(t);return D(e,{received:e.data,code:O.invalid_literal,expected:this._def.value}),X}return{status:"valid",value:t.data}}get value(){return this._def.value}}function po(r,t){return new ue({values:r,typeName:K.ZodEnum,...Q(t)})}Ge.create=(r,t)=>new Ge({value:r,typeName:K.ZodLiteral,...Q(t)});class ue extends nt{constructor(){super(...arguments),Oe.set(this,void 0)}_parse(t){if(typeof t.data!="string"){const e=this._getOrReturnCtx(t),n=this._def.values;return D(e,{expected:it.joinValues(n),received:e.parsedType,code:O.invalid_type}),X}if(fn(this,Oe)||ao(this,Oe,new Set(this._def.values)),!fn(this,Oe).has(t.data)){const e=this._getOrReturnCtx(t),n=this._def.values;return D(e,{received:e.data,code:O.invalid_enum_value,options:n}),X}return Lt(t.data)}get options(){return this._def.values}get enum(){const t={};for(const e of this._def.values)t[e]=e;return t}get Values(){const t={};for(const e of this._def.values)t[e]=e;return t}get Enum(){const t={};for(const e of this._def.values)t[e]=e;return t}extract(t,e=this._def){return ue.create(t,{...this._def,...e})}exclude(t,e=this._def){return ue.create(this.options.filter(n=>!t.includes(n)),{...this._def,...e})}}Oe=new WeakMap,ue.create=po;class Je extends nt{constructor(){super(...arguments),ze.set(this,void 0)}_parse(t){const e=it.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(t);if(n.parsedType!==B.string&&n.parsedType!==B.number){const s=it.objectValues(e);return D(n,{expected:it.joinValues(s),received:n.parsedType,code:O.invalid_type}),X}if(fn(this,ze)||ao(this,ze,new Set(it.getValidEnumValues(this._def.values))),!fn(this,ze).has(t.data)){const s=it.objectValues(e);return D(n,{received:n.data,code:O.invalid_enum_value,options:s}),X}return Lt(t.data)}get enum(){return this._def.values}}ze=new WeakMap,Je.create=(r,t)=>new Je({values:r,typeName:K.ZodNativeEnum,...Q(t)});class Ee extends nt{unwrap(){return this._def.type}_parse(t){const{ctx:e}=this._processInputParams(t);if(e.parsedType!==B.promise&&e.common.async===!1)return D(e,{code:O.invalid_type,expected:B.promise,received:e.parsedType}),X;const n=e.parsedType===B.promise?e.data:Promise.resolve(e.data);return Lt(n.then(s=>this._def.type.parseAsync(s,{path:e.path,errorMap:e.common.contextualErrorMap})))}}Ee.create=(r,t)=>new Ee({type:r,typeName:K.ZodPromise,...Q(t)});class Vt extends nt{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===K.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:e,ctx:n}=this._processInputParams(t),s=this._def.effect||null,o={addIssue:i=>{D(n,i),i.fatal?e.abort():e.dirty()},get path(){return n.path}};if(o.addIssue=o.addIssue.bind(o),s.type==="preprocess"){const i=s.transform(n.data,o);if(n.common.async)return Promise.resolve(i).then(async l=>{if(e.value==="aborted")return X;const a=await this._def.schema._parseAsync({data:l,path:n.path,parent:n});return a.status==="aborted"?X:a.status==="dirty"||e.value==="dirty"?mn(a.value):a});{if(e.value==="aborted")return X;const l=this._def.schema._parseSync({data:i,path:n.path,parent:n});return l.status==="aborted"?X:l.status==="dirty"||e.value==="dirty"?mn(l.value):l}}if(s.type==="refinement"){const i=l=>{const a=s.refinement(l,o);if(n.common.async)return Promise.resolve(a);if(a instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return l};if(n.common.async===!1){const l=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return l.status==="aborted"?X:(l.status==="dirty"&&e.dirty(),i(l.value),{status:e.value,value:l.value})}return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(l=>l.status==="aborted"?X:(l.status==="dirty"&&e.dirty(),i(l.value).then(()=>({status:e.value,value:l.value}))))}if(s.type==="transform"){if(n.common.async===!1){const i=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!we(i))return i;const l=s.transform(i.value,o);if(l instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:e.value,value:l}}return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(i=>we(i)?Promise.resolve(s.transform(i.value,o)).then(l=>({status:e.value,value:l})):i)}it.assertNever(s)}}Vt.create=(r,t,e)=>new Vt({schema:r,typeName:K.ZodEffects,effect:t,...Q(e)}),Vt.createWithPreprocess=(r,t,e)=>new Vt({schema:t,effect:{type:"preprocess",transform:r},typeName:K.ZodEffects,...Q(e)});class Bt extends nt{_parse(t){return this._getType(t)===B.undefined?Lt(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}Bt.create=(r,t)=>new Bt({innerType:r,typeName:K.ZodOptional,...Q(t)});class pe extends nt{_parse(t){return this._getType(t)===B.null?Lt(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}pe.create=(r,t)=>new pe({innerType:r,typeName:K.ZodNullable,...Q(t)});class He extends nt{_parse(t){const{ctx:e}=this._processInputParams(t);let n=e.data;return e.parsedType===B.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:e.path,parent:e})}removeDefault(){return this._def.innerType}}He.create=(r,t)=>new He({innerType:r,typeName:K.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...Q(t)});class We extends nt{_parse(t){const{ctx:e}=this._processInputParams(t),n={...e,common:{...e.common,issues:[]}},s=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return Fe(s)?s.then(o=>({status:"valid",value:o.status==="valid"?o.value:this._def.catchValue({get error(){return new zt(n.common.issues)},input:n.data})})):{status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new zt(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}We.create=(r,t)=>new We({innerType:r,typeName:K.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...Q(t)});class vn extends nt{_parse(t){if(this._getType(t)!==B.nan){const e=this._getOrReturnCtx(t);return D(e,{code:O.invalid_type,expected:B.nan,received:e.parsedType}),X}return{status:"valid",value:t.data}}}vn.create=r=>new vn({typeName:K.ZodNaN,...Q(r)});const Gi=Symbol("zod_brand");class Hn extends nt{_parse(t){const{ctx:e}=this._processInputParams(t),n=e.data;return this._def.type._parse({data:n,path:e.path,parent:e})}unwrap(){return this._def.type}}class en extends nt{_parse(t){const{status:e,ctx:n}=this._processInputParams(t);if(n.common.async)return(async()=>{const s=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return s.status==="aborted"?X:s.status==="dirty"?(e.dirty(),mn(s.value)):this._def.out._parseAsync({data:s.value,path:n.path,parent:n})})();{const s=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return s.status==="aborted"?X:s.status==="dirty"?(e.dirty(),{status:"dirty",value:s.value}):this._def.out._parseSync({data:s.value,path:n.path,parent:n})}}static create(t,e){return new en({in:t,out:e,typeName:K.ZodPipeline})}}class Ke extends nt{_parse(t){const e=this._def.innerType._parse(t),n=s=>(we(s)&&(s.value=Object.freeze(s.value)),s);return Fe(e)?e.then(s=>n(s)):n(e)}unwrap(){return this._def.innerType}}function cs(r,t={},e){return r?Ie.create().superRefine((n,s)=>{var o,i;if(!r(n)){const l=typeof t=="function"?t(n):typeof t=="string"?{message:t}:t,a=(i=(o=l.fatal)!==null&&o!==void 0?o:e)===null||i===void 0||i,c=typeof l=="string"?{message:l}:l;s.addIssue({code:"custom",...c,fatal:a})}}):Ie.create()}Ke.create=(r,t)=>new Ke({innerType:r,typeName:K.ZodReadonly,...Q(t)});const Ji={object:gt.lazycreate};var K;(function(r){r.ZodString="ZodString",r.ZodNumber="ZodNumber",r.ZodNaN="ZodNaN",r.ZodBigInt="ZodBigInt",r.ZodBoolean="ZodBoolean",r.ZodDate="ZodDate",r.ZodSymbol="ZodSymbol",r.ZodUndefined="ZodUndefined",r.ZodNull="ZodNull",r.ZodAny="ZodAny",r.ZodUnknown="ZodUnknown",r.ZodNever="ZodNever",r.ZodVoid="ZodVoid",r.ZodArray="ZodArray",r.ZodObject="ZodObject",r.ZodUnion="ZodUnion",r.ZodDiscriminatedUnion="ZodDiscriminatedUnion",r.ZodIntersection="ZodIntersection",r.ZodTuple="ZodTuple",r.ZodRecord="ZodRecord",r.ZodMap="ZodMap",r.ZodSet="ZodSet",r.ZodFunction="ZodFunction",r.ZodLazy="ZodLazy",r.ZodLiteral="ZodLiteral",r.ZodEnum="ZodEnum",r.ZodEffects="ZodEffects",r.ZodNativeEnum="ZodNativeEnum",r.ZodOptional="ZodOptional",r.ZodNullable="ZodNullable",r.ZodDefault="ZodDefault",r.ZodCatch="ZodCatch",r.ZodPromise="ZodPromise",r.ZodBranded="ZodBranded",r.ZodPipeline="ZodPipeline",r.ZodReadonly="ZodReadonly"})(K||(K={}));const ds=Ut.create,us=ce.create,Hi=vn.create,Wi=de.create,ps=je.create,Ki=xe.create,Yi=$n.create,Xi=De.create,Qi=Ue.create,ta=Ie.create,ea=ve.create,na=Qt.create,sa=hn.create,ra=qt.create,oa=gt.create,ia=gt.strictCreate,aa=Ve.create,la=An.create,ca=qe.create,da=Ht.create,ua=Nn.create,pa=gn.create,ma=_e.create,fa=Te.create,$a=Be.create,ha=Ge.create,ga=ue.create,va=Je.create,ya=Ee.create,ms=Vt.create,wa=Bt.create,xa=pe.create,_a=Vt.createWithPreprocess,Sa=en.create,Ca={string:r=>Ut.create({...r,coerce:!0}),number:r=>ce.create({...r,coerce:!0}),boolean:r=>je.create({...r,coerce:!0}),bigint:r=>de.create({...r,coerce:!0}),date:r=>xe.create({...r,coerce:!0})},ba=X;var pt=Object.freeze({__proto__:null,defaultErrorMap:Ne,setErrorMap:function(r){io=r},getErrorMap:un,makeIssue:pn,EMPTY_PATH:[],addIssueToContext:D,ParseStatus:Pt,INVALID:X,DIRTY:mn,OK:Lt,isAborted:Un,isDirty:Vn,isValid:we,isAsync:Fe,get util(){return it},get objectUtil(){return Dn},ZodParsedType:B,getParsedType:Kt,ZodType:nt,datetimeRegex:uo,ZodString:Ut,ZodNumber:ce,ZodBigInt:de,ZodBoolean:je,ZodDate:xe,ZodSymbol:$n,ZodUndefined:De,ZodNull:Ue,ZodAny:Ie,ZodUnknown:ve,ZodNever:Qt,ZodVoid:hn,ZodArray:qt,ZodObject:gt,ZodUnion:Ve,ZodDiscriminatedUnion:An,ZodIntersection:qe,ZodTuple:Ht,ZodRecord:Nn,ZodMap:gn,ZodSet:_e,ZodFunction:Te,ZodLazy:Be,ZodLiteral:Ge,ZodEnum:ue,ZodNativeEnum:Je,ZodPromise:Ee,ZodEffects:Vt,ZodTransformer:Vt,ZodOptional:Bt,ZodNullable:pe,ZodDefault:He,ZodCatch:We,ZodNaN:vn,BRAND:Gi,ZodBranded:Hn,ZodPipeline:en,ZodReadonly:Ke,custom:cs,Schema:nt,ZodSchema:nt,late:Ji,get ZodFirstPartyTypeKind(){return K},coerce:Ca,any:ta,array:ra,bigint:Wi,boolean:ps,date:Ki,discriminatedUnion:la,effect:ms,enum:ga,function:fa,instanceof:(r,t={message:`Input not instance of ${r.name}`})=>cs(e=>e instanceof r,t),intersection:ca,lazy:$a,literal:ha,map:pa,nan:Hi,nativeEnum:va,never:na,null:Qi,nullable:xa,number:us,object:oa,oboolean:()=>ps().optional(),onumber:()=>us().optional(),optional:wa,ostring:()=>ds().optional(),pipeline:Sa,preprocess:_a,promise:ya,record:ua,set:ma,strictObject:ia,string:ds,symbol:Yi,transformer:ms,tuple:da,undefined:Xi,union:aa,unknown:ea,void:sa,NEVER:ba,ZodIssueCode:O,quotelessJson:r=>JSON.stringify(r,null,2).replace(/"([^"]+)":/g,"$1:"),ZodError:zt});class wt extends Error{constructor(t){super(t),this.name="MCPServerError",Object.setPrototypeOf(this,wt.prototype)}}const Yt=pt.object({name:pt.string().optional(),title:pt.string().optional(),type:pt.enum(["stdio","http","sse"]).optional(),command:pt.string().optional(),args:pt.array(pt.union([pt.string(),pt.number(),pt.boolean()])).optional(),env:pt.record(pt.union([pt.string(),pt.number(),pt.boolean(),pt.null(),pt.undefined()])).optional(),url:pt.string().optional()}).passthrough();function Ft(r){return(r==null?void 0:r.type)==="http"||(r==null?void 0:r.type)==="sse"}function Me(r){return(r==null?void 0:r.type)==="stdio"}function yn(r){return Ft(r)?r.url:Me(r)?r.command:""}const ka=pt.array(Yt),Ma=pt.object({servers:pt.array(Yt)}),Ta=pt.object({mcpServers:pt.array(Yt)}),Aa=pt.object({servers:pt.record(pt.unknown())}),Na=pt.object({mcpServers:pt.record(pt.unknown())}),Ia=pt.record(pt.unknown()),Ea=Yt.refine(r=>{const t=r.command!==void 0,e=r.url!==void 0;if(!t&&!e)return!1;const n=new Set(["name","title","type","command","args","env","url"]);return Object.keys(r).every(s=>n.has(s))},{message:"Single server object must have valid server properties"});function ge(r){try{const t=Yt.transform(e=>{let n;if(e.type)n=e.type;else if(e.url)n="http";else{if(!e.command)throw new Error("Server must have either 'command' (for stdio) or 'url' (for http/sse) property");n="stdio"}if(n==="http"||n==="sse"){if(!e.url)throw new Error(`${n.toUpperCase()} server must have a 'url' property`);return{type:n,name:e.name||e.title||e.url,url:e.url}}{const s=e.command||"",o=e.args?e.args.map(c=>String(c)):[];if(!s)throw new Error("Stdio server must have a 'command' property");const i=o.length>0?`${s} ${o.join(" ")}`:s,l=e.name||e.title||(s?s.split(" ")[0]:""),a=e.env?Object.fromEntries(Object.entries(e.env).filter(([c,d])=>d!=null).map(([c,d])=>[c,String(d)])):void 0;return{type:"stdio",name:l,command:i,arguments:"",useShellInterpolation:!0,env:Object.keys(a||{}).length>0?a:void 0}}}).refine(e=>!!e.name,{message:"Server must have a name",path:["name"]}).refine(e=>e.type==="http"||e.type==="sse"?!!e.url:!!e.command,{message:"Server must have either 'command' (for stdio) or 'url' (for http/sse)",path:["command","url"]}).safeParse(r);if(!t.success)throw new wt(t.error.message);return t.data}catch(t){throw t instanceof Error?new wt(`Invalid server configuration: ${t.message}`):new wt("Invalid server configuration")}}function mo(r){try{const t=JSON.parse(r),e=pt.union([ka.transform(n=>n.map(s=>ge(s))),Ma.transform(n=>n.servers.map(s=>ge(s))),Ta.transform(n=>n.mcpServers.map(s=>ge(s))),Aa.transform(n=>Object.entries(n.servers).map(([s,o])=>{const i=Yt.parse(o);return ge({...i,name:i.name||s})})),Na.transform(n=>Object.entries(n.mcpServers).map(([s,o])=>{const i=Yt.parse(o);return ge({...i,name:i.name||s})})),Ea.transform(n=>[ge(n)]),Ia.transform(n=>{if(!Object.values(n).some(s=>{const o=Yt.safeParse(s);return o.success&&(o.data.command!==void 0||o.data.url!==void 0)}))throw new Error("No command or url property found in any server config");return Object.entries(n).map(([s,o])=>{const i=Yt.parse(o);return ge({...i,name:i.name||s})})})]).safeParse(t);if(e.success)return e.data;throw new wt("Invalid JSON format. Expected an array of servers or an object with a 'servers' property.")}catch(t){throw t instanceof wt?t:new wt("Failed to parse MCP servers from JSON. Please check the format.")}}let Pa=class fo{constructor(t){lt(this,"servers",Rt([]));this.host=t,this.loadServersFromStorage()}handleMessageFromExtension(t){const e=t.data;if(e.type===ft.getStoredMCPServersResponse){const n=e.data;return Array.isArray(n)&&this.servers.set(n),!0}return!1}async importServersFromJSON(t){return this.importFromJSON(t)}loadServersFromStorage(){try{this.host.postMessage({type:ft.getStoredMCPServers})}catch(t){console.error("Failed to load MCP servers:",t),this.servers.set([])}}saveServers(t){try{this.host.postMessage({type:ft.setStoredMCPServers,data:t})}catch(e){throw console.error("Failed to save MCP servers:",e),new wt("Failed to save MCP servers")}}getServers(){return this.servers}addServer(t){this.checkExistingServerName(t.name),this.servers.update(e=>{const n=[...e,{...t,id:crypto.randomUUID()}];return this.saveServers(n),n})}addServers(t){for(const e of t)this.checkExistingServerName(e.name);this.servers.update(e=>{const n=[...e,...t.map(s=>({...s,id:crypto.randomUUID()}))];return this.saveServers(n),n})}checkExistingServerName(t,e){const n=Ae(this.servers).find(s=>s.name===t);if(n&&(n==null?void 0:n.id)!==e)throw new wt(`Server name '${t}' already exists`)}updateServer(t){this.checkExistingServerName(t.name,t.id),this.servers.update(e=>{const n=e.map(s=>s.id===t.id?t:s);return this.saveServers(n),n})}deleteServer(t){this.servers.update(e=>{const n=e.filter(s=>s.id!==t);return this.saveServers(n),n})}toggleDisabledServer(t){this.servers.update(e=>{const n=e.map(s=>s.id===t?{...s,disabled:!s.disabled}:s);return this.saveServers(n),n})}static convertServerToJSON(t){if(Ft(t))return JSON.stringify({mcpServers:{[t.name]:{url:t.url,type:t.type}}},null,2);{const e=t;return JSON.stringify({mcpServers:{[e.name]:{command:e.command.split(" ")[0],args:e.command.split(" ").slice(1),env:e.env}}},null,2)}}static parseServerValidationMessages(t){const e=new Map,n=new Map;t.forEach(o=>{var l,a;const i=(l=o.tools)==null?void 0:l.filter(c=>!c.enabled).map(c=>c.definition.mcp_tool_name);o.disabled?e.set(o.id,"MCP server has been manually disabled"):o.tools&&o.tools.length===0?e.set(o.id,"No tools are available for this MCP server"):i&&i.length===((a=o.tools)==null?void 0:a.length)?e.set(o.id,"All tools for this MCP server have validation errors: "+i.join(", ")):i&&i.length>0&&n.set(o.id,"MCP server has validation errors in the following tools which have been disabled: "+i.join(", "))});const s=this.parseDuplicateServerIds(t);return{errors:new Map([...e,...s]),warnings:n}}static parseDuplicateServerIds(t){const e=new Map;for(const s of t)e.has(s.name)||e.set(s.name,[]),e.get(s.name).push(s.id);const n=new Map;for(const[,s]of e)if(s.length>1)for(let o=1;o<s.length;o++)n.set(s[o],"MCP server is disabled due to duplicate server names");return n}static convertParsedServerToWebview(t){const{tools:e,...n}=t;return{...n,tools:void 0}}static parseServerConfigFromJSON(t){return mo(t).map(e=>this.convertParsedServerToWebview(e))}importFromJSON(t){try{const e=fo.parseServerConfigFromJSON(t),n=Ae(this.servers),s=new Set(n.map(o=>o.name));for(const o of e){if(!o.name)throw new wt("All servers must have a name.");if(s.has(o.name))throw new wt(`A server with the name '${o.name}' already exists.`);s.add(o.name)}return this.servers.update(o=>{const i=[...o,...e.map(l=>({...l,id:crypto.randomUUID()}))];return this.saveServers(i),i}),e.length}catch(e){throw e instanceof wt?e:new wt("Failed to import MCP servers from JSON. Please check the format.")}}};class Ra{constructor(t){lt(this,"_terminalSettings",Rt({supportedShells:[],selectedShell:void 0,startupScript:void 0}));this._host=t,this.requestTerminalSettings()}handleMessageFromExtension(t){const e=t.data;return e.type===ft.terminalSettingsResponse&&(this._terminalSettings.set(e.data),!0)}getTerminalSettings(){return this._terminalSettings}requestTerminalSettings(){this._host.postMessage({type:ft.getTerminalSettings})}updateSelectedShell(t){this._terminalSettings.update(e=>({...e,selectedShell:t})),this._host.postMessage({type:ft.updateTerminalSettings,data:{selectedShell:t}})}updateStartupScript(t){this._terminalSettings.update(e=>({...e,startupScript:t})),this._host.postMessage({type:ft.updateTerminalSettings,data:{startupScript:t}})}}const Ze=class Ze{constructor(t){lt(this,"_soundSettings",Rt(rn));lt(this,"_isLoaded",!1);lt(this,"_pollInterval",null);lt(this,"_lastKnownSettingsHash","");lt(this,"dispose",()=>{this.stopPolling()});this._msgBroker=t,this.initialize(),this.startPolling()}async playAgentComplete(){await Eo(Po.AGENT_COMPLETE,Ae(this.getCurrentSettings))}get getCurrentSettings(){return this._soundSettings}async initialize(){if(!this._isLoaded)try{const t=await this._msgBroker.sendToSidecar({type:On.getSoundSettings});t.data&&(this._soundSettings.set(t.data),this._lastKnownSettingsHash=JSON.stringify(t.data)),this._isLoaded=!0}catch(t){console.warn("Failed to load sound settings, using defaults:",t),this._soundSettings.set(rn),this._lastKnownSettingsHash=JSON.stringify(rn),this._isLoaded=!0}}async updateSettings(t){try{await this._msgBroker.sendToSidecar({type:On.updateSoundSettings,data:t}),this._soundSettings.update(e=>{const n={...e,...t};return this._lastKnownSettingsHash=JSON.stringify(n),n})}catch(e){throw console.error("Failed to update sound settings:",e),e}}async setEnabled(t){await this.updateSettings({enabled:t})}async setVolume(t){const e=Math.max(0,Math.min(1,t));await this.updateSettings({volume:e})}async resetToDefaults(){await this.updateSettings(rn)}updateEnabled(t){this.setEnabled(t).catch(e=>{console.error("Failed to update enabled setting:",e)})}updateVolume(t){this.setVolume(t).catch(e=>{console.error("Failed to update volume setting:",e)})}startPolling(){this._pollInterval=setInterval(()=>{this.checkForUpdates()},Ze.POLLING_INTERVAL_MS)}stopPolling(){this._pollInterval!==null&&(clearInterval(this._pollInterval),this._pollInterval=null)}async checkForUpdates(){try{const t=await this._msgBroker.sendToSidecar({type:On.getSoundSettings}),e=JSON.stringify(t.data);this._lastKnownSettingsHash&&e!==this._lastKnownSettingsHash&&t.data&&this._soundSettings.set(t.data),this._lastKnownSettingsHash=e}catch(t){console.warn("Failed to check for sound settings updates:",t)}}};lt(Ze,"key","soundModel"),lt(Ze,"POLLING_INTERVAL_MS",2e3);let wn=Ze;function Ye(r,t){return e=>!e.shiftKey&&e.key===r&&(t(e),!0)}var Xt=(r=>(r.file="file",r.folder="folder",r))(Xt||{});class re{constructor(t,e){lt(this,"subscribe");lt(this,"set");lt(this,"update");lt(this,"handleMessageFromExtension",async t=>{const e=t.data;switch(e.type){case ft.wsContextSourceFoldersChanged:case ft.wsContextFolderContentsChanged:this.updateSourceFolders(await this.getSourceFolders());break;case ft.sourceFoldersSyncStatus:this.update(n=>({...n,syncStatus:e.data.status}))}});lt(this,"getSourceFolders",async()=>(await this.asyncMsgSender.send({type:ft.wsContextGetSourceFoldersRequest},1e4)).data.workspaceFolders);lt(this,"getChildren",async t=>(await this.asyncMsgSender.send({type:ft.wsContextGetChildrenRequest,data:{fileId:t}},1e4)).data.children.map(e=>e.type==="folder"?{...e,children:[],expanded:!1}:{...e}).sort((e,n)=>e.type===n.type?e.name.localeCompare(n.name):e.type==="folder"?-1:1));this.host=t,this.asyncMsgSender=e;const{subscribe:n,set:s,update:o}=Rt({sourceFolders:[],sourceTree:[],syncStatus:jn.done});this.subscribe=n,this.set=s,this.update=o,this.getSourceFolders().then(i=>{this.update(l=>({...l,sourceFolders:i,sourceTree:re.sourceFoldersToSourceNodes(i)}))})}async expandNode(t){t.children=await this.getChildren(t.fileId),t.expanded=!0,this.update(e=>e)}collapseNode(t){this.update(e=>(t.children=[],t.expanded=!1,e))}toggleNode(t){t.type==="folder"&&t.inclusionState!==jt.excluded&&(t.expanded?this.collapseNode(t):this.expandNode(t))}addMoreSourceFolders(){this.host.postMessage({type:ft.wsContextAddMoreSourceFolders})}removeSourceFolder(t){this.host.postMessage({type:ft.wsContextRemoveSourceFolder,data:t})}requestRefresh(){this.host.postMessage({type:ft.wsContextUserRequestedRefresh})}async updateSourceFolders(t){let e=Ae(this);const n=await this.getRefreshedSourceTree(e.sourceTree,t);this.update(s=>({...s,sourceFolders:t,sourceTree:n}))}async getRefreshedSourceTree(t,e){const n=re.sourceFoldersToSourceNodes(e);return this.getRefreshedSourceTreeRecurse(t,n)}async getRefreshedSourceTreeRecurse(t,e){const n=new Map(t.map(s=>[JSON.stringify([s.fileId.folderRoot,s.fileId.relPath]),s]));for(let s of e){const o=re.fileIdToString(s.fileId);if(s.type==="folder"){const i=n.get(o);i&&(s.expanded=i.type==="folder"&&i.expanded,s.expanded&&(s.children=await this.getChildren(s.fileId),s.children=await this.getRefreshedSourceTreeRecurse(i.children,s.children)))}}return e}static fileIdToString(t){return JSON.stringify([t.folderRoot,t.relPath])}static sourceFoldersToSourceNodes(t){return t.filter(e=>!e.isNestedFolder&&!e.isPending).sort((e,n)=>e.name.localeCompare(n.name)).map(e=>({name:e.name,fileId:e.fileId,children:[],expanded:!1,type:"folder",inclusionState:e.inclusionState,reason:"",trackedFileCount:e.trackedFileCount}))}}function fs(r,t,e){const n=r.slice();return n[6]=t[e],n}function $s(r){let t,e;function n(){return r[5](r[6])}return t=new tn({props:{title:"Remove source folder from Augment context",variant:"ghost",color:"neutral",size:1,class:"source-folder-v-adjust",$$slots:{default:[La]},$$scope:{ctx:r}}}),t.$on("click",function(){return r[4](r[6])}),t.$on("keyup",function(){ye(Ye("Enter",n))&&Ye("Enter",n).apply(this,arguments)}),{c(){x(t.$$.fragment)},m(s,o){_(t,s,o),e=!0},p(s,o){r=s;const i={};512&o&&(i.$$scope={dirty:o,ctx:r}),t.$set(i)},i(s){e||(p(t.$$.fragment,s),e=!0)},o(s){m(t.$$.fragment,s),e=!1},d(s){S(t,s)}}}function La(r){let t,e;return t=new Ro({}),{c(){x(t.$$.fragment)},m(n,s){_(t,n,s),e=!0},i(n){e||(p(t.$$.fragment,n),e=!0)},o(n){m(t.$$.fragment,n),e=!1},d(n){S(t,n)}}}function hs(r){let t,e;return t=new Y({props:{size:1,class:"file-count",$$slots:{default:[Oa]},$$scope:{ctx:r}}}),{c(){x(t.$$.fragment)},m(n,s){_(t,n,s),e=!0},p(n,s){const o={};513&s&&(o.$$scope={dirty:s,ctx:n}),t.$set(o)},i(n){e||(p(t.$$.fragment,n),e=!0)},o(n){m(t.$$.fragment,n),e=!1},d(n){S(t,n)}}}function Oa(r){let t,e=r[6].trackedFileCount.toLocaleString()+"";return{c(){t=L(e)},m(n,s){y(n,t,s)},p(n,s){1&s&&e!==(e=n[6].trackedFileCount.toLocaleString()+"")&&rt(t,e)},d(n){n&&v(t)}}}function gs(r,t){let e,n,s,o,i,l,a,c,d,u,$,f=t[6].name+"",g=(t[6].isPending?"(pending)":t[6].fileId.folderRoot)+"",h=!t[6].isWorkspaceFolder&&$s(t);s=new no({props:{class:"source-folder-v-adjust",icon:t[3](t[6])}});let C=t[6].trackedFileCount&&hs(t);return{key:r,first:null,c(){e=k("div"),h&&h.c(),n=A(),x(s.$$.fragment),o=A(),i=k("span"),l=L(f),a=A(),c=k("span"),d=L(g),u=A(),C&&C.c(),w(c,"class","folderRoot svelte-1skknri"),w(i,"class","name svelte-1skknri"),w(e,"class","item svelte-1skknri"),$t(e,"workspace-folder",t[6].isWorkspaceFolder),this.first=e},m(I,E){y(I,e,E),h&&h.m(e,null),b(e,n),_(s,e,null),b(e,o),b(e,i),b(i,l),b(i,a),b(i,c),b(c,d),b(e,u),C&&C.m(e,null),$=!0},p(I,E){(t=I)[6].isWorkspaceFolder?h&&(U(),m(h,1,1,()=>{h=null}),V()):h?(h.p(t,E),1&E&&p(h,1)):(h=$s(t),h.c(),p(h,1),h.m(e,n));const T={};1&E&&(T.icon=t[3](t[6])),s.$set(T),(!$||1&E)&&f!==(f=t[6].name+"")&&rt(l,f),(!$||1&E)&&g!==(g=(t[6].isPending?"(pending)":t[6].fileId.folderRoot)+"")&&rt(d,g),t[6].trackedFileCount?C?(C.p(t,E),1&E&&p(C,1)):(C=hs(t),C.c(),p(C,1),C.m(e,null)):C&&(U(),m(C,1,1,()=>{C=null}),V()),(!$||1&E)&&$t(e,"workspace-folder",t[6].isWorkspaceFolder)},i(I){$||(p(h),p(s.$$.fragment,I),p(C),$=!0)},o(I){m(h),m(s.$$.fragment,I),m(C),$=!1},d(I){I&&v(e),h&&h.d(),S(s),C&&C.d()}}}function za(r){let t,e,n,s,o,i,l,a,c=[],d=new Map,u=mt(r[0]);const $=f=>re.fileIdToString(f[6].fileId);for(let f=0;f<u.length;f+=1){let g=fs(r,u,f),h=$(g);d.set(h,c[f]=gs(h,g))}return s=new Qe({}),{c(){t=k("div");for(let f=0;f<c.length;f+=1)c[f].c();e=A(),n=k("div"),x(s.$$.fragment),o=L(" Add more..."),w(n,"role","button"),w(n,"tabindex","0"),w(n,"class","add-more svelte-1skknri"),w(t,"class","source-folder svelte-1skknri")},m(f,g){y(f,t,g);for(let h=0;h<c.length;h+=1)c[h]&&c[h].m(t,null);b(t,e),b(t,n),_(s,n,null),b(n,o),i=!0,l||(a=[It(n,"keyup",function(){ye(Ye("Enter",r[1]))&&Ye("Enter",r[1]).apply(this,arguments)}),It(n,"click",function(){ye(r[1])&&r[1].apply(this,arguments)})],l=!0)},p(f,[g]){r=f,13&g&&(u=mt(r[0]),U(),c=fe(c,g,$,1,r,u,d,t,$e,gs,e,fs),V())},i(f){if(!i){for(let g=0;g<u.length;g+=1)p(c[g]);p(s.$$.fragment,f),i=!0}},o(f){for(let g=0;g<c.length;g+=1)m(c[g]);m(s.$$.fragment,f),i=!1},d(f){f&&v(t);for(let g=0;g<c.length;g+=1)c[g].d();S(s),l=!1,xn(a)}}}function Za(r,t,e){let{folders:n=[]}=t,{onAddMore:s}=t,{onRemove:o}=t;return r.$$set=i=>{"folders"in i&&e(0,n=i.folders),"onAddMore"in i&&e(1,s=i.onAddMore),"onRemove"in i&&e(2,o=i.onRemove)},[n,s,o,i=>i.isWorkspaceFolder?"root-folder":"folder",i=>o(i.fileId.folderRoot),i=>o(i.fileId.folderRoot)]}class Fa extends ct{constructor(t){super(),dt(this,t,Za,za,at,{folders:0,onAddMore:1,onRemove:2})}}function vs(r,t,e){const n=r.slice();return n[10]=t[e],n}function ys(r){let t,e;return t=new Y({props:{size:1,class:"file-count",$$slots:{default:[ja]},$$scope:{ctx:r}}}),{c(){x(t.$$.fragment)},m(n,s){_(t,n,s),e=!0},p(n,s){const o={};8193&s&&(o.$$scope={dirty:s,ctx:n}),t.$set(o)},i(n){e||(p(t.$$.fragment,n),e=!0)},o(n){m(t.$$.fragment,n),e=!1},d(n){S(t,n)}}}function ja(r){let t,e=r[0].trackedFileCount.toLocaleString()+"";return{c(){t=L(e)},m(n,s){y(n,t,s)},p(n,s){1&s&&e!==(e=n[0].trackedFileCount.toLocaleString()+"")&&rt(t,e)},d(n){n&&v(t)}}}function ws(r){let t,e,n=[],s=new Map,o=mt(r[5].children);const i=l=>re.fileIdToString(l[10].fileId);for(let l=0;l<o.length;l+=1){let a=vs(r,o,l),c=i(a);s.set(c,n[l]=xs(c,a))}return{c(){t=k("div");for(let l=0;l<n.length;l+=1)n[l].c();w(t,"class","children-container")},m(l,a){y(l,t,a);for(let c=0;c<n.length;c+=1)n[c]&&n[c].m(t,null);e=!0},p(l,a){38&a&&(o=mt(l[5].children),U(),n=fe(n,a,i,1,l,o,s,t,$e,xs,null,vs),V())},i(l){if(!e){for(let a=0;a<o.length;a+=1)p(n[a]);e=!0}},o(l){for(let a=0;a<n.length;a+=1)m(n[a]);e=!1},d(l){l&&v(t);for(let a=0;a<n.length;a+=1)n[a].d()}}}function xs(r,t){let e,n,s;return n=new $o({props:{data:t[10],wsContextModel:t[1],indentLevel:t[2]+1}}),{key:r,first:null,c(){e=ht(),x(n.$$.fragment),this.first=e},m(o,i){y(o,e,i),_(n,o,i),s=!0},p(o,i){t=o;const l={};32&i&&(l.data=t[10]),2&i&&(l.wsContextModel=t[1]),4&i&&(l.indentLevel=t[2]+1),n.$set(l)},i(o){s||(p(n.$$.fragment,o),s=!0)},o(o){m(n.$$.fragment,o),s=!1},d(o){o&&v(e),S(n,o)}}}function Da(r){let t,e,n,s,o,i,l,a,c,d,u,$,f,g,h,C,I,E,T=r[0].name+"";n=new no({props:{icon:r[4]}});let M=r[0].type===Xt.folder&&r[0].inclusionState!==jt.excluded&&typeof r[0].trackedFileCount=="number"&&ys(r),N=r[5]&&ws(r);return{c(){t=k("div"),e=k("div"),x(n.$$.fragment),s=A(),o=k("span"),i=L(T),l=A(),M&&M.c(),a=A(),c=k("img"),h=A(),N&&N.c(),w(o,"class","name svelte-sympus"),es(c.src,d=r[7][r[0].inclusionState])||w(c,"src",d),w(c,"alt",u=r[8][r[0].inclusionState]),w(e,"class","tree-item svelte-sympus"),w(e,"role","treeitem"),w(e,"aria-selected","false"),w(e,"tabindex","0"),w(e,"title",$=r[0].reason),w(e,"aria-expanded",f=r[0].type===Xt.folder&&r[0].expanded),w(e,"aria-level",r[2]),w(e,"style",g=`padding-left: ${10*r[2]+20}px;`),$t(e,"included-folder",r[3])},m(P,R){y(P,t,R),b(t,e),_(n,e,null),b(e,s),b(e,o),b(o,i),b(e,l),M&&M.m(e,null),b(e,a),b(e,c),b(t,h),N&&N.m(t,null),C=!0,I||(E=[It(e,"click",r[6]),It(e,"keyup",Ye("Enter",r[6]))],I=!0)},p(P,[R]){const tt={};16&R&&(tt.icon=P[4]),n.$set(tt),(!C||1&R)&&T!==(T=P[0].name+"")&&rt(i,T),P[0].type===Xt.folder&&P[0].inclusionState!==jt.excluded&&typeof P[0].trackedFileCount=="number"?M?(M.p(P,R),1&R&&p(M,1)):(M=ys(P),M.c(),p(M,1),M.m(e,a)):M&&(U(),m(M,1,1,()=>{M=null}),V()),(!C||1&R&&!es(c.src,d=P[7][P[0].inclusionState]))&&w(c,"src",d),(!C||1&R&&u!==(u=P[8][P[0].inclusionState]))&&w(c,"alt",u),(!C||1&R&&$!==($=P[0].reason))&&w(e,"title",$),(!C||1&R&&f!==(f=P[0].type===Xt.folder&&P[0].expanded))&&w(e,"aria-expanded",f),(!C||4&R)&&w(e,"aria-level",P[2]),(!C||4&R&&g!==(g=`padding-left: ${10*P[2]+20}px;`))&&w(e,"style",g),(!C||8&R)&&$t(e,"included-folder",P[3]),P[5]?N?(N.p(P,R),32&R&&p(N,1)):(N=ws(P),N.c(),p(N,1),N.m(t,null)):N&&(U(),m(N,1,1,()=>{N=null}),V())},i(P){C||(p(n.$$.fragment,P),p(M),p(N),C=!0)},o(P){m(n.$$.fragment,P),m(M),m(N),C=!1},d(P){P&&v(t),S(n),M&&M.d(),N&&N.d(),I=!1,xn(E)}}}function Ua(r,t,e){let{data:n}=t,{wsContextModel:s}=t,{indentLevel:o}=t;const i={[jt.included]:"data:image/svg+xml,%3csvg%20width='12'%20height='12'%20viewBox='0%200%2012%2012'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M2.66658%201.01118C3.65328%200.351894%204.81331%200%206%200C7.5907%200.00195418%209.11569%200.634723%2010.2405%201.75952C11.3653%202.88431%2011.998%204.4093%2012%206C12%207.18669%2011.6481%208.34672%2010.9888%209.33342C10.3295%2010.3201%209.39246%2011.0891%208.2961%2011.5433C7.19975%2011.9974%205.99335%2012.1162%204.82946%2011.8847C3.66557%2011.6532%202.59648%2011.0818%201.75736%2010.2426C0.918247%209.40352%200.346802%208.33443%200.115291%207.17054C-0.11622%206.00666%200.00259969%204.80025%200.456725%203.7039C0.910851%202.60754%201.67989%201.67047%202.66658%201.01118ZM5.86301%208.67273L9.44256%203.9L8.24256%203L5.12729%207.15368L3.17471%205.59162L2.23767%206.76292L4.79449%208.80838L5.86301%208.67273Z'%20fill='%23388A34'/%3e%3c/svg%3e",[jt.excluded]:"data:image/svg+xml,%3csvg%20width='12'%20height='12'%20viewBox='0%200%2012%2012'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M2.66658%201.01119C3.65328%200.351896%204.81332%200%206%200C7.5907%200.00195419%209.11569%200.634726%2010.2405%201.75953C11.3653%202.88433%2011.998%204.40933%2012%206.00003C12%207.18673%2011.6481%208.34677%2010.9888%209.33347C10.3295%2010.3202%209.39246%2011.0892%208.2961%2011.5433C7.19975%2011.9975%205.99335%2012.1163%204.82946%2011.8848C3.66558%2011.6533%202.59648%2011.0818%201.75736%2010.2427C0.918247%209.40358%200.346802%208.33447%200.115291%207.17058C-0.11622%206.00669%200.00259969%204.80028%200.456726%203.70392C0.910851%202.60756%201.67989%201.67048%202.66658%201.01119ZM6.00007%207.07359L8.1213%209.19482L9.18196%208.13416L7.06073%206.01292L9.18198%203.89166L8.12132%202.83099L6.00007%204.95225L3.87866%202.83083L2.818%203.89149L4.93941%206.01292L2.81802%208.13432L3.87868%209.19499L6.00007%207.07359Z'%20fill='%23E51400'/%3e%3c/svg%3e",[jt.partial]:"data:image/svg+xml,%3csvg%20width='12'%20height='12'%20viewBox='0%200%2012%2012'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M2.66658%201.01118C3.65328%200.351894%204.81331%200%206%200C7.5907%200.00195418%209.11569%200.634723%2010.2405%201.75952C11.3653%202.88431%2011.998%204.4093%2012%206C12%207.18669%2011.6481%208.34672%2010.9888%209.33342C10.3295%2010.3201%209.39246%2011.0891%208.2961%2011.5433C7.19975%2011.9974%205.99335%2012.1162%204.82946%2011.8847C3.66557%2011.6532%202.59648%2011.0818%201.75736%2010.2426C0.918247%209.40352%200.346802%208.33443%200.115291%207.17054C-0.11622%206.00666%200.00259969%204.80025%200.456725%203.7039C0.910851%202.60754%201.67989%201.67047%202.66658%201.01118ZM3.66667%205.83333C3.66667%205.99815%203.61779%206.15927%203.52623%206.29631C3.43466%206.43335%203.30451%206.54016%203.15224%206.60323C2.99997%206.66631%202.83241%206.68281%202.67076%206.65065C2.50911%206.6185%202.36062%206.53913%202.24408%206.42259C2.12753%206.30605%202.04817%206.15756%202.01601%205.99591C1.98386%205.83426%202.00036%205.6667%202.06343%205.51443C2.12651%205.36216%202.23332%205.23201%202.37036%205.14044C2.5074%205.04887%202.66852%205%202.83333%205C3.05435%205%203.26631%205.0878%203.42259%205.24408C3.57887%205.40036%203.66667%205.61232%203.66667%205.83333ZM6.83333%205.83333C6.83333%205.99815%206.78446%206.15927%206.69289%206.29631C6.60132%206.43335%206.47117%206.54016%206.3189%206.60323C6.16663%206.66631%205.99908%206.68281%205.83742%206.65065C5.67577%206.6185%205.52729%206.53913%205.41074%206.42259C5.2942%206.30605%205.21483%206.15756%205.18268%205.99591C5.15052%205.83426%205.16703%205.6667%205.2301%205.51443C5.29317%205.36216%205.39998%205.23201%205.53702%205.14044C5.67407%205.04887%205.83518%205%206%205C6.22101%205%206.43297%205.0878%206.58926%205.24408C6.74554%205.40036%206.83333%205.61232%206.83333%205.83333ZM9.85956%206.29631C9.95113%206.15927%2010%205.99815%2010%205.83333C10%205.61232%209.9122%205.40036%209.75592%205.24408C9.59964%205.0878%209.38768%205%209.16667%205C9.00185%205%208.84073%205.04887%208.70369%205.14044C8.56665%205.23201%208.45984%205.36216%208.39677%205.51443C8.33369%205.6667%208.31719%205.83426%208.34935%205.99591C8.3815%206.15756%208.46087%206.30605%208.57741%206.42259C8.69395%206.53913%208.84244%206.6185%209.00409%206.65065C9.16574%206.68281%209.3333%206.66631%209.48557%206.60323C9.63784%206.54016%209.76799%206.43335%209.85956%206.29631Z'%20fill='%23388A34'/%3e%3c/svg%3e"},l={[jt.included]:"included",[jt.excluded]:"excluded",[jt.partial]:"partially included"};let a,c,d;return r.$$set=u=>{"data"in u&&e(0,n=u.data),"wsContextModel"in u&&e(1,s=u.wsContextModel),"indentLevel"in u&&e(2,o=u.indentLevel)},r.$$.update=()=>{var u;1&r.$$.dirty&&e(4,c=(u=n).type===Xt.folder&&u.inclusionState!==jt.excluded?u.expanded?"chevron-down":"chevron-right":u.type===Xt.folder?"folder":"file"),1&r.$$.dirty&&e(3,a=n.type===Xt.folder&&n.inclusionState!==jt.excluded),1&r.$$.dirty&&e(5,d=n.type===Xt.folder&&n.expanded&&n.children&&n.children.length>0?n:null)},[n,s,o,a,c,d,()=>{s.toggleNode(n)},i,l]}class $o extends ct{constructor(t){super(),dt(this,t,Ua,Da,at,{data:0,wsContextModel:1,indentLevel:2})}}function _s(r,t,e){const n=r.slice();return n[3]=t[e],n}function Ss(r,t){let e,n,s;return n=new $o({props:{wsContextModel:t[0],data:t[3],indentLevel:0}}),{key:r,first:null,c(){e=ht(),x(n.$$.fragment),this.first=e},m(o,i){y(o,e,i),_(n,o,i),s=!0},p(o,i){t=o;const l={};1&i&&(l.wsContextModel=t[0]),2&i&&(l.data=t[3]),n.$set(l)},i(o){s||(p(n.$$.fragment,o),s=!0)},o(o){m(n.$$.fragment,o),s=!1},d(o){o&&v(e),S(n,o)}}}function Va(r){let t,e,n=[],s=new Map,o=mt(r[1]);const i=l=>re.fileIdToString(l[3].fileId);for(let l=0;l<o.length;l+=1){let a=_s(r,o,l),c=i(a);s.set(c,n[l]=Ss(c,a))}return{c(){t=k("div");for(let l=0;l<n.length;l+=1)n[l].c();w(t,"class","files-container svelte-8hfqhl")},m(l,a){y(l,t,a);for(let c=0;c<n.length;c+=1)n[c]&&n[c].m(t,null);e=!0},p(l,[a]){3&a&&(o=mt(l[1]),U(),n=fe(n,a,i,1,l,o,s,t,$e,Ss,null,_s),V())},i(l){if(!e){for(let a=0;a<o.length;a+=1)p(n[a]);e=!0}},o(l){for(let a=0;a<n.length;a+=1)m(n[a]);e=!1},d(l){l&&v(t);for(let a=0;a<n.length;a+=1)n[a].d()}}}function qa(r,t,e){let n,s=J,o=()=>(s(),s=Xe(l,a=>e(2,n=a)),l);r.$$.on_destroy.push(()=>s());let i,{wsContextModel:l}=t;return o(),r.$$set=a=>{"wsContextModel"in a&&o(e(0,l=a.wsContextModel))},r.$$.update=()=>{4&r.$$.dirty&&e(1,i=n.sourceTree)},[l,i,n]}class Ba extends ct{constructor(t){super(),dt(this,t,qa,Va,at,{wsContextModel:0})}}function Ga(r){let t,e,n;return{c(){t=Ot("svg"),e=Ot("rect"),n=Ot("path"),w(e,"width","16"),w(e,"height","16"),w(e,"transform","matrix(-1 0 0 -1 16 16)"),w(e,"fill","currentColor"),w(e,"fill-opacity","0.01"),w(n,"fill-rule","evenodd"),w(n,"clip-rule","evenodd"),w(n,"d","M13.7075 11.7333C13.7075 12.8236 12.8236 13.7075 11.7333 13.7075C10.643 13.7075 9.75909 12.8236 9.75909 11.7333C9.75909 10.643 10.643 9.75909 11.7333 9.75909C12.8236 9.75909 13.7075 10.643 13.7075 11.7333ZM11.7333 14.6675C13.3538 14.6675 14.6675 13.3538 14.6675 11.7333C14.6675 10.1128 13.3538 8.79909 11.7333 8.79909C10.1128 8.79909 8.79909 10.1128 8.79909 11.7333C8.79909 13.3538 10.1128 14.6675 11.7333 14.6675ZM9.79161 4.26647L13.3333 2.30721V6.22571L9.79161 4.26647ZM13.1852 7.24088C13.6829 7.51617 14.2933 7.15625 14.2933 6.58752V1.9454C14.2933 1.37665 13.6829 1.01676 13.1852 1.29207L8.98946 3.61313C8.47582 3.89729 8.47582 4.63564 8.98946 4.9198L13.1852 7.24088ZM7.14663 6.39988C7.14663 6.81225 6.81233 7.14654 6.39996 7.14654H2.1333C1.72093 7.14654 1.38664 6.81225 1.38664 6.39988V2.13324C1.38664 1.72087 1.72093 1.38657 2.1333 1.38657H6.39996C6.81233 1.38657 7.14663 1.72087 7.14663 2.13324V6.39988ZM6.18663 6.18654V2.34657H2.34664V6.18654H6.18663ZM1.66056 13.6606C1.47314 13.848 1.47314 14.152 1.66056 14.3394C1.84797 14.5269 2.15186 14.5269 2.33938 14.3394L4.26664 12.4121L6.19388 14.3394C6.38133 14.5268 6.68525 14.5268 6.8727 14.3394C7.06015 14.1519 7.06015 13.848 6.8727 13.6606L4.94546 11.7333L6.8727 9.80608C7.06015 9.61863 7.06015 9.31471 6.8727 9.12726C6.68525 8.9398 6.38133 8.9398 6.19388 9.12726L4.26664 11.0545L2.33938 9.12722C2.15186 8.93978 1.84797 8.93978 1.66056 9.12722C1.47314 9.31468 1.47314 9.61861 1.66056 9.80605L3.58781 11.7333L1.66056 13.6606Z"),w(n,"fill","currentColor"),w(t,"width","15"),w(t,"height","15"),w(t,"viewBox","0 0 16 16"),w(t,"fill","none"),w(t,"xmlns","http://www.w3.org/2000/svg")},m(s,o){y(s,t,o),b(t,e),b(t,n)},p:J,i:J,o:J,d(s){s&&v(t)}}}class Ja extends ct{constructor(t){super(),dt(this,t,null,Ga,at,{})}}const Ha=r=>({}),Cs=r=>({}),Wa=r=>({}),bs=r=>({});function Ka(r){let t;const e=r[8]["header-left"],n=Mt(e,r,r[10],bs);return{c(){n&&n.c()},m(s,o){n&&n.m(s,o),t=!0},p(s,o){n&&n.p&&(!t||1024&o)&&Tt(n,e,s,s[10],t?Nt(e,s[10],o,Wa):At(s[10]),bs)},i(s){t||(p(n,s),t=!0)},o(s){m(n,s),t=!1},d(s){n&&n.d(s)}}}function Ya(r){let t,e,n,s=r[0]&&ks(r),o=r[1]&&Ms(r);return{c(){s&&s.c(),t=A(),o&&o.c(),e=ht()},m(i,l){s&&s.m(i,l),y(i,t,l),o&&o.m(i,l),y(i,e,l),n=!0},p(i,l){i[0]?s?(s.p(i,l),1&l&&p(s,1)):(s=ks(i),s.c(),p(s,1),s.m(t.parentNode,t)):s&&(U(),m(s,1,1,()=>{s=null}),V()),i[1]?o?(o.p(i,l),2&l&&p(o,1)):(o=Ms(i),o.c(),p(o,1),o.m(e.parentNode,e)):o&&(U(),m(o,1,1,()=>{o=null}),V())},i(i){n||(p(s),p(o),n=!0)},o(i){m(s),m(o),n=!1},d(i){i&&(v(t),v(e)),s&&s.d(i),o&&o.d(i)}}}function ks(r){let t,e,n;var s=r[0];return s&&(e=ie(s,{})),{c(){t=k("div"),e&&x(e.$$.fragment),w(t,"class","icon-wrapper svelte-13uht7n")},m(o,i){y(o,t,i),e&&_(e,t,null),n=!0},p(o,i){if(1&i&&s!==(s=o[0])){if(e){U();const l=e;m(l.$$.fragment,1,0,()=>{S(l,1)}),V()}s?(e=ie(s,{}),x(e.$$.fragment),p(e.$$.fragment,1),_(e,t,null)):e=null}},i(o){n||(e&&p(e.$$.fragment,o),n=!0)},o(o){e&&m(e.$$.fragment,o),n=!1},d(o){o&&v(t),e&&S(e)}}}function Ms(r){let t,e;return t=new Y({props:{color:"neutral",size:1,weight:"light",class:"card-title",$$slots:{default:[Xa]},$$scope:{ctx:r}}}),{c(){x(t.$$.fragment)},m(n,s){_(t,n,s),e=!0},p(n,s){const o={};1026&s&&(o.$$scope={dirty:s,ctx:n}),t.$set(o)},i(n){e||(p(t.$$.fragment,n),e=!0)},o(n){m(t.$$.fragment,n),e=!1},d(n){S(t,n)}}}function Xa(r){let t;return{c(){t=L(r[1])},m(e,n){y(e,t,n)},p(e,n){2&n&&rt(t,e[1])},d(e){e&&v(t)}}}function Ts(r){let t,e;const n=r[8].default,s=Mt(n,r,r[10],null);return{c(){t=k("div"),s&&s.c(),w(t,"class","settings-card-body")},m(o,i){y(o,t,i),s&&s.m(t,null),e=!0},p(o,i){s&&s.p&&(!e||1024&i)&&Tt(s,n,o,o[10],e?Nt(n,o[10],i,null):At(o[10]),null)},i(o){e||(p(s,o),e=!0)},o(o){m(s,o),e=!1},d(o){o&&v(t),s&&s.d(o)}}}function Qa(r){let t,e,n,s,o,i,l,a,c,d,u;const $=[Ya,Ka],f=[];function g(M,N){return M[0]||M[1]?0:1}s=g(r),o=f[s]=$[s](r);const h=r[8]["header-right"],C=Mt(h,r,r[10],Cs);let I=r[5].default&&Ts(r),E=[{role:"button"},{class:r[3]},r[4]],T={};for(let M=0;M<E.length;M+=1)T=Ct(T,E[M]);return{c(){t=k("div"),e=k("div"),n=k("div"),o.c(),i=A(),l=k("div"),C&&C.c(),a=A(),I&&I.c(),w(n,"class","settings-card-left svelte-13uht7n"),w(l,"class","settings-card-right svelte-13uht7n"),w(e,"class","settings-card-content svelte-13uht7n"),ln(t,T),$t(t,"clickable",r[2]),$t(t,"svelte-13uht7n",!0)},m(M,N){y(M,t,N),b(t,e),b(e,n),f[s].m(n,null),b(e,i),b(e,l),C&&C.m(l,null),b(t,a),I&&I.m(t,null),c=!0,d||(u=It(t,"click",r[9]),d=!0)},p(M,[N]){let P=s;s=g(M),s===P?f[s].p(M,N):(U(),m(f[P],1,1,()=>{f[P]=null}),V(),o=f[s],o?o.p(M,N):(o=f[s]=$[s](M),o.c()),p(o,1),o.m(n,null)),C&&C.p&&(!c||1024&N)&&Tt(C,h,M,M[10],c?Nt(h,M[10],N,Ha):At(M[10]),Cs),M[5].default?I?(I.p(M,N),32&N&&p(I,1)):(I=Ts(M),I.c(),p(I,1),I.m(t,null)):I&&(U(),m(I,1,1,()=>{I=null}),V()),ln(t,T=oe(E,[{role:"button"},(!c||8&N)&&{class:M[3]},16&N&&M[4]])),$t(t,"clickable",M[2]),$t(t,"svelte-13uht7n",!0)},i(M){c||(p(o),p(C,M),p(I),c=!0)},o(M){m(o),m(C,M),m(I),c=!1},d(M){M&&v(t),f[s].d(),C&&C.d(M),I&&I.d(),d=!1,u()}}}function tl(r,t,e){let n,s,o;const i=["class","icon","title","isClickable"];let l=cn(t,i),{$$slots:a={},$$scope:c}=t;const d=Bn(a);let{class:u=""}=t,{icon:$}=t,{title:f}=t,{isClickable:g=!1}=t;return r.$$set=h=>{t=Ct(Ct({},t),Gt(h)),e(11,l=cn(t,i)),"class"in h&&e(6,u=h.class),"icon"in h&&e(0,$=h.icon),"title"in h&&e(1,f=h.title),"isClickable"in h&&e(2,g=h.isClickable),"$$scope"in h&&e(10,c=h.$$scope)},r.$$.update=()=>{e(7,{class:n,...s}=l,n,(e(4,s),e(11,l))),192&r.$$.dirty&&e(3,o=`settings-card ${u} ${n||""}`)},[$,f,g,o,s,d,u,n,a,function(h){dn.call(this,r,h)},c]}let ho=class extends ct{constructor(r){super(),dt(this,r,tl,Qa,at,{class:6,icon:0,title:1,isClickable:2})}};function el(r){let t;return{c(){t=L("SOURCE FOLDERS")},m(e,n){y(e,t,n)},d(e){e&&v(t)}}}function nl(r){let t;return{c(){t=L("FILES")},m(e,n){y(e,t,n)},d(e){e&&v(t)}}}function sl(r){let t,e=r[2].toLocaleString()+"";return{c(){t=L(e)},m(n,s){y(n,t,s)},p(n,s){4&s&&e!==(e=n[2].toLocaleString()+"")&&rt(t,e)},d(n){n&&v(t)}}}function rl(r){let t,e,n,s,o,i,l,a,c,d,u,$,f,g;return n=new Y({props:{size:1,weight:"medium",class:"context-section-header",$$slots:{default:[el]},$$scope:{ctx:r}}}),o=new Fa({props:{folders:r[0],onRemove:r[7],onAddMore:r[8]}}),c=new Y({props:{size:1,weight:"medium",class:"context-section-header",$$slots:{default:[nl]},$$scope:{ctx:r}}}),u=new Y({props:{size:1,class:"file-count",$$slots:{default:[sl]},$$scope:{ctx:r}}}),f=new Ba({props:{wsContextModel:r[3]}}),{c(){t=k("div"),e=k("div"),x(n.$$.fragment),s=A(),x(o.$$.fragment),i=A(),l=k("div"),a=k("div"),x(c.$$.fragment),d=A(),x(u.$$.fragment),$=A(),x(f.$$.fragment),w(a,"class","files-header svelte-qsnirf"),w(t,"class","context-list svelte-qsnirf")},m(h,C){y(h,t,C),b(t,e),_(n,e,null),b(e,s),_(o,e,null),b(t,i),b(t,l),b(l,a),_(c,a,null),b(a,d),_(u,a,null),b(l,$),_(f,l,null),g=!0},p(h,C){const I={};512&C&&(I.$$scope={dirty:C,ctx:h}),n.$set(I);const E={};1&C&&(E.folders=h[0]),o.$set(E);const T={};512&C&&(T.$$scope={dirty:C,ctx:h}),c.$set(T);const M={};516&C&&(M.$$scope={dirty:C,ctx:h}),u.$set(M)},i(h){g||(p(n.$$.fragment,h),p(o.$$.fragment,h),p(c.$$.fragment,h),p(u.$$.fragment,h),p(f.$$.fragment,h),g=!0)},o(h){m(n.$$.fragment,h),m(o.$$.fragment,h),m(c.$$.fragment,h),m(u.$$.fragment,h),m(f.$$.fragment,h),g=!1},d(h){h&&v(t),S(n),S(o),S(c),S(u),S(f)}}}function As(r){let t,e;return t=new tn({props:{title:"Refresh",variant:"ghost-block",color:"neutral",size:1,$$slots:{default:[ol]},$$scope:{ctx:r}}}),t.$on("click",r[5]),t.$on("keyup",ui("Enter",r[6])),{c(){x(t.$$.fragment)},m(n,s){_(t,n,s),e=!0},p(n,s){const o={};512&s&&(o.$$scope={dirty:s,ctx:n}),t.$set(o)},i(n){e||(p(t.$$.fragment,n),e=!0)},o(n){m(t.$$.fragment,n),e=!1},d(n){S(t,n)}}}function ol(r){let t,e;return t=new Xo({}),{c(){x(t.$$.fragment)},m(n,s){_(t,n,s),e=!0},i(n){e||(p(t.$$.fragment,n),e=!0)},o(n){m(t.$$.fragment,n),e=!1},d(n){S(t,n)}}}function il(r){let t,e,n=r[1]===jn.done&&As(r);return{c(){t=k("div"),n&&n.c(),w(t,"slot","header-right")},m(s,o){y(s,t,o),n&&n.m(t,null),e=!0},p(s,o){s[1]===jn.done?n?(n.p(s,o),2&o&&p(n,1)):(n=As(s),n.c(),p(n,1),n.m(t,null)):n&&(U(),m(n,1,1,()=>{n=null}),V())},i(s){e||(p(n),e=!0)},o(s){m(n),e=!1},d(s){s&&v(t),n&&n.d()}}}function al(r){let t,e,n,s;return t=new ho({props:{icon:Ja,title:"Context",$$slots:{"header-right":[il],default:[rl]},$$scope:{ctx:r}}}),t.$on("contextmenu",ll),{c(){x(t.$$.fragment)},m(o,i){_(t,o,i),e=!0,n||(s=It(window,"message",r[3].handleMessageFromExtension),n=!0)},p(o,[i]){const l={};519&i&&(l.$$scope={dirty:i,ctx:o}),t.$set(l)},i(o){e||(p(t.$$.fragment,o),e=!0)},o(o){m(t.$$.fragment,o),e=!1},d(o){S(t,o),n=!1,s()}}}const ll=r=>r.preventDefault();function cl(r,t,e){let n,s,o,i,l=new re(kt,new pi(kt.postMessage));return Dt(r,l,a=>e(4,s=a)),r.$$.update=()=>{16&r.$$.dirty&&e(0,o=s.sourceFolders.sort((a,c)=>a.isWorkspaceFolder!==c.isWorkspaceFolder?a.isWorkspaceFolder?-1:1:a.fileId.folderRoot.localeCompare(c.fileId.folderRoot))),16&r.$$.dirty&&e(1,i=s.syncStatus),1&r.$$.dirty&&e(2,n=o.reduce((a,c)=>a+(c.trackedFileCount??0),0))},[o,i,n,l,s,()=>l.requestRefresh(),()=>l.requestRefresh(),a=>l.removeSourceFolder(a),()=>l.addMoreSourceFolders()]}class dl extends ct{constructor(t){super(),dt(this,t,cl,al,at,{})}}function go(r){return function(t){switch(typeof t){case"object":return t!=null;case"function":return!0;default:return!1}}(r)&&"name"in r}function Ns(r){return go(r)&&"component"in r}function ul(r){let t,e;return{c(){t=Ot("svg"),e=Ot("path"),w(e,"d","M5.5 1.75V3H10.5V1.75C10.5 1.625 10.375 1.5 10.25 1.5H5.75C5.59375 1.5 5.5 1.625 5.5 1.75ZM4 3V1.75C4 0.8125 4.78125 0 5.75 0H10.25C11.1875 0 12 0.8125 12 1.75V3H14C15.0938 3 16 3.90625 16 5V8.75V13C16 14.125 15.0938 15 14 15H2C0.875 15 0 14.125 0 13V8.75V5C0 3.90625 0.875 3 2 3H4ZM1.5 9.5V13C1.5 13.2812 1.71875 13.5 2 13.5H14C14.25 13.5 14.5 13.2812 14.5 13V9.5H10V10C10 10.5625 9.53125 11 9 11H7C6.4375 11 6 10.5625 6 10V9.5H1.5ZM6 8H10H14.5V5C14.5 4.75 14.25 4.5 14 4.5H11.25H4.75H2C1.71875 4.5 1.5 4.75 1.5 5V8H6Z"),w(e,"fill","currentColor"),w(t,"width","16"),w(t,"height","15"),w(t,"viewBox","0 0 16 15"),w(t,"xmlns","http://www.w3.org/2000/svg")},m(n,s){y(n,t,s),b(t,e)},p:J,i:J,o:J,d(n){n&&v(t)}}}class vo extends ct{constructor(t){super(),dt(this,t,null,ul,at,{})}}const pl=r=>({item:1&r}),Is=r=>({item:r[0]}),ml=r=>({}),Es=r=>({});function Ps(r){var c;let t,e,n,s,o;t=new Y({props:{size:4,weight:"medium",color:"neutral",$$slots:{default:[fl]},$$scope:{ctx:r}}});let i=((c=r[0])==null?void 0:c.description)&&Rs(r);const l=r[1].content,a=Mt(l,r,r[2],Is);return{c(){x(t.$$.fragment),e=A(),i&&i.c(),n=A(),s=k("div"),a&&a.c(),w(s,"class","c-navigation__content-container svelte-z0ijuz")},m(d,u){_(t,d,u),y(d,e,u),i&&i.m(d,u),y(d,n,u),y(d,s,u),a&&a.m(s,null),o=!0},p(d,u){var f;const $={};5&u&&($.$$scope={dirty:u,ctx:d}),t.$set($),(f=d[0])!=null&&f.description?i?(i.p(d,u),1&u&&p(i,1)):(i=Rs(d),i.c(),p(i,1),i.m(n.parentNode,n)):i&&(U(),m(i,1,1,()=>{i=null}),V()),a&&a.p&&(!o||5&u)&&Tt(a,l,d,d[2],o?Nt(l,d[2],u,pl):At(d[2]),Is)},i(d){o||(p(t.$$.fragment,d),p(i),p(a,d),o=!0)},o(d){m(t.$$.fragment,d),m(i),m(a,d),o=!1},d(d){d&&(v(e),v(n),v(s)),S(t,d),i&&i.d(d),a&&a.d(d)}}}function fl(r){var s;let t,e,n=((s=r[0])==null?void 0:s.name)+"";return{c(){t=k("div"),e=L(n),w(t,"class","c-navigation__content-header svelte-z0ijuz")},m(o,i){y(o,t,i),b(t,e)},p(o,i){var l;1&i&&n!==(n=((l=o[0])==null?void 0:l.name)+"")&&rt(e,n)},d(o){o&&v(t)}}}function Rs(r){let t,e;return t=new Y({props:{color:"secondary",size:1,weight:"light",$$slots:{default:[$l]},$$scope:{ctx:r}}}),{c(){x(t.$$.fragment)},m(n,s){_(t,n,s),e=!0},p(n,s){const o={};5&s&&(o.$$scope={dirty:s,ctx:n}),t.$set(o)},i(n){e||(p(t.$$.fragment,n),e=!0)},o(n){m(t.$$.fragment,n),e=!1},d(n){S(t,n)}}}function $l(r){var s;let t,e,n=((s=r[0])==null?void 0:s.description)+"";return{c(){t=k("div"),e=L(n),w(t,"class","c-navigation__content-description svelte-z0ijuz")},m(o,i){y(o,t,i),b(t,e)},p(o,i){var l;1&i&&n!==(n=((l=o[0])==null?void 0:l.description)+"")&&rt(e,n)},d(o){o&&v(t)}}}function hl(r){let t,e,n,s,o;const i=r[1].header,l=Mt(i,r,r[2],Es);let a=r[0]!=null&&Ps(r);return{c(){var c;t=k("div"),l&&l.c(),e=A(),n=k("div"),a&&a.c(),w(t,"class","c-navigation__content svelte-z0ijuz"),w(t,"id",s=(c=r[0])==null?void 0:c.id)},m(c,d){y(c,t,d),l&&l.m(t,null),b(t,e),b(t,n),a&&a.m(n,null),o=!0},p(c,[d]){var u;l&&l.p&&(!o||4&d)&&Tt(l,i,c,c[2],o?Nt(i,c[2],d,ml):At(c[2]),Es),c[0]!=null?a?(a.p(c,d),1&d&&p(a,1)):(a=Ps(c),a.c(),p(a,1),a.m(n,null)):a&&(U(),m(a,1,1,()=>{a=null}),V()),(!o||1&d&&s!==(s=(u=c[0])==null?void 0:u.id))&&w(t,"id",s)},i(c){o||(p(l,c),p(a),o=!0)},o(c){m(l,c),m(a),o=!1},d(c){c&&v(t),l&&l.d(c),a&&a.d()}}}function gl(r,t,e){let{$$slots:n={},$$scope:s}=t,{item:o}=t;return r.$$set=i=>{"item"in i&&e(0,o=i.item),"$$scope"in i&&e(2,s=i.$$scope)},[o,n,s]}class yo extends ct{constructor(t){super(),dt(this,t,gl,hl,at,{item:0})}}function vl(r,t){let e;function n({scrollTo:s,delay:o,options:i}){clearTimeout(e),s&&(e=setTimeout(()=>{r.scrollIntoView(i)},o))}return n(t),{update:n,destroy(){clearTimeout(e)}}}function Ls(r,t,e){const n=r.slice();return n[13]=t[e][0],n[14]=t[e][1],n}function Os(r,t,e){const n=r.slice();return n[22]=t[e],n}const yl=r=>({item:32&r}),zs=r=>({slot:"content",item:r[22]}),wl=r=>({label:32&r,mode:4&r}),Zs=r=>({label:r[13],mode:r[2]}),xl=r=>({item:1&r}),Fs=r=>({item:r[0]});function js(r,t,e){const n=r.slice();return n[13]=t[e][0],n[14]=t[e][1],n}function Ds(r,t,e){const n=r.slice();return n[17]=t[e],n}const _l=r=>({label:32&r,mode:4&r}),Us=r=>({label:r[13],mode:r[2]}),Sl=r=>({item:1&r,selectedId:2&r}),Vs=r=>({slot:"header",item:r[0],selectedId:r[1]}),Cl=r=>({item:1&r,isSelected:3&r}),qs=r=>{var t;return{slot:"content",item:r[0],isSelected:((t=r[0])==null?void 0:t.id)===r[1]}};function bl(r){let t,e,n;const s=r[10].header,o=Mt(s,r,r[12],Fs);let i=mt(r[5]),l=[];for(let c=0;c<i.length;c+=1)l[c]=Gs(Ls(r,i,c));const a=c=>m(l[c],1,1,()=>{l[c]=null});return{c(){t=k("div"),o&&o.c(),e=A();for(let c=0;c<l.length;c+=1)l[c].c();w(t,"class","c-navigation__flat svelte-n5ccbo")},m(c,d){y(c,t,d),o&&o.m(t,null),b(t,e);for(let u=0;u<l.length;u+=1)l[u]&&l[u].m(t,null);n=!0},p(c,d){if(o&&o.p&&(!n||4097&d)&&Tt(o,s,c,c[12],n?Nt(s,c[12],d,xl):At(c[12]),Fs),4134&d){let u;for(i=mt(c[5]),u=0;u<i.length;u+=1){const $=Ls(c,i,u);l[u]?(l[u].p($,d),p(l[u],1)):(l[u]=Gs($),l[u].c(),p(l[u],1),l[u].m(t,null))}for(U(),u=i.length;u<l.length;u+=1)a(u);V()}},i(c){if(!n){p(o,c);for(let d=0;d<i.length;d+=1)p(l[d]);n=!0}},o(c){m(o,c),l=l.filter(Boolean);for(let d=0;d<l.length;d+=1)m(l[d]);n=!1},d(c){c&&v(t),o&&o.d(c),me(l,c)}}}function kl(r){let t,e;return t=new mi({props:{initialWidth:200,expandedMinWidth:150,columnLayoutThreshold:0,showButton:r[3],minimized:!1,$$slots:{right:[Rl],left:[Il]},$$scope:{ctx:r}}}),{c(){x(t.$$.fragment)},m(n,s){_(t,n,s),e=!0},p(n,s){const o={};8&s&&(o.showButton=n[3]),4135&s&&(o.$$scope={dirty:s,ctx:n}),t.$set(o)},i(n){e||(p(t.$$.fragment,n),e=!0)},o(n){m(t.$$.fragment,n),e=!1},d(n){S(t,n)}}}function Ml(r){let t,e,n,s,o,i,l=r[13]+"";return e=new vo({}),{c(){t=k("span"),x(e.$$.fragment),n=A(),s=k("span"),o=L(l),w(t,"class","c-navigation__head-icon")},m(a,c){y(a,t,c),_(e,t,null),y(a,n,c),y(a,s,c),b(s,o),i=!0},p(a,c){(!i||32&c)&&l!==(l=a[13]+"")&&rt(o,l)},i(a){i||(p(e.$$.fragment,a),i=!0)},o(a){m(e.$$.fragment,a),i=!1},d(a){a&&(v(t),v(n),v(s)),S(e)}}}function Tl(r){let t;const e=r[10].content,n=Mt(e,r,r[12],zs);return{c(){n&&n.c()},m(s,o){n&&n.m(s,o),t=!0},p(s,o){n&&n.p&&(!t||4128&o)&&Tt(n,e,s,s[12],t?Nt(e,s[12],o,yl):At(s[12]),zs)},i(s){t||(p(n,s),t=!0)},o(s){m(n,s),t=!1},d(s){n&&n.d(s)}}}function Bs(r){let t,e,n,s,o,i,l;return e=new yo({props:{item:r[22],$$slots:{content:[Tl]},$$scope:{ctx:r}}}),{c(){t=k("span"),x(e.$$.fragment),n=A()},m(a,c){y(a,t,c),_(e,t,null),b(t,n),o=!0,i||(l=To(s=vl.call(null,t,{scrollTo:r[2]==="flat"&&r[22].id===r[1],delay:300,options:{behavior:"smooth"}})),i=!0)},p(a,c){r=a;const d={};32&c&&(d.item=r[22]),4128&c&&(d.$$scope={dirty:c,ctx:r}),e.$set(d),s&&ye(s.update)&&38&c&&s.update.call(null,{scrollTo:r[2]==="flat"&&r[22].id===r[1],delay:300,options:{behavior:"smooth"}})},i(a){o||(p(e.$$.fragment,a),o=!0)},o(a){m(e.$$.fragment,a),o=!1},d(a){a&&v(t),S(e),i=!1,l()}}}function Gs(r){let t,e,n,s;const o=r[10].group,i=Mt(o,r,r[12],Zs),l=i||function(u){let $,f;return $=new Y({props:{color:"secondary",size:2,weight:"medium",$$slots:{default:[Ml]},$$scope:{ctx:u}}}),{c(){x($.$$.fragment)},m(g,h){_($,g,h),f=!0},p(g,h){const C={};4128&h&&(C.$$scope={dirty:h,ctx:g}),$.$set(C)},i(g){f||(p($.$$.fragment,g),f=!0)},o(g){m($.$$.fragment,g),f=!1},d(g){S($,g)}}}(r);let a=mt(r[14]),c=[];for(let u=0;u<a.length;u+=1)c[u]=Bs(Os(r,a,u));const d=u=>m(c[u],1,1,()=>{c[u]=null});return{c(){t=k("div"),l&&l.c(),e=A();for(let u=0;u<c.length;u+=1)c[u].c();n=ht(),w(t,"class","c-navigation__head svelte-n5ccbo")},m(u,$){y(u,t,$),l&&l.m(t,null),y(u,e,$);for(let f=0;f<c.length;f+=1)c[f]&&c[f].m(u,$);y(u,n,$),s=!0},p(u,$){if(i?i.p&&(!s||4132&$)&&Tt(i,o,u,u[12],s?Nt(o,u[12],$,wl):At(u[12]),Zs):l&&l.p&&(!s||32&$)&&l.p(u,s?$:-1),4134&$){let f;for(a=mt(u[14]),f=0;f<a.length;f+=1){const g=Os(u,a,f);c[f]?(c[f].p(g,$),p(c[f],1)):(c[f]=Bs(g),c[f].c(),p(c[f],1),c[f].m(n.parentNode,n))}for(U(),f=a.length;f<c.length;f+=1)d(f);V()}},i(u){if(!s){p(l,u);for(let $=0;$<a.length;$+=1)p(c[$]);s=!0}},o(u){m(l,u),c=c.filter(Boolean);for(let $=0;$<c.length;$+=1)m(c[$]);s=!1},d(u){u&&(v(t),v(e),v(n)),l&&l.d(u),me(c,u)}}}function Al(r){let t,e=r[13]+"";return{c(){t=L(e)},m(n,s){y(n,t,s)},p(n,s){32&s&&e!==(e=n[13]+"")&&rt(t,e)},d(n){n&&v(t)}}}function Nl(r){let t,e,n,s,o,i=r[17].name+"";var l=r[17].icon;return l&&(e=ie(l,{})),{c(){t=k("span"),e&&x(e.$$.fragment),n=A(),s=L(i),w(t,"class","c-navigation__head-icon")},m(a,c){y(a,t,c),e&&_(e,t,null),y(a,n,c),y(a,s,c),o=!0},p(a,c){if(32&c&&l!==(l=a[17].icon)){if(e){U();const d=e;m(d.$$.fragment,1,0,()=>{S(d,1)}),V()}l?(e=ie(l,{}),x(e.$$.fragment),p(e.$$.fragment,1),_(e,t,null)):e=null}(!o||32&c)&&i!==(i=a[17].name+"")&&rt(s,i)},i(a){o||(e&&p(e.$$.fragment,a),o=!0)},o(a){e&&m(e.$$.fragment,a),o=!1},d(a){a&&(v(t),v(n),v(s)),e&&S(e)}}}function Js(r){let t,e,n,s,o,i;function l(){return r[11](r[17])}return e=new Y({props:{size:2,weight:"regular",color:"primary",$$slots:{default:[Nl]},$$scope:{ctx:r}}}),{c(){t=k("button"),x(e.$$.fragment),n=A(),w(t,"class","c-navigation__item svelte-n5ccbo"),$t(t,"is-active",r[17].id===r[1])},m(a,c){y(a,t,c),_(e,t,null),b(t,n),s=!0,o||(i=It(t,"click",l),o=!0)},p(a,c){r=a;const d={};4128&c&&(d.$$scope={dirty:c,ctx:r}),e.$set(d),(!s||34&c)&&$t(t,"is-active",r[17].id===r[1])},i(a){s||(p(e.$$.fragment,a),s=!0)},o(a){m(e.$$.fragment,a),s=!1},d(a){a&&v(t),S(e),o=!1,i()}}}function Hs(r){let t,e,n,s,o;const i=r[10].group,l=Mt(i,r,r[12],Us),a=l||function($){let f,g,h,C,I;return g=new vo({}),C=new Y({props:{size:2,color:"primary",$$slots:{default:[Al]},$$scope:{ctx:$}}}),{c(){f=k("div"),x(g.$$.fragment),h=A(),x(C.$$.fragment),w(f,"class","c-navigation__head svelte-n5ccbo")},m(E,T){y(E,f,T),_(g,f,null),b(f,h),_(C,f,null),I=!0},p(E,T){const M={};4128&T&&(M.$$scope={dirty:T,ctx:E}),C.$set(M)},i(E){I||(p(g.$$.fragment,E),p(C.$$.fragment,E),I=!0)},o(E){m(g.$$.fragment,E),m(C.$$.fragment,E),I=!1},d(E){E&&v(f),S(g),S(C)}}}(r);let c=mt(r[14]),d=[];for(let $=0;$<c.length;$+=1)d[$]=Js(Ds(r,c,$));const u=$=>m(d[$],1,1,()=>{d[$]=null});return{c(){t=k("div"),a&&a.c(),e=A(),n=k("div");for(let $=0;$<d.length;$+=1)d[$].c();s=A(),w(n,"class","c-navigation__items svelte-n5ccbo"),w(t,"class","c-navigation__group")},m($,f){y($,t,f),a&&a.m(t,null),b(t,e),b(t,n);for(let g=0;g<d.length;g+=1)d[g]&&d[g].m(n,null);b(t,s),o=!0},p($,f){if(l?l.p&&(!o||4132&f)&&Tt(l,i,$,$[12],o?Nt(i,$[12],f,_l):At($[12]),Us):a&&a.p&&(!o||32&f)&&a.p($,o?f:-1),98&f){let g;for(c=mt($[14]),g=0;g<c.length;g+=1){const h=Ds($,c,g);d[g]?(d[g].p(h,f),p(d[g],1)):(d[g]=Js(h),d[g].c(),p(d[g],1),d[g].m(n,null))}for(U(),g=c.length;g<d.length;g+=1)u(g);V()}},i($){if(!o){p(a,$);for(let f=0;f<c.length;f+=1)p(d[f]);o=!0}},o($){m(a,$),d=d.filter(Boolean);for(let f=0;f<d.length;f+=1)m(d[f]);o=!1},d($){$&&v(t),a&&a.d($),me(d,$)}}}function Ws(r){let t,e,n=mt(r[5]),s=[];for(let i=0;i<n.length;i+=1)s[i]=Hs(js(r,n,i));const o=i=>m(s[i],1,1,()=>{s[i]=null});return{c(){for(let i=0;i<s.length;i+=1)s[i].c();t=ht()},m(i,l){for(let a=0;a<s.length;a+=1)s[a]&&s[a].m(i,l);y(i,t,l),e=!0},p(i,l){if(4198&l){let a;for(n=mt(i[5]),a=0;a<n.length;a+=1){const c=js(i,n,a);s[a]?(s[a].p(c,l),p(s[a],1)):(s[a]=Hs(c),s[a].c(),p(s[a],1),s[a].m(t.parentNode,t))}for(U(),a=n.length;a<s.length;a+=1)o(a);V()}},i(i){if(!e){for(let l=0;l<n.length;l+=1)p(s[l]);e=!0}},o(i){s=s.filter(Boolean);for(let l=0;l<s.length;l+=1)m(s[l]);e=!1},d(i){i&&v(t),me(s,i)}}}function Il(r){let t,e,n=r[1],s=Ws(r);return{c(){t=k("nav"),s.c(),w(t,"class","c-navigation__nav svelte-n5ccbo"),w(t,"slot","left")},m(o,i){y(o,t,i),s.m(t,null),e=!0},p(o,i){2&i&&at(n,n=o[1])?(U(),m(s,1,1,J),V(),s=Ws(o),s.c(),p(s,1),s.m(t,null)):s.p(o,i)},i(o){e||(p(s),e=!0)},o(o){m(s),e=!1},d(o){o&&v(t),s.d(o)}}}function El(r){let t;const e=r[10].header,n=Mt(e,r,r[12],Vs);return{c(){n&&n.c()},m(s,o){n&&n.m(s,o),t=!0},p(s,o){n&&n.p&&(!t||4099&o)&&Tt(n,e,s,s[12],t?Nt(e,s[12],o,Sl):At(s[12]),Vs)},i(s){t||(p(n,s),t=!0)},o(s){m(n,s),t=!1},d(s){n&&n.d(s)}}}function Ks(r){let t,e,n;const s=[r[0].props];var o=r[0].component;function i(l,a){let c={};for(let d=0;d<s.length;d+=1)c=Ct(c,s[d]);return a!==void 0&&1&a&&(c=Ct(c,oe(s,[ns(l[0].props)]))),{props:c}}return o&&(t=ie(o,i(r))),{c(){t&&x(t.$$.fragment),e=ht()},m(l,a){t&&_(t,l,a),y(l,e,a),n=!0},p(l,a){if(1&a&&o!==(o=l[0].component)){if(t){U();const c=t;m(c.$$.fragment,1,0,()=>{S(c,1)}),V()}o?(t=ie(o,i(l,a)),x(t.$$.fragment),p(t.$$.fragment,1),_(t,e.parentNode,e)):t=null}else if(o){const c=1&a?oe(s,[ns(l[0].props)]):{};t.$set(c)}},i(l){n||(t&&p(t.$$.fragment,l),n=!0)},o(l){t&&m(t.$$.fragment,l),n=!1},d(l){l&&v(e),t&&S(t,l)}}}function Pl(r){let t;const e=r[10].content,n=Mt(e,r,r[12],qs),s=n||function(o){let i,l,a=Ns(o[0])&&Ys(o[0],o[2],o[1]),c=a&&Ks(o);return{c(){c&&c.c(),i=ht()},m(d,u){c&&c.m(d,u),y(d,i,u),l=!0},p(d,u){7&u&&(a=Ns(d[0])&&Ys(d[0],d[2],d[1])),a?c?(c.p(d,u),7&u&&p(c,1)):(c=Ks(d),c.c(),p(c,1),c.m(i.parentNode,i)):c&&(U(),m(c,1,1,()=>{c=null}),V())},i(d){l||(p(c),l=!0)},o(d){m(c),l=!1},d(d){d&&v(i),c&&c.d(d)}}}(r);return{c(){s&&s.c()},m(o,i){s&&s.m(o,i),t=!0},p(o,i){n?n.p&&(!t||4099&i)&&Tt(n,e,o,o[12],t?Nt(e,o[12],i,Cl):At(o[12]),qs):s&&s.p&&(!t||7&i)&&s.p(o,t?i:-1)},i(o){t||(p(s,o),t=!0)},o(o){m(s,o),t=!1},d(o){s&&s.d(o)}}}function Rl(r){let t,e;return t=new yo({props:{item:r[0],slot:"right",$$slots:{content:[Pl],header:[El]},$$scope:{ctx:r}}}),{c(){x(t.$$.fragment)},m(n,s){_(t,n,s),e=!0},p(n,s){const o={};1&s&&(o.item=n[0]),4103&s&&(o.$$scope={dirty:s,ctx:n}),t.$set(o)},i(n){e||(p(t.$$.fragment,n),e=!0)},o(n){m(t.$$.fragment,n),e=!1},d(n){S(t,n)}}}function Ll(r){let t,e,n,s,o;const i=[kl,bl],l=[];function a(c,d){return c[2]==="tree"?0:1}return e=a(r),n=l[e]=i[e](r),{c(){t=k("div"),n.c(),w(t,"class",s="c-navigation c-navigation--mode__"+r[2]+" "+r[4]+" svelte-n5ccbo")},m(c,d){y(c,t,d),l[e].m(t,null),o=!0},p(c,[d]){let u=e;e=a(c),e===u?l[e].p(c,d):(U(),m(l[u],1,1,()=>{l[u]=null}),V(),n=l[e],n?n.p(c,d):(n=l[e]=i[e](c),n.c()),p(n,1),n.m(t,null)),(!o||20&d&&s!==(s="c-navigation c-navigation--mode__"+c[2]+" "+c[4]+" svelte-n5ccbo"))&&w(t,"class",s)},i(c){o||(p(n),o=!0)},o(c){m(n),o=!1},d(c){c&&v(t),l[e].d()}}}function an(r,t,e,n,s,o){return{name:r,description:t,icon:e,id:n}}function Ys(r,t,e){return t!=="tree"||(r==null?void 0:r.id)===e}function Ol(r,t,e){let{$$slots:n={},$$scope:s}=t,{group:o="Workspace Settings"}=t,{items:i=[]}=t,{item:l}=t,{mode:a="tree"}=t,{selectedId:c}=t,{onNavigationChangeItem:d=h=>{}}=t,{showButton:u=!0}=t,{class:$=""}=t,f=new Map;function g(h){e(0,l=h),e(1,c=h==null?void 0:h.id)}return r.$$set=h=>{"group"in h&&e(7,o=h.group),"items"in h&&e(8,i=h.items),"item"in h&&e(0,l=h.item),"mode"in h&&e(2,a=h.mode),"selectedId"in h&&e(1,c=h.selectedId),"onNavigationChangeItem"in h&&e(9,d=h.onNavigationChangeItem),"showButton"in h&&e(3,u=h.showButton),"class"in h&&e(4,$=h.class),"$$scope"in h&&e(12,s=h.$$scope)},r.$$.update=()=>{259&r.$$.dirty&&(c?e(0,l=i.find(h=>(h==null?void 0:h.id)===c)):e(1,c=l==null?void 0:l.id)),384&r.$$.dirty&&e(5,f=i.reduce((h,C)=>{if(!C)return h;const I=C.group??o,E=h.get(I)??[];return E.push(C),h.set(I,E),h},new Map)),257&r.$$.dirty&&(l||e(0,l=i[0])),514&r.$$.dirty&&d(c)},[l,c,a,u,$,f,g,o,i,d,n,h=>g(h),s]}class zl extends ct{constructor(t){super(),dt(this,t,Ol,Ll,at,{group:7,items:8,item:0,mode:2,selectedId:1,onNavigationChangeItem:9,showButton:3,class:4})}}function Zl(r){let t,e;return{c(){t=Ot("svg"),e=Ot("path"),w(e,"d","M3.13281 0.886719L5.97656 3.07422C6.14062 3.21094 6.25 3.40234 6.25 3.59375V5.07031L9.23047 8.05078C10.0234 7.66797 11.0078 7.80469 11.6641 8.46094L14.7266 11.5234C15.082 11.8516 15.082 12.4258 14.7266 12.7539L12.9766 14.5039C12.6484 14.8594 12.0742 14.8594 11.7461 14.5039L8.68359 11.4414C8.02734 10.7852 7.89062 9.77344 8.30078 8.98047L5.32031 6H3.81641C3.625 6 3.43359 5.91797 3.29688 5.75391L1.10938 2.91016C0.917969 2.63672 0.945312 2.28125 1.19141 2.03516L2.28516 0.941406C2.50391 0.722656 2.88672 0.695312 3.13281 0.886719ZM1.62891 11.0586L5.375 7.3125L6.30469 8.24219L2.55859 11.9883C2.39453 12.1523 2.3125 12.3711 2.3125 12.5898C2.3125 13.0547 2.69531 13.4375 3.16016 13.4375C3.37891 13.4375 3.59766 13.3555 3.76172 13.1914L7.17969 9.77344C7.15234 10.293 7.26172 10.8125 7.50781 11.3047L4.69141 14.1211C4.28125 14.5312 3.73438 14.75 3.16016 14.75C1.95703 14.75 1 13.793 1 12.5898C1 12.0156 1.21875 11.4688 1.62891 11.0586ZM13.6602 5.23438L12.9766 5.94531C12.6484 6.27344 12.2109 6.46484 11.7461 6.46484H11.0625C10.0781 6.46484 9.3125 5.67188 9.3125 4.71484V4.00391C9.3125 3.53906 9.47656 3.10156 9.80469 2.77344L10.5156 2.08984C8.875 2.14453 7.5625 3.48438 7.5625 5.125V5.15234L7.125 4.71484V3.59375C7.125 3.32031 7.04297 3.04688 6.90625 2.82812C7.67188 1.59766 9.03906 0.75 10.625 0.75C11.2812 0.75 11.9375 0.914062 12.5117 1.1875C12.7578 1.32422 12.7852 1.65234 12.5938 1.84375L10.7344 3.70312C10.6523 3.78516 10.625 3.89453 10.625 4.00391V4.6875C10.625 4.93359 10.8164 5.125 11.0625 5.125L11.7461 5.15234C11.8555 5.15234 11.9648 5.09766 12.0469 5.01562L13.9062 3.15625C14.0977 2.96484 14.4258 2.99219 14.5625 3.23828C14.8359 3.8125 15 4.46875 15 5.15234C15 6.60156 14.2617 7.91406 13.1406 8.70703L12.293 7.83203C12.2656 7.80469 12.2383 7.77734 12.2109 7.75C13.0586 7.23047 13.6328 6.30078 13.6602 5.23438Z"),w(e,"fill","currentColor"),w(t,"width","16"),w(t,"height","16"),w(t,"viewBox","0 0 16 16"),w(t,"xmlns","http://www.w3.org/2000/svg")},m(n,s){y(n,t,s),b(t,e)},p:J,i:J,o:J,d(n){n&&v(t)}}}class Fl extends ct{constructor(t){super(),dt(this,t,null,Zl,at,{})}}function jl(r){let t,e;return{c(){t=Ot("svg"),e=Ot("path"),w(e,"d","M6.25 10.8125H12.375C12.5938 10.8125 12.8125 10.6211 12.8125 10.375V4.25H11.5C11.0078 4.25 10.625 3.86719 10.625 3.375V2.0625H6.25C6.00391 2.0625 5.8125 2.28125 5.8125 2.5V10.375C5.8125 10.6211 6.00391 10.8125 6.25 10.8125ZM12.375 12.125H6.25C5.26562 12.125 4.5 11.3594 4.5 10.375V2.5C4.5 1.54297 5.26562 0.75 6.25 0.75H10.7617C11.2266 0.75 11.6641 0.941406 11.9922 1.26953L13.6055 2.88281C13.9336 3.21094 14.125 3.64844 14.125 4.11328V10.375C14.125 11.3594 13.332 12.125 12.375 12.125ZM2.53125 3.375C2.88672 3.375 3.1875 3.67578 3.1875 4.03125V11.0312C3.1875 12.3711 4.25391 13.4375 5.59375 13.4375H10.8438C11.1992 13.4375 11.5 13.7383 11.5 14.0938C11.5 14.4766 11.1992 14.75 10.8438 14.75H5.59375C3.51562 14.75 1.875 13.1094 1.875 11.0312V4.03125C1.875 3.67578 2.14844 3.375 2.53125 3.375Z"),w(e,"fill","currentColor"),w(t,"width","16"),w(t,"height","16"),w(t,"viewBox","0 0 16 16"),w(t,"xmlns","http://www.w3.org/2000/svg")},m(n,s){y(n,t,s),b(t,e)},p:J,i:J,o:J,d(n){n&&v(t)}}}class Dl extends ct{constructor(t){super(),dt(this,t,null,jl,at,{})}}const Ul=r=>({}),Xs=r=>({}),Vl=r=>({}),Qs=r=>({});function ql(r){let t;const e=r[8]["header-left"],n=Mt(e,r,r[10],Qs);return{c(){n&&n.c()},m(s,o){n&&n.m(s,o),t=!0},p(s,o){n&&n.p&&(!t||1024&o)&&Tt(n,e,s,s[10],t?Nt(e,s[10],o,Vl):At(s[10]),Qs)},i(s){t||(p(n,s),t=!0)},o(s){m(n,s),t=!1},d(s){n&&n.d(s)}}}function Bl(r){let t,e,n,s=r[0]&&tr(r),o=r[1]&&er(r);return{c(){s&&s.c(),t=A(),o&&o.c(),e=ht()},m(i,l){s&&s.m(i,l),y(i,t,l),o&&o.m(i,l),y(i,e,l),n=!0},p(i,l){i[0]?s?(s.p(i,l),1&l&&p(s,1)):(s=tr(i),s.c(),p(s,1),s.m(t.parentNode,t)):s&&(U(),m(s,1,1,()=>{s=null}),V()),i[1]?o?(o.p(i,l),2&l&&p(o,1)):(o=er(i),o.c(),p(o,1),o.m(e.parentNode,e)):o&&(U(),m(o,1,1,()=>{o=null}),V())},i(i){n||(p(s),p(o),n=!0)},o(i){m(s),m(o),n=!1},d(i){i&&(v(t),v(e)),s&&s.d(i),o&&o.d(i)}}}function tr(r){let t,e,n;var s=r[0];return s&&(e=ie(s,{})),{c(){t=k("div"),e&&x(e.$$.fragment),w(t,"class","icon-wrapper svelte-13uht7n")},m(o,i){y(o,t,i),e&&_(e,t,null),n=!0},p(o,i){if(1&i&&s!==(s=o[0])){if(e){U();const l=e;m(l.$$.fragment,1,0,()=>{S(l,1)}),V()}s?(e=ie(s,{}),x(e.$$.fragment),p(e.$$.fragment,1),_(e,t,null)):e=null}},i(o){n||(e&&p(e.$$.fragment,o),n=!0)},o(o){e&&m(e.$$.fragment,o),n=!1},d(o){o&&v(t),e&&S(e)}}}function er(r){let t,e;return t=new Y({props:{color:"neutral",size:1,weight:"light",class:"card-title",$$slots:{default:[Gl]},$$scope:{ctx:r}}}),{c(){x(t.$$.fragment)},m(n,s){_(t,n,s),e=!0},p(n,s){const o={};1026&s&&(o.$$scope={dirty:s,ctx:n}),t.$set(o)},i(n){e||(p(t.$$.fragment,n),e=!0)},o(n){m(t.$$.fragment,n),e=!1},d(n){S(t,n)}}}function Gl(r){let t;return{c(){t=L(r[1])},m(e,n){y(e,t,n)},p(e,n){2&n&&rt(t,e[1])},d(e){e&&v(t)}}}function nr(r){let t,e;const n=r[8].default,s=Mt(n,r,r[10],null);return{c(){t=k("div"),s&&s.c(),w(t,"class","settings-card-body")},m(o,i){y(o,t,i),s&&s.m(t,null),e=!0},p(o,i){s&&s.p&&(!e||1024&i)&&Tt(s,n,o,o[10],e?Nt(n,o[10],i,null):At(o[10]),null)},i(o){e||(p(s,o),e=!0)},o(o){m(s,o),e=!1},d(o){o&&v(t),s&&s.d(o)}}}function Jl(r){let t,e,n,s,o,i,l,a,c,d,u;const $=[Bl,ql],f=[];function g(M,N){return M[0]||M[1]?0:1}s=g(r),o=f[s]=$[s](r);const h=r[8]["header-right"],C=Mt(h,r,r[10],Xs);let I=r[5].default&&nr(r),E=[{role:"button"},{class:r[3]},r[4]],T={};for(let M=0;M<E.length;M+=1)T=Ct(T,E[M]);return{c(){t=k("div"),e=k("div"),n=k("div"),o.c(),i=A(),l=k("div"),C&&C.c(),a=A(),I&&I.c(),w(n,"class","settings-card-left svelte-13uht7n"),w(l,"class","settings-card-right svelte-13uht7n"),w(e,"class","settings-card-content svelte-13uht7n"),ln(t,T),$t(t,"clickable",r[2]),$t(t,"svelte-13uht7n",!0)},m(M,N){y(M,t,N),b(t,e),b(e,n),f[s].m(n,null),b(e,i),b(e,l),C&&C.m(l,null),b(t,a),I&&I.m(t,null),c=!0,d||(u=It(t,"click",r[9]),d=!0)},p(M,[N]){let P=s;s=g(M),s===P?f[s].p(M,N):(U(),m(f[P],1,1,()=>{f[P]=null}),V(),o=f[s],o?o.p(M,N):(o=f[s]=$[s](M),o.c()),p(o,1),o.m(n,null)),C&&C.p&&(!c||1024&N)&&Tt(C,h,M,M[10],c?Nt(h,M[10],N,Ul):At(M[10]),Xs),M[5].default?I?(I.p(M,N),32&N&&p(I,1)):(I=nr(M),I.c(),p(I,1),I.m(t,null)):I&&(U(),m(I,1,1,()=>{I=null}),V()),ln(t,T=oe(E,[{role:"button"},(!c||8&N)&&{class:M[3]},16&N&&M[4]])),$t(t,"clickable",M[2]),$t(t,"svelte-13uht7n",!0)},i(M){c||(p(o),p(C,M),p(I),c=!0)},o(M){m(o),m(C,M),m(I),c=!1},d(M){M&&v(t),f[s].d(),C&&C.d(M),I&&I.d(),d=!1,u()}}}function Hl(r,t,e){let n,s,o;const i=["class","icon","title","isClickable"];let l=cn(t,i),{$$slots:a={},$$scope:c}=t;const d=Bn(a);let{class:u=""}=t,{icon:$}=t,{title:f}=t,{isClickable:g=!1}=t;return r.$$set=h=>{t=Ct(Ct({},t),Gt(h)),e(11,l=cn(t,i)),"class"in h&&e(6,u=h.class),"icon"in h&&e(0,$=h.icon),"title"in h&&e(1,f=h.title),"isClickable"in h&&e(2,g=h.isClickable),"$$scope"in h&&e(10,c=h.$$scope)},r.$$.update=()=>{e(7,{class:n,...s}=l,n,(e(4,s),e(11,l))),192&r.$$.dirty&&e(3,o=`settings-card ${u} ${n||""}`)},[$,f,g,o,s,d,u,n,a,function(h){dn.call(this,r,h)},c]}class Pe extends ct{constructor(t){super(),dt(this,t,Hl,Jl,at,{class:6,icon:0,title:1,isClickable:2})}}function Wl(r){let t,e,n=[{xmlns:"http://www.w3.org/2000/svg"},{"data-ds-icon":"fa"},{viewBox:"0 0 17 16"},r[0]],s={};for(let o=0;o<n.length;o+=1)s=Ct(s,n[o]);return{c(){t=Ot("svg"),e=new _n(!0),this.h()},l(o){t=Sn(o,"svg",{xmlns:!0,"data-ds-icon":!0,viewBox:!0});var i=Cn(t);e=bn(i,!0),i.forEach(v),this.h()},h(){e.a=null,ae(t,s)},m(o,i){kn(o,t,i),e.m('<!--! Font Awesome Pro 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2024 Fonticons, Inc.--><path d="M3.552 7.158a.568.568 0 0 1 .804 0l.702.702L6.23 6.688c.2-.2.511-.22.734-.06l.07.06a.568.568 0 0 1 0 .804L5.862 8.664l1.626 1.626 1.173-1.172c.2-.2.511-.22.733-.06l.071.06a.568.568 0 0 1 0 .804l-1.173 1.172.703.703c.2.2.22.51.06.733l-.06.07a.568.568 0 0 1-.804 0l-.041-.039-.812.813a3.226 3.226 0 0 1-4.043.421l-.08-.054-.959.96c-.2.2-.511.22-.733.06l-.071-.06a.568.568 0 0 1 0-.804l.96-.96-.054-.079a3.226 3.226 0 0 1 .294-3.91l.127-.133.811-.813-.038-.04a.567.567 0 0 1-.06-.734zm3.759-3.759a.568.568 0 0 1 .804 0l.038.04.815-.813a3.226 3.226 0 0 1 4.043-.421l.078.054.96-.96c.2-.2.511-.22.734-.06l.07.06a.568.568 0 0 1 0 .804l-.96.96.055.079a3.226 3.226 0 0 1-.295 3.91l-.126.133-.814.813.04.04c.201.2.221.511.06.734l-.06.07a.568.568 0 0 1-.804 0L7.31 4.204a.568.568 0 0 1 0-.805m2.39-.04-.884.884 3.093 3.093.884-.884A2.186 2.186 0 1 0 9.7 3.359M4.396 8.664l-.884.884a2.186 2.186 0 1 0 3.092 3.093l.884-.884z"/>',t)},p(o,[i]){ae(t,s=oe(n,[{xmlns:"http://www.w3.org/2000/svg"},{"data-ds-icon":"fa"},{viewBox:"0 0 17 16"},1&i&&o[0]]))},i:J,o:J,d(o){o&&v(t)}}}function Kl(r,t,e){return r.$$set=n=>{e(0,t=Ct(Ct({},t),Gt(n)))},[t=Gt(t)]}class Yl extends ct{constructor(t){super(),dt(this,t,Kl,Wl,at,{})}}function Xl(r){let t,e,n,s,o,i,l,a;return o=new se({props:{triggerOn:[so.Hover],content:"Revoke Access",$$slots:{default:[ec]},$$scope:{ctx:r}}}),l=new Yr.Root({props:{color:"success",size:1,variant:"soft",$$slots:{default:[nc]},$$scope:{ctx:r}}}),{c(){t=k("div"),e=k("div"),n=k("div"),s=k("div"),x(o.$$.fragment),i=A(),x(l.$$.fragment),w(s,"class","icon-button-wrapper svelte-js5lik"),$t(s,"active",r[3]),w(n,"class","connection-status svelte-js5lik"),w(e,"class","icon-container svelte-js5lik"),w(t,"class","status-controls svelte-js5lik")},m(c,d){y(c,t,d),b(t,e),b(e,n),b(n,s),_(o,s,null),b(e,i),_(l,e,null),a=!0},p(c,d){const u={};2051&d&&(u.$$scope={dirty:d,ctx:c}),o.$set(u),(!a||8&d)&&$t(s,"active",c[3]);const $={};2048&d&&($.$$scope={dirty:d,ctx:c}),l.$set($)},i(c){a||(p(o.$$.fragment,c),p(l.$$.fragment,c),a=!0)},o(c){m(o.$$.fragment,c),m(l.$$.fragment,c),a=!1},d(c){c&&v(t),S(o),S(l)}}}function Ql(r){let t,e;return t=new yt({props:{variant:"ghost-block",color:r[2]?"neutral":"accent",size:1,$$slots:{default:[oc]},$$scope:{ctx:r}}}),t.$on("click",r[4]),{c(){x(t.$$.fragment)},m(n,s){_(t,n,s),e=!0},p(n,s){const o={};4&s&&(o.color=n[2]?"neutral":"accent"),2052&s&&(o.$$scope={dirty:s,ctx:n}),t.$set(o)},i(n){e||(p(t.$$.fragment,n),e=!0)},o(n){m(t.$$.fragment,n),e=!1},d(n){S(t,n)}}}function tc(r){let t,e;return t=new Yl({}),{c(){x(t.$$.fragment)},m(n,s){_(t,n,s),e=!0},i(n){e||(p(t.$$.fragment,n),e=!0)},o(n){m(t.$$.fragment,n),e=!1},d(n){S(t,n)}}}function ec(r){let t,e;return t=new tn({props:{color:"neutral",variant:"ghost",size:1,$$slots:{default:[tc]},$$scope:{ctx:r}}}),t.$on("click",r[8]),{c(){x(t.$$.fragment)},m(n,s){_(t,n,s),e=!0},p(n,s){const o={};2048&s&&(o.$$scope={dirty:s,ctx:n}),t.$set(o)},i(n){e||(p(t.$$.fragment,n),e=!0)},o(n){m(t.$$.fragment,n),e=!1},d(n){S(t,n)}}}function nc(r){let t;return{c(){t=L("Connected")},m(e,n){y(e,t,n)},d(e){e&&v(t)}}}function sc(r){let t;return{c(){t=k("span"),t.textContent="Connect"},m(e,n){y(e,t,n)},i:J,o:J,d(e){e&&v(t)}}}function rc(r){let t,e,n,s,o;return e=new Hr({props:{size:1,useCurrentColor:!0}}),{c(){t=k("div"),x(e.$$.fragment),n=A(),s=k("span"),s.textContent="Cancel",w(t,"class","connect-button-spinner svelte-js5lik")},m(i,l){y(i,t,l),_(e,t,null),y(i,n,l),y(i,s,l),o=!0},i(i){o||(p(e.$$.fragment,i),o=!0)},o(i){m(e.$$.fragment,i),o=!1},d(i){i&&(v(t),v(n),v(s)),S(e)}}}function oc(r){let t,e,n,s;const o=[rc,sc],i=[];function l(a,c){return a[2]?0:1}return e=l(r),n=i[e]=o[e](r),{c(){t=k("div"),n.c(),w(t,"class","connect-button-content svelte-js5lik")},m(a,c){y(a,t,c),i[e].m(t,null),s=!0},p(a,c){let d=e;e=l(a),e!==d&&(U(),m(i[d],1,1,()=>{i[d]=null}),V(),n=i[e],n||(n=i[e]=o[e](a),n.c()),p(n,1),n.m(t,null))},i(a){s||(p(n),s=!0)},o(a){m(n),s=!1},d(a){a&&v(t),i[e].d()}}}function ic(r){let t,e,n,s;const o=[Ql,Xl],i=[];function l(a,c){return!a[0].isConfigured&&a[0].authUrl?0:a[0].isConfigured?1:-1}return~(e=l(r))&&(n=i[e]=o[e](r)),{c(){t=k("div"),n&&n.c(),w(t,"slot","header-right")},m(a,c){y(a,t,c),~e&&i[e].m(t,null),s=!0},p(a,c){let d=e;e=l(a),e===d?~e&&i[e].p(a,c):(n&&(U(),m(i[d],1,1,()=>{i[d]=null}),V()),~e?(n=i[e],n?n.p(a,c):(n=i[e]=o[e](a),n.c()),p(n,1),n.m(t,null)):n=null)},i(a){s||(p(n),s=!0)},o(a){m(n),s=!1},d(a){a&&v(t),~e&&i[e].d()}}}function sr(r){let t,e,n,s=r[0].statusMessage+"";return{c(){t=k("div"),e=L(s),w(t,"class",n="status-message "+r[0].statusType+" svelte-js5lik")},m(o,i){y(o,t,i),b(t,e)},p(o,i){1&i&&s!==(s=o[0].statusMessage+"")&&rt(e,s),1&i&&n!==(n="status-message "+o[0].statusType+" svelte-js5lik")&&w(t,"class",n)},d(o){o&&v(t)}}}function ac(r){let t,e,n,s,o,i;e=new Pe({props:{icon:r[0].icon,title:r[0].displayName,$$slots:{"header-right":[ic]},$$scope:{ctx:r}}});let l=r[0].showStatus&&sr(r);return{c(){t=k("div"),x(e.$$.fragment),n=A(),l&&l.c(),w(t,"class","config-wrapper"),w(t,"role","group"),w(t,"aria-label","Connection status controls")},m(a,c){y(a,t,c),_(e,t,null),b(t,n),l&&l.m(t,null),s=!0,o||(i=[It(t,"mouseenter",r[9]),It(t,"mouseleave",r[10])],o=!0)},p(a,[c]){const d={};1&c&&(d.icon=a[0].icon),1&c&&(d.title=a[0].displayName),2063&c&&(d.$$scope={dirty:c,ctx:a}),e.$set(d),a[0].showStatus?l?l.p(a,c):(l=sr(a),l.c(),l.m(t,null)):l&&(l.d(1),l=null)},i(a){s||(p(e.$$.fragment,a),s=!0)},o(a){m(e.$$.fragment,a),s=!1},d(a){a&&v(t),S(e),l&&l.d(),o=!1,xn(i)}}}function lc(r,t,e){let{config:n}=t,{onAuthenticate:s}=t,{onRevokeAccess:o}=t,i=!1,l=null,a=!1;return r.$$set=c=>{"config"in c&&e(0,n=c.config),"onAuthenticate"in c&&e(5,s=c.onAuthenticate),"onRevokeAccess"in c&&e(1,o=c.onRevokeAccess)},r.$$.update=()=>{133&r.$$.dirty&&n.isConfigured&&i&&(e(2,i=!1),l&&(clearTimeout(l),e(7,l=null)))},[n,o,i,a,function(){if(i)e(2,i=!1),l&&(clearTimeout(l),e(7,l=null));else{e(2,i=!0);const c=n.authUrl||"";s(c),e(7,l=setTimeout(()=>{e(2,i=!1),e(7,l=null)},6e4))}},s,()=>{},l,()=>o(n),()=>e(3,a=!0),()=>e(3,a=!1)]}class cc extends ct{constructor(t){super(),dt(this,t,lc,ac,at,{config:0,onAuthenticate:5,onRevokeAccess:1,onToolApprovalConfigChange:6})}get onToolApprovalConfigChange(){return this.$$.ctx[6]}}function dc(r){let t;return{c(){t=L(r[0])},m(e,n){y(e,t,n)},p(e,n){1&n&&rt(t,e[0])},d(e){e&&v(t)}}}function uc(r){let t,e;const n=r[2].default,s=Mt(n,r,r[3],null);return{c(){t=k("div"),s&&s.c(),w(t,"class","category-content")},m(o,i){y(o,t,i),s&&s.m(t,null),e=!0},p(o,i){s&&s.p&&(!e||8&i)&&Tt(s,n,o,o[3],e?Nt(n,o[3],i,null):At(o[3]),null)},i(o){e||(p(s,o),e=!0)},o(o){m(s,o),e=!1},d(o){o&&v(t),s&&s.d(o)}}}function pc(r){let t,e,n,s,o;return e=new Hr({props:{size:1}}),s=new Y({props:{size:1,color:"secondary",$$slots:{default:[mc]},$$scope:{ctx:r}}}),{c(){t=k("div"),x(e.$$.fragment),n=A(),x(s.$$.fragment),w(t,"class","loading-container svelte-2bsejd")},m(i,l){y(i,t,l),_(e,t,null),b(t,n),_(s,t,null),o=!0},p(i,l){const a={};8&l&&(a.$$scope={dirty:l,ctx:i}),s.$set(a)},i(i){o||(p(e.$$.fragment,i),p(s.$$.fragment,i),o=!0)},o(i){m(e.$$.fragment,i),m(s.$$.fragment,i),o=!1},d(i){i&&v(t),S(e),S(s)}}}function mc(r){let t;return{c(){t=L("Loading...")},m(e,n){y(e,t,n)},d(e){e&&v(t)}}}function fc(r){let t,e,n,s,o,i,l;n=new Y({props:{size:1,color:"secondary",weight:"regular",$$slots:{default:[dc]},$$scope:{ctx:r}}});const a=[pc,uc],c=[];function d(u,$){return u[1]?0:1}return o=d(r),i=c[o]=a[o](r),{c(){t=k("div"),e=k("div"),x(n.$$.fragment),s=A(),i.c(),w(e,"class","category-heading"),w(t,"class","category")},m(u,$){y(u,t,$),b(t,e),_(n,e,null),b(t,s),c[o].m(t,null),l=!0},p(u,[$]){const f={};9&$&&(f.$$scope={dirty:$,ctx:u}),n.$set(f);let g=o;o=d(u),o===g?c[o].p(u,$):(U(),m(c[g],1,1,()=>{c[g]=null}),V(),i=c[o],i?i.p(u,$):(i=c[o]=a[o](u),i.c()),p(i,1),i.m(t,null))},i(u){l||(p(n.$$.fragment,u),p(i),l=!0)},o(u){m(n.$$.fragment,u),m(i),l=!1},d(u){u&&v(t),S(n),c[o].d()}}}function $c(r,t,e){let{$$slots:n={},$$scope:s}=t,{title:o}=t,{loading:i=!1}=t;return r.$$set=l=>{"title"in l&&e(0,o=l.title),"loading"in l&&e(1,i=l.loading),"$$scope"in l&&e(3,s=l.$$scope)},[o,i,n,s]}class hc extends ct{constructor(t){super(),dt(this,t,$c,fc,at,{title:0,loading:1})}}function rr(r,t,e){const n=r.slice();return n[5]=t[e],n}function or(r){let t,e;return t=new cc({props:{config:r[5],onAuthenticate:r[2],onRevokeAccess:r[3],onToolApprovalConfigChange:r[4]}}),{c(){x(t.$$.fragment)},m(n,s){_(t,n,s),e=!0},p(n,s){const o={};2&s&&(o.config=n[5]),4&s&&(o.onAuthenticate=n[2]),8&s&&(o.onRevokeAccess=n[3]),16&s&&(o.onToolApprovalConfigChange=n[4]),t.$set(o)},i(n){e||(p(t.$$.fragment,n),e=!0)},o(n){m(t.$$.fragment,n),e=!1},d(n){S(t,n)}}}function gc(r){let t,e,n=mt(r[1]),s=[];for(let i=0;i<n.length;i+=1)s[i]=or(rr(r,n,i));const o=i=>m(s[i],1,1,()=>{s[i]=null});return{c(){t=k("div");for(let i=0;i<s.length;i+=1)s[i].c();w(t,"class","tool-category-list svelte-on3wl5")},m(i,l){y(i,t,l);for(let a=0;a<s.length;a+=1)s[a]&&s[a].m(t,null);e=!0},p(i,l){if(30&l){let a;for(n=mt(i[1]),a=0;a<n.length;a+=1){const c=rr(i,n,a);s[a]?(s[a].p(c,l),p(s[a],1)):(s[a]=or(c),s[a].c(),p(s[a],1),s[a].m(t,null))}for(U(),a=n.length;a<s.length;a+=1)o(a);V()}},i(i){if(!e){for(let l=0;l<n.length;l+=1)p(s[l]);e=!0}},o(i){s=s.filter(Boolean);for(let l=0;l<s.length;l+=1)m(s[l]);e=!1},d(i){i&&v(t),me(s,i)}}}function vc(r){let t,e;return t=new hc({props:{title:r[0],loading:r[1].length===0,$$slots:{default:[gc]},$$scope:{ctx:r}}}),{c(){x(t.$$.fragment)},m(n,s){_(t,n,s),e=!0},p(n,[s]){const o={};1&s&&(o.title=n[0]),2&s&&(o.loading=n[1].length===0),286&s&&(o.$$scope={dirty:s,ctx:n}),t.$set(o)},i(n){e||(p(t.$$.fragment,n),e=!0)},o(n){m(t.$$.fragment,n),e=!1},d(n){S(t,n)}}}function yc(r,t,e){let{title:n}=t,{tools:s=[]}=t,{onAuthenticate:o}=t,{onRevokeAccess:i}=t,{onToolApprovalConfigChange:l=()=>{}}=t;return r.$$set=a=>{"title"in a&&e(0,n=a.title),"tools"in a&&e(1,s=a.tools),"onAuthenticate"in a&&e(2,o=a.onAuthenticate),"onRevokeAccess"in a&&e(3,i=a.onRevokeAccess),"onToolApprovalConfigChange"in a&&e(4,l=a.onToolApprovalConfigChange)},[n,s,o,i,l]}class wc extends ct{constructor(t){super(),dt(this,t,yc,vc,at,{title:0,tools:1,onAuthenticate:2,onRevokeAccess:3,onToolApprovalConfigChange:4})}}class In{constructor(t){lt(this,"servers",Rt([]));this.host=t,this.loadServersFromStorage()}handleMessageFromExtension(t){const e=t.data;if(e.type===ft.getStoredMCPServersResponse){const n=e.data;return Array.isArray(n)&&this.servers.set(n),!0}return!1}async importServersFromJSON(t){return this.importFromJSON(t)}loadServersFromStorage(){try{this.host.postMessage({type:ft.getStoredMCPServers})}catch(t){console.error("Failed to load MCP servers:",t),this.servers.set([])}}saveServers(t){try{this.host.postMessage({type:ft.setStoredMCPServers,data:t})}catch(e){throw console.error("Failed to save MCP servers:",e),new wt("Failed to save MCP servers")}}getServers(){return this.servers}addServer(t){this.checkExistingServerName(t.name),this.servers.update(e=>{const n=[...e,{...t,id:crypto.randomUUID()}];return this.saveServers(n),n})}addServers(t){for(const e of t)this.checkExistingServerName(e.name);this.servers.update(e=>{const n=[...e,...t.map(s=>({...s,id:crypto.randomUUID()}))];return this.saveServers(n),n})}checkExistingServerName(t,e){const n=Ae(this.servers).find(s=>s.name===t);if(n&&(n==null?void 0:n.id)!==e)throw new wt(`Server name '${t}' already exists`)}updateServer(t){this.checkExistingServerName(t.name,t.id),this.servers.update(e=>{const n=e.map(s=>s.id===t.id?t:s);return this.saveServers(n),n})}deleteServer(t){this.servers.update(e=>{const n=e.filter(s=>s.id!==t);return this.saveServers(n),n})}toggleDisabledServer(t){this.servers.update(e=>{const n=e.map(s=>s.id===t?{...s,disabled:!s.disabled}:s);return this.saveServers(n),n})}static convertServerToJSON(t){if(Ft(t))return JSON.stringify({mcpServers:{[t.name]:{url:t.url,type:t.type}}},null,2);{const e=t;return JSON.stringify({mcpServers:{[e.name]:{command:e.command.split(" ")[0],args:e.command.split(" ").slice(1),env:e.env}}},null,2)}}static parseServerValidationMessages(t){const e=new Map,n=new Map;t.forEach(o=>{var l,a;const i=(l=o.tools)==null?void 0:l.filter(c=>!c.enabled).map(c=>c.definition.mcp_tool_name);o.disabled?e.set(o.id,"MCP server has been manually disabled"):o.tools&&o.tools.length===0?e.set(o.id,"No tools are available for this MCP server"):i&&i.length===((a=o.tools)==null?void 0:a.length)?e.set(o.id,"All tools for this MCP server have validation errors: "+i.join(", ")):i&&i.length>0&&n.set(o.id,"MCP server has validation errors in the following tools which have been disabled: "+i.join(", "))});const s=this.parseDuplicateServerIds(t);return{errors:new Map([...e,...s]),warnings:n}}static parseDuplicateServerIds(t){const e=new Map;for(const s of t)e.has(s.name)||e.set(s.name,[]),e.get(s.name).push(s.id);const n=new Map;for(const[,s]of e)if(s.length>1)for(let o=1;o<s.length;o++)n.set(s[o],"MCP server is disabled due to duplicate server names");return n}static convertParsedServerToWebview(t){const{tools:e,...n}=t;return{...n,tools:void 0}}static parseServerConfigFromJSON(t){return mo(t).map(e=>this.convertParsedServerToWebview(e))}importFromJSON(t){try{const e=In.parseServerConfigFromJSON(t),n=Ae(this.servers),s=new Set(n.map(o=>o.name));for(const o of e){if(!o.name)throw new wt("All servers must have a name.");if(s.has(o.name))throw new wt(`A server with the name '${o.name}' already exists.`);s.add(o.name)}return this.servers.update(o=>{const i=[...o,...e.map(l=>({...l,id:crypto.randomUUID()}))];return this.saveServers(i),i}),e.length}catch(e){throw e instanceof wt?e:new wt("Failed to import MCP servers from JSON. Please check the format.")}}}function ir(r,t,e){const n=r.slice();return n[11]=t[e],n[12]=t,n[13]=e,n}function xc(r){let t;return{c(){t=L("Environment Variables")},m(e,n){y(e,t,n)},d(e){e&&v(t)}}}function ar(r){let t,e,n=[],s=new Map,o=mt(r[0]);const i=l=>l[11].id;for(let l=0;l<o.length;l+=1){let a=ir(r,o,l),c=i(a);s.set(c,n[l]=lr(c,a))}return{c(){for(let l=0;l<n.length;l+=1)n[l].c();t=ht()},m(l,a){for(let c=0;c<n.length;c+=1)n[c]&&n[c].m(l,a);y(l,t,a),e=!0},p(l,a){59&a&&(o=mt(l[0]),U(),n=fe(n,a,i,1,l,o,s,t.parentNode,$e,lr,t,ir),V())},i(l){if(!e){for(let a=0;a<o.length;a+=1)p(n[a]);e=!0}},o(l){for(let a=0;a<n.length;a+=1)m(n[a]);e=!1},d(l){l&&v(t);for(let a=0;a<n.length;a+=1)n[a].d(l)}}}function _c(r){let t,e;return t=new Xr({props:{slot:"iconLeft"}}),{c(){x(t.$$.fragment)},m(n,s){_(t,n,s),e=!0},p:J,i(n){e||(p(t.$$.fragment,n),e=!0)},o(n){m(t.$$.fragment,n),e=!1},d(n){S(t,n)}}}function Sc(r){let t,e;return t=new yt({props:{variant:"ghost",color:"neutral",type:"button",size:1,$$slots:{iconLeft:[_c]},$$scope:{ctx:r}}}),t.$on("focus",function(){ye(r[1])&&r[1].apply(this,arguments)}),t.$on("click",function(){return r[10](r[11])}),{c(){x(t.$$.fragment)},m(n,s){_(t,n,s),e=!0},p(n,s){r=n;const o={};16384&s&&(o.$$scope={dirty:s,ctx:r}),t.$set(o)},i(n){e||(p(t.$$.fragment,n),e=!0)},o(n){m(t.$$.fragment,n),e=!1},d(n){S(t,n)}}}function lr(r,t){let e,n,s,o,i,l,a,c,d,u,$,f,g;function h(T){t[6](T,t[11])}let C={size:1,placeholder:"Name",class:"full-width"};function I(T){t[8](T,t[11])}t[11].key!==void 0&&(C.value=t[11].key),s=new le({props:C}),xt.push(()=>_t(s,"value",h)),s.$on("focus",function(){ye(t[1])&&t[1].apply(this,arguments)}),s.$on("change",function(){return t[7](t[11])});let E={size:1,placeholder:"Value",class:"full-width"};return t[11].value!==void 0&&(E.value=t[11].value),a=new le({props:E}),xt.push(()=>_t(a,"value",I)),a.$on("focus",function(){ye(t[1])&&t[1].apply(this,arguments)}),a.$on("change",function(){return t[9](t[11])}),$=new se({props:{content:"Remove",$$slots:{default:[Sc]},$$scope:{ctx:t}}}),{key:r,first:null,c(){e=k("tr"),n=k("td"),x(s.$$.fragment),i=A(),l=k("td"),x(a.$$.fragment),d=A(),u=k("td"),x($.$$.fragment),f=A(),w(n,"class","name-cell svelte-1mazg1z"),w(l,"class","value-cell svelte-1mazg1z"),w(u,"class","action-cell svelte-1mazg1z"),w(e,"class","env-var-row svelte-1mazg1z"),this.first=e},m(T,M){y(T,e,M),b(e,n),_(s,n,null),b(e,i),b(e,l),_(a,l,null),b(e,d),b(e,u),_($,u,null),b(e,f),g=!0},p(T,M){t=T;const N={};!o&&1&M&&(o=!0,N.value=t[11].key,St(()=>o=!1)),s.$set(N);const P={};!c&&1&M&&(c=!0,P.value=t[11].value,St(()=>c=!1)),a.$set(P);const R={};16387&M&&(R.$$scope={dirty:M,ctx:t}),$.$set(R)},i(T){g||(p(s.$$.fragment,T),p(a.$$.fragment,T),p($.$$.fragment,T),g=!0)},o(T){m(s.$$.fragment,T),m(a.$$.fragment,T),m($.$$.fragment,T),g=!1},d(T){T&&v(e),S(s),S(a),S($)}}}function Cc(r){let t;return{c(){t=L("Variable")},m(e,n){y(e,t,n)},d(e){e&&v(t)}}}function bc(r){let t,e;return t=new Qe({props:{slot:"iconLeft"}}),{c(){x(t.$$.fragment)},m(n,s){_(t,n,s),e=!0},p:J,i(n){e||(p(t.$$.fragment,n),e=!0)},o(n){m(t.$$.fragment,n),e=!1},d(n){S(t,n)}}}function kc(r){let t,e,n,s,o,i,l,a;t=new Y({props:{size:1,weight:"medium",$$slots:{default:[xc]},$$scope:{ctx:r}}});let c=r[0].length>0&&ar(r);return l=new yt({props:{size:1,variant:"soft",color:"neutral",type:"button",$$slots:{iconLeft:[bc],default:[Cc]},$$scope:{ctx:r}}}),l.$on("click",r[2]),{c(){x(t.$$.fragment),e=A(),n=k("table"),s=k("tbody"),c&&c.c(),o=A(),i=k("div"),x(l.$$.fragment),w(n,"class","env-vars-table svelte-1mazg1z"),w(i,"class","new-var-button-container svelte-1mazg1z")},m(d,u){_(t,d,u),y(d,e,u),y(d,n,u),b(n,s),c&&c.m(s,null),y(d,o,u),y(d,i,u),_(l,i,null),a=!0},p(d,[u]){const $={};16384&u&&($.$$scope={dirty:u,ctx:d}),t.$set($),d[0].length>0?c?(c.p(d,u),1&u&&p(c,1)):(c=ar(d),c.c(),p(c,1),c.m(s,null)):c&&(U(),m(c,1,1,()=>{c=null}),V());const f={};16384&u&&(f.$$scope={dirty:u,ctx:d}),l.$set(f)},i(d){a||(p(t.$$.fragment,d),p(c),p(l.$$.fragment,d),a=!0)},o(d){m(t.$$.fragment,d),m(c),m(l.$$.fragment,d),a=!1},d(d){d&&(v(e),v(n),v(o),v(i)),S(t,d),c&&c.d(),S(l)}}}function Mc(r,t,e){let{handleEnterEditMode:n}=t,{envVarEntries:s=[]}=t;function o(a){n(),e(0,s=s.filter(c=>c.id!==a))}function i(a,c){const d=s.findIndex(u=>u.id===a);d!==-1&&(e(0,s[d].key=c,s),e(0,s))}function l(a,c){const d=s.findIndex(u=>u.id===a);d!==-1&&(e(0,s[d].value=c,s),e(0,s))}return r.$$set=a=>{"handleEnterEditMode"in a&&e(1,n=a.handleEnterEditMode),"envVarEntries"in a&&e(0,s=a.envVarEntries)},[s,n,function(){n(),e(0,s=[...s,{id:crypto.randomUUID(),key:"",value:""}])},o,i,l,function(a,c){r.$$.not_equal(c.key,a)&&(c.key=a,e(0,s))},a=>i(a.id,a.key),function(a,c){r.$$.not_equal(c.value,a)&&(c.value=a,e(0,s))},a=>l(a.id,a.value),a=>o(a.id)]}class Tc extends ct{constructor(t){super(),dt(this,t,Mc,kc,at,{handleEnterEditMode:1,envVarEntries:0})}}function Ac(r){let t,e,n=[{xmlns:"http://www.w3.org/2000/svg"},{"data-ds-icon":"fa"},{viewBox:"0 0 320 512"},r[0]],s={};for(let o=0;o<n.length;o+=1)s=Ct(s,n[o]);return{c(){t=Ot("svg"),e=new _n(!0),this.h()},l(o){t=Sn(o,"svg",{xmlns:!0,"data-ds-icon":!0,viewBox:!0});var i=Cn(t);e=bn(i,!0),i.forEach(v),this.h()},h(){e.a=null,ae(t,s)},m(o,i){kn(o,t,i),e.m('<!--! Font Awesome Pro 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2024 Fonticons, Inc.--><path d="M305 239c9.4 9.4 9.4 24.6 0 33.9L113 465c-9.4 9.4-24.6 9.4-33.9 0s-9.4-24.6 0-33.9l175-175L79 81c-9.4-9.4-9.4-24.6 0-33.9s24.6-9.4 33.9 0z"/>',t)},p(o,[i]){ae(t,s=oe(n,[{xmlns:"http://www.w3.org/2000/svg"},{"data-ds-icon":"fa"},{viewBox:"0 0 320 512"},1&i&&o[0]]))},i:J,o:J,d(o){o&&v(t)}}}function Nc(r,t,e){return r.$$set=n=>{e(0,t=Ct(Ct({},t),Gt(n)))},[t=Gt(t)]}class Ic extends ct{constructor(t){super(),dt(this,t,Nc,Ac,at,{})}}function cr(r,t,e){const n=r.slice();return n[45]=t[e],n}function Ec(r){let t,e,n,s,o,i,l,a,c,d,u,$,f,g,h,C,I,E,T,M,N,P,R,tt,et,F=(r[0]==="add"||r[0]==="edit")&&!Ft(r[3]);i=new Qo({}),a=new Y({props:{color:"secondary",size:1,weight:"medium",$$slots:{default:[Rc]},$$scope:{ctx:r}}});const Z=[Oc,Lc],q=[];function st(G,z){return G[0]==="addJson"?0:G[0]==="add"||G[0]==="addRemote"||G[0]==="edit"?1:-1}~(d=st(r))&&(u=q[d]=Z[d](r));let j=F&&ur(r);return C=new Tn({props:{variant:"soft",color:"error",size:1,$$slots:{icon:[Kc],default:[Wc]},$$scope:{ctx:r}}}),T=new yt({props:{size:1,variant:"ghost",color:"neutral",type:"button",$$slots:{default:[Yc]},$$scope:{ctx:r}}}),T.$on("click",r[22]),N=new yt({props:{size:1,variant:"solid",color:"accent",loading:r[2],type:"submit",disabled:r[17],$$slots:{default:[nd]},$$scope:{ctx:r}}}),{c(){t=k("form"),e=k("div"),n=k("div"),s=k("div"),o=k("div"),x(i.$$.fragment),l=A(),x(a.$$.fragment),c=A(),u&&u.c(),$=A(),j&&j.c(),f=A(),g=k("div"),h=k("div"),x(C.$$.fragment),I=A(),E=k("div"),x(T.$$.fragment),M=A(),x(N.$$.fragment),w(o,"class","server-icon svelte-igdbzh"),w(s,"class","server-title svelte-igdbzh"),w(n,"class","server-header svelte-igdbzh"),w(h,"class","error-container svelte-igdbzh"),$t(h,"is-error",!!r[1]),w(E,"class","form-actions svelte-igdbzh"),w(g,"class","form-actions-row svelte-igdbzh"),w(e,"class","server-edit-form svelte-igdbzh"),w(t,"class",P="c-mcp-server-card "+(r[0]==="add"||r[0]==="addJson"||r[0]==="addRemote"?"add-server-section":"server-item")+" svelte-igdbzh")},m(G,z){y(G,t,z),b(t,e),b(e,n),b(n,s),b(s,o),_(i,o,null),b(s,l),_(a,s,null),b(e,c),~d&&q[d].m(e,null),b(e,$),j&&j.m(e,null),b(e,f),b(e,g),b(g,h),_(C,h,null),b(g,I),b(g,E),_(T,E,null),b(E,M),_(N,E,null),R=!0,tt||(et=It(t,"submit",Ao(r[21])),tt=!0)},p(G,z){const ut={};65536&z[0]|131072&z[1]&&(ut.$$scope={dirty:z,ctx:G}),a.$set(ut);let Zt=d;d=st(G),d===Zt?~d&&q[d].p(G,z):(u&&(U(),m(q[Zt],1,1,()=>{q[Zt]=null}),V()),~d?(u=q[d],u?u.p(G,z):(u=q[d]=Z[d](G),u.c()),p(u,1),u.m(e,$)):u=null),9&z[0]&&(F=(G[0]==="add"||G[0]==="edit")&&!Ft(G[3])),F?j?(j.p(G,z),9&z[0]&&p(j,1)):(j=ur(G),j.c(),p(j,1),j.m(e,f)):j&&(U(),m(j,1,1,()=>{j=null}),V());const Se={};2&z[0]|131072&z[1]&&(Se.$$scope={dirty:z,ctx:G}),C.$set(Se),(!R||2&z[0])&&$t(h,"is-error",!!G[1]);const Re={};131072&z[1]&&(Re.$$scope={dirty:z,ctx:G}),T.$set(Re);const he={};4&z[0]&&(he.loading=G[2]),131072&z[0]&&(he.disabled=G[17]),1&z[0]|131072&z[1]&&(he.$$scope={dirty:z,ctx:G}),N.$set(he),(!R||1&z[0]&&P!==(P="c-mcp-server-card "+(G[0]==="add"||G[0]==="addJson"||G[0]==="addRemote"?"add-server-section":"server-item")+" svelte-igdbzh"))&&w(t,"class",P)},i(G){R||(p(i.$$.fragment,G),p(a.$$.fragment,G),p(u),p(j),p(C.$$.fragment,G),p(T.$$.fragment,G),p(N.$$.fragment,G),R=!0)},o(G){m(i.$$.fragment,G),m(a.$$.fragment,G),m(u),m(j),m(C.$$.fragment,G),m(T.$$.fragment,G),m(N.$$.fragment,G),R=!1},d(G){G&&v(t),S(i),S(a),~d&&q[d].d(),j&&j.d(),S(C),S(T),S(N),tt=!1,et()}}}function Pc(r){let t,e,n;function s(i){r[36](i)}let o={$$slots:{footer:[Md],header:[Sd]},$$scope:{ctx:r}};return r[14]!==void 0&&(o.collapsed=r[14]),t=new oo({props:o}),xt.push(()=>_t(t,"collapsed",s)),{c(){x(t.$$.fragment)},m(i,l){_(t,i,l),n=!0},p(i,l){const a={};311544&l[0]|131072&l[1]&&(a.$$scope={dirty:l,ctx:i}),!e&&16384&l[0]&&(e=!0,a.collapsed=i[14],St(()=>e=!1)),t.$set(a)},i(i){n||(p(t.$$.fragment,i),n=!0)},o(i){m(t.$$.fragment,i),n=!1},d(i){S(t,i)}}}function Rc(r){let t;return{c(){t=L(r[16])},m(e,n){y(e,t,n)},p(e,n){65536&n[0]&&rt(t,e[16])},d(e){e&&v(t)}}}function Lc(r){var I,E;let t,e,n,s,o,i,l,a,c,d,u=(r[0]==="addRemote"||r[0]==="edit"&&(((I=r[3])==null?void 0:I.type)==="http"||((E=r[3])==null?void 0:E.type)==="sse"))&&dr(r);function $(T){r[40](T)}let f={size:1,placeholder:"Enter a name for your MCP server (e.g., 'Server Memory')",$$slots:{label:[Dc]},$$scope:{ctx:r}};r[8]!==void 0&&(f.value=r[8]),s=new le({props:f}),xt.push(()=>_t(s,"value",$)),s.$on("focus",r[19]);const g=[Vc,Uc],h=[];function C(T,M){var N,P;return T[0]==="addRemote"||((N=T[3])==null?void 0:N.type)==="http"||((P=T[3])==null?void 0:P.type)==="sse"?0:1}return l=C(r),a=h[l]=g[l](r),{c(){u&&u.c(),t=A(),e=k("div"),n=k("div"),x(s.$$.fragment),i=A(),a.c(),c=ht(),w(n,"class","input-field svelte-igdbzh"),w(e,"class","form-row svelte-igdbzh")},m(T,M){u&&u.m(T,M),y(T,t,M),y(T,e,M),b(e,n),_(s,n,null),y(T,i,M),h[l].m(T,M),y(T,c,M),d=!0},p(T,M){var R,tt;T[0]==="addRemote"||T[0]==="edit"&&(((R=T[3])==null?void 0:R.type)==="http"||((tt=T[3])==null?void 0:tt.type)==="sse")?u?(u.p(T,M),9&M[0]&&p(u,1)):(u=dr(T),u.c(),p(u,1),u.m(t.parentNode,t)):u&&(U(),m(u,1,1,()=>{u=null}),V());const N={};131072&M[1]&&(N.$$scope={dirty:M,ctx:T}),!o&&256&M[0]&&(o=!0,N.value=T[8],St(()=>o=!1)),s.$set(N);let P=l;l=C(T),l===P?h[l].p(T,M):(U(),m(h[P],1,1,()=>{h[P]=null}),V(),a=h[l],a?a.p(T,M):(a=h[l]=g[l](T),a.c()),p(a,1),a.m(c.parentNode,c))},i(T){d||(p(u),p(s.$$.fragment,T),p(a),d=!0)},o(T){m(u),m(s.$$.fragment,T),m(a),d=!1},d(T){T&&(v(t),v(e),v(i),v(c)),u&&u.d(T),S(s),h[l].d(T)}}}function Oc(r){let t,e,n,s,o,i,l,a,c;function d($){r[37]($)}n=new Y({props:{size:1,weight:"medium",$$slots:{default:[Hc]},$$scope:{ctx:r}}});let u={size:1,placeholder:"Paste JSON here..."};return r[11]!==void 0&&(u.value=r[11]),l=new ro({props:u}),xt.push(()=>_t(l,"value",d)),{c(){t=k("div"),e=k("div"),x(n.$$.fragment),s=A(),o=k("div"),i=k("div"),x(l.$$.fragment),w(e,"class","input-field svelte-igdbzh"),w(t,"class","form-row svelte-igdbzh"),w(i,"class","input-field svelte-igdbzh"),w(o,"class","form-row svelte-igdbzh")},m($,f){y($,t,f),b(t,e),_(n,e,null),y($,s,f),y($,o,f),b(o,i),_(l,i,null),c=!0},p($,f){const g={};131072&f[1]&&(g.$$scope={dirty:f,ctx:$}),n.$set(g);const h={};!a&&2048&f[0]&&(a=!0,h.value=$[11],St(()=>a=!1)),l.$set(h)},i($){c||(p(n.$$.fragment,$),p(l.$$.fragment,$),c=!0)},o($){m(n.$$.fragment,$),m(l.$$.fragment,$),c=!1},d($){$&&(v(t),v(s),v(o)),S(n),S(l)}}}function dr(r){let t,e,n,s,o,i,l,a,c;return n=new Y({props:{size:1,weight:"medium",$$slots:{default:[zc]},$$scope:{ctx:r}}}),i=new yt({props:{size:1,variant:r[12]==="http"?"solid":"ghost",color:r[12]==="http"?"accent":"neutral",type:"button",$$slots:{default:[Zc]},$$scope:{ctx:r}}}),i.$on("click",r[38]),a=new yt({props:{size:1,variant:r[12]==="sse"?"solid":"ghost",color:r[12]==="sse"?"accent":"neutral",type:"button",$$slots:{default:[Fc]},$$scope:{ctx:r}}}),a.$on("click",r[39]),{c(){t=k("div"),e=k("div"),x(n.$$.fragment),s=A(),o=k("div"),x(i.$$.fragment),l=A(),x(a.$$.fragment),w(o,"class","connection-type-buttons svelte-igdbzh"),w(e,"class","input-field svelte-igdbzh"),w(t,"class","form-row svelte-igdbzh")},m(d,u){y(d,t,u),b(t,e),_(n,e,null),b(e,s),b(e,o),_(i,o,null),b(o,l),_(a,o,null),c=!0},p(d,u){const $={};131072&u[1]&&($.$$scope={dirty:u,ctx:d}),n.$set($);const f={};4096&u[0]&&(f.variant=d[12]==="http"?"solid":"ghost"),4096&u[0]&&(f.color=d[12]==="http"?"accent":"neutral"),131072&u[1]&&(f.$$scope={dirty:u,ctx:d}),i.$set(f);const g={};4096&u[0]&&(g.variant=d[12]==="sse"?"solid":"ghost"),4096&u[0]&&(g.color=d[12]==="sse"?"accent":"neutral"),131072&u[1]&&(g.$$scope={dirty:u,ctx:d}),a.$set(g)},i(d){c||(p(n.$$.fragment,d),p(i.$$.fragment,d),p(a.$$.fragment,d),c=!0)},o(d){m(n.$$.fragment,d),m(i.$$.fragment,d),m(a.$$.fragment,d),c=!1},d(d){d&&v(t),S(n),S(i),S(a)}}}function zc(r){let t;return{c(){t=L("Connection Type")},m(e,n){y(e,t,n)},d(e){e&&v(t)}}}function Zc(r){let t;return{c(){t=L("HTTP")},m(e,n){y(e,t,n)},d(e){e&&v(t)}}}function Fc(r){let t;return{c(){t=L("SSE")},m(e,n){y(e,t,n)},d(e){e&&v(t)}}}function jc(r){let t;return{c(){t=L("Name")},m(e,n){y(e,t,n)},d(e){e&&v(t)}}}function Dc(r){let t,e;return t=new Y({props:{slot:"label",size:1,weight:"medium",$$slots:{default:[jc]},$$scope:{ctx:r}}}),{c(){x(t.$$.fragment)},m(n,s){_(t,n,s),e=!0},p(n,s){const o={};131072&s[1]&&(o.$$scope={dirty:s,ctx:n}),t.$set(o)},i(n){e||(p(t.$$.fragment,n),e=!0)},o(n){m(t.$$.fragment,n),e=!1},d(n){S(t,n)}}}function Uc(r){let t,e,n,s,o;function i(a){r[42](a)}let l={size:1,placeholder:"Enter the MCP command (e.g., 'npx -y @modelcontextprotocol/server-memory')",$$slots:{label:[Bc]},$$scope:{ctx:r}};return r[9]!==void 0&&(l.value=r[9]),n=new le({props:l}),xt.push(()=>_t(n,"value",i)),n.$on("focus",r[19]),{c(){t=k("div"),e=k("div"),x(n.$$.fragment),w(e,"class","input-field svelte-igdbzh"),w(t,"class","form-row svelte-igdbzh")},m(a,c){y(a,t,c),b(t,e),_(n,e,null),o=!0},p(a,c){const d={};131072&c[1]&&(d.$$scope={dirty:c,ctx:a}),!s&&512&c[0]&&(s=!0,d.value=a[9],St(()=>s=!1)),n.$set(d)},i(a){o||(p(n.$$.fragment,a),o=!0)},o(a){m(n.$$.fragment,a),o=!1},d(a){a&&v(t),S(n)}}}function Vc(r){let t,e,n,s,o;function i(a){r[41](a)}let l={size:1,placeholder:"Enter the URL (e.g., 'https://api.example.com/mcp')",$$slots:{label:[Jc]},$$scope:{ctx:r}};return r[10]!==void 0&&(l.value=r[10]),n=new le({props:l}),xt.push(()=>_t(n,"value",i)),n.$on("focus",r[19]),{c(){t=k("div"),e=k("div"),x(n.$$.fragment),w(e,"class","input-field svelte-igdbzh"),w(t,"class","form-row svelte-igdbzh")},m(a,c){y(a,t,c),b(t,e),_(n,e,null),o=!0},p(a,c){const d={};131072&c[1]&&(d.$$scope={dirty:c,ctx:a}),!s&&1024&c[0]&&(s=!0,d.value=a[10],St(()=>s=!1)),n.$set(d)},i(a){o||(p(n.$$.fragment,a),o=!0)},o(a){m(n.$$.fragment,a),o=!1},d(a){a&&v(t),S(n)}}}function qc(r){let t;return{c(){t=L("Command")},m(e,n){y(e,t,n)},d(e){e&&v(t)}}}function Bc(r){let t,e;return t=new Y({props:{slot:"label",size:1,weight:"medium",$$slots:{default:[qc]},$$scope:{ctx:r}}}),{c(){x(t.$$.fragment)},m(n,s){_(t,n,s),e=!0},p(n,s){const o={};131072&s[1]&&(o.$$scope={dirty:s,ctx:n}),t.$set(o)},i(n){e||(p(t.$$.fragment,n),e=!0)},o(n){m(t.$$.fragment,n),e=!1},d(n){S(t,n)}}}function Gc(r){let t;return{c(){t=L("URL")},m(e,n){y(e,t,n)},d(e){e&&v(t)}}}function Jc(r){let t,e;return t=new Y({props:{slot:"label",size:1,weight:"medium",$$slots:{default:[Gc]},$$scope:{ctx:r}}}),{c(){x(t.$$.fragment)},m(n,s){_(t,n,s),e=!0},p(n,s){const o={};131072&s[1]&&(o.$$scope={dirty:s,ctx:n}),t.$set(o)},i(n){e||(p(t.$$.fragment,n),e=!0)},o(n){m(t.$$.fragment,n),e=!1},d(n){S(t,n)}}}function Hc(r){let t;return{c(){t=L("Code Snippet")},m(e,n){y(e,t,n)},d(e){e&&v(t)}}}function ur(r){let t,e,n;function s(i){r[43](i)}let o={handleEnterEditMode:r[19]};return r[13]!==void 0&&(o.envVarEntries=r[13]),t=new Tc({props:o}),xt.push(()=>_t(t,"envVarEntries",s)),{c(){x(t.$$.fragment)},m(i,l){_(t,i,l),n=!0},p(i,l){const a={};!e&&8192&l[0]&&(e=!0,a.envVarEntries=i[13],St(()=>e=!1)),t.$set(a)},i(i){n||(p(t.$$.fragment,i),n=!0)},o(i){m(t.$$.fragment,i),n=!1},d(i){S(t,i)}}}function Wc(r){let t;return{c(){t=L(r[1])},m(e,n){y(e,t,n)},p(e,n){2&n[0]&&rt(t,e[1])},d(e){e&&v(t)}}}function Kc(r){let t,e;return t=new ti({props:{slot:"icon"}}),{c(){x(t.$$.fragment)},m(n,s){_(t,n,s),e=!0},p:J,i(n){e||(p(t.$$.fragment,n),e=!0)},o(n){m(t.$$.fragment,n),e=!1},d(n){S(t,n)}}}function Yc(r){let t;return{c(){t=L("Cancel")},m(e,n){y(e,t,n)},d(e){e&&v(t)}}}function Xc(r){let t;return{c(){t=L("Save")},m(e,n){y(e,t,n)},d(e){e&&v(t)}}}function Qc(r){let t;return{c(){t=L("Add")},m(e,n){y(e,t,n)},d(e){e&&v(t)}}}function td(r){let t;return{c(){t=L("Add")},m(e,n){y(e,t,n)},d(e){e&&v(t)}}}function ed(r){let t;return{c(){t=L("Import")},m(e,n){y(e,t,n)},d(e){e&&v(t)}}}function nd(r){let t;function e(o,i){return o[0]==="addJson"?ed:o[0]==="add"?td:o[0]==="addRemote"?Qc:o[0]==="edit"?Xc:void 0}let n=e(r),s=n&&n(r);return{c(){s&&s.c(),t=ht()},m(o,i){s&&s.m(o,i),y(o,t,i)},p(o,i){n!==(n=e(o))&&(s&&s.d(1),s=n&&n(o),s&&(s.c(),s.m(t.parentNode,t)))},d(o){o&&v(t),s&&s.d(o)}}}function pr(r){let t,e;return t=new tn({props:{size:1,variant:"ghost",$$slots:{default:[od]},$$scope:{ctx:r}}}),t.$on("click",r[35]),{c(){x(t.$$.fragment)},m(n,s){_(t,n,s),e=!0},p(n,s){const o={};16384&s[0]|131072&s[1]&&(o.$$scope={dirty:s,ctx:n}),t.$set(o)},i(n){e||(p(t.$$.fragment,n),e=!0)},o(n){m(t.$$.fragment,n),e=!1},d(n){S(t,n)}}}function sd(r){let t,e;return t=new Gn({}),{c(){x(t.$$.fragment)},m(n,s){_(t,n,s),e=!0},i(n){e||(p(t.$$.fragment,n),e=!0)},o(n){m(t.$$.fragment,n),e=!1},d(n){S(t,n)}}}function rd(r){let t,e;return t=new Ic({}),{c(){x(t.$$.fragment)},m(n,s){_(t,n,s),e=!0},i(n){e||(p(t.$$.fragment,n),e=!0)},o(n){m(t.$$.fragment,n),e=!1},d(n){S(t,n)}}}function od(r){let t,e,n,s;const o=[rd,sd],i=[];function l(a,c){return a[14]?0:1}return t=l(r),e=i[t]=o[t](r),{c(){e.c(),n=ht()},m(a,c){i[t].m(a,c),y(a,n,c),s=!0},p(a,c){let d=t;t=l(a),t!==d&&(U(),m(i[d],1,1,()=>{i[d]=null}),V(),e=i[t],e||(e=i[t]=o[t](a),e.c()),p(e,1),e.m(n.parentNode,n))},i(a){s||(p(e),s=!0)},o(a){m(e),s=!1},d(a){a&&v(n),i[t].d(a)}}}function id(r){let t;return{c(){t=k("div"),w(t,"class","c-dot svelte-igdbzh"),$t(t,"c-green",!r[6]),$t(t,"c-warning",!r[6]&&!!r[7]),$t(t,"c-red",!!r[6]),$t(t,"c-disabled",r[3].disabled)},m(e,n){y(e,t,n)},p(e,n){64&n[0]&&$t(t,"c-green",!e[6]),192&n[0]&&$t(t,"c-warning",!e[6]&&!!e[7]),64&n[0]&&$t(t,"c-red",!!e[6]),8&n[0]&&$t(t,"c-disabled",e[3].disabled)},d(e){e&&v(t)}}}function mr(r){let t,e,n,s=r[18].length+"";return{c(){t=L("("),e=L(s),n=L(") tools")},m(o,i){y(o,t,i),y(o,e,i),y(o,n,i)},p(o,i){262144&i[0]&&s!==(s=o[18].length+"")&&rt(e,s)},d(o){o&&(v(t),v(e),v(n))}}}function ad(r){let t,e,n,s=r[3].name+"",o=r[18].length>0&&mr(r);return{c(){t=L(s),e=A(),o&&o.c(),n=ht()},m(i,l){y(i,t,l),y(i,e,l),o&&o.m(i,l),y(i,n,l)},p(i,l){8&l[0]&&s!==(s=i[3].name+"")&&rt(t,s),i[18].length>0?o?o.p(i,l):(o=mr(i),o.c(),o.m(n.parentNode,n)):o&&(o.d(1),o=null)},d(i){i&&(v(t),v(e),v(n)),o&&o.d(i)}}}function ld(r){let t,e,n;return e=new Y({props:{size:1,weight:"medium",$$slots:{default:[ad]},$$scope:{ctx:r}}}),{c(){t=k("div"),x(e.$$.fragment),w(t,"class","server-name svelte-igdbzh")},m(s,o){y(s,t,o),_(e,t,null),n=!0},p(s,o){const i={};262152&o[0]|131072&o[1]&&(i.$$scope={dirty:o,ctx:s}),e.$set(i)},i(s){n||(p(e.$$.fragment,s),n=!0)},o(s){m(e.$$.fragment,s),n=!1},d(s){s&&v(t),S(e)}}}function cd(r){let t,e=yn(r[3])+"";return{c(){t=L(e)},m(n,s){y(n,t,s)},p(n,s){8&s[0]&&e!==(e=yn(n[3])+"")&&rt(t,e)},d(n){n&&v(t)}}}function dd(r){let t,e;return t=new Y({props:{color:"secondary",size:1,weight:"regular",$$slots:{default:[cd]},$$scope:{ctx:r}}}),{c(){x(t.$$.fragment)},m(n,s){_(t,n,s),e=!0},p(n,s){const o={};8&s[0]|131072&s[1]&&(o.$$scope={dirty:s,ctx:n}),t.$set(o)},i(n){e||(p(t.$$.fragment,n),e=!0)},o(n){m(t.$$.fragment,n),e=!1},d(n){S(t,n)}}}function ud(r){let t,e,n,s,o,i,l,a,c,d=r[18].length>0&&pr(r);return n=new se({props:{content:r[6]||r[7],$$slots:{default:[id]},$$scope:{ctx:r}}}),o=new se({props:{content:r[3].name,side:"top",align:"start",$$slots:{default:[ld]},$$scope:{ctx:r}}}),a=new se({props:{content:yn(r[3]),side:"top",align:"start",$$slots:{default:[dd]},$$scope:{ctx:r}}}),{c(){t=k("div"),d&&d.c(),e=A(),x(n.$$.fragment),s=A(),x(o.$$.fragment),i=A(),l=k("div"),x(a.$$.fragment),w(l,"class","command-text svelte-igdbzh"),w(t,"slot","header-left"),w(t,"class","l-header svelte-igdbzh")},m(u,$){y(u,t,$),d&&d.m(t,null),b(t,e),_(n,t,null),b(t,s),_(o,t,null),b(t,i),b(t,l),_(a,l,null),c=!0},p(u,$){u[18].length>0?d?(d.p(u,$),262144&$[0]&&p(d,1)):(d=pr(u),d.c(),p(d,1),d.m(t,e)):d&&(U(),m(d,1,1,()=>{d=null}),V());const f={};192&$[0]&&(f.content=u[6]||u[7]),200&$[0]|131072&$[1]&&(f.$$scope={dirty:$,ctx:u}),n.$set(f);const g={};8&$[0]&&(g.content=u[3].name),262152&$[0]|131072&$[1]&&(g.$$scope={dirty:$,ctx:u}),o.$set(g);const h={};8&$[0]&&(h.content=yn(u[3])),8&$[0]|131072&$[1]&&(h.$$scope={dirty:$,ctx:u}),a.$set(h)},i(u){c||(p(d),p(n.$$.fragment,u),p(o.$$.fragment,u),p(a.$$.fragment,u),c=!0)},o(u){m(d),m(n.$$.fragment,u),m(o.$$.fragment,u),m(a.$$.fragment,u),c=!1},d(u){u&&v(t),d&&d.d(),S(n),S(o),S(a)}}}function pd(r){let t,e;return t=new fi({}),{c(){x(t.$$.fragment)},m(n,s){_(t,n,s),e=!0},i(n){e||(p(t.$$.fragment,n),e=!0)},o(n){m(t.$$.fragment,n),e=!1},d(n){S(t,n)}}}function md(r){let t,e;return t=new tn({props:{size:1,variant:"ghost-block",color:"neutral",$$slots:{default:[pd]},$$scope:{ctx:r}}}),{c(){x(t.$$.fragment)},m(n,s){_(t,n,s),e=!0},p(n,s){const o={};131072&s[1]&&(o.$$scope={dirty:s,ctx:n}),t.$set(o)},i(n){e||(p(t.$$.fragment,n),e=!0)},o(n){m(t.$$.fragment,n),e=!1},d(n){S(t,n)}}}function fd(r){let t;return{c(){t=L("Edit")},m(e,n){y(e,t,n)},d(e){e&&v(t)}}}function $d(r){let t,e,n,s,o;return e=new $i({}),s=new Y({props:{size:1,weight:"medium",$$slots:{default:[fd]},$$scope:{ctx:r}}}),{c(){t=k("div"),x(e.$$.fragment),n=A(),x(s.$$.fragment),w(t,"class","status-controls-button svelte-igdbzh")},m(i,l){y(i,t,l),_(e,t,null),b(t,n),_(s,t,null),o=!0},p(i,l){const a={};131072&l[1]&&(a.$$scope={dirty:l,ctx:i}),s.$set(a)},i(i){o||(p(e.$$.fragment,i),p(s.$$.fragment,i),o=!0)},o(i){m(e.$$.fragment,i),m(s.$$.fragment,i),o=!1},d(i){i&&v(t),S(e),S(s)}}}function hd(r){let t;return{c(){t=L("Copy JSON")},m(e,n){y(e,t,n)},d(e){e&&v(t)}}}function gd(r){let t,e,n,s,o;return e=new hi({}),s=new Y({props:{size:1,weight:"medium",$$slots:{default:[hd]},$$scope:{ctx:r}}}),{c(){t=k("div"),x(e.$$.fragment),n=A(),x(s.$$.fragment),w(t,"class","status-controls-button svelte-igdbzh")},m(i,l){y(i,t,l),_(e,t,null),b(t,n),_(s,t,null),o=!0},p(i,l){const a={};131072&l[1]&&(a.$$scope={dirty:l,ctx:i}),s.$set(a)},i(i){o||(p(e.$$.fragment,i),p(s.$$.fragment,i),o=!0)},o(i){m(e.$$.fragment,i),m(s.$$.fragment,i),o=!1},d(i){i&&v(t),S(e),S(s)}}}function vd(r){let t;return{c(){t=L("Delete")},m(e,n){y(e,t,n)},d(e){e&&v(t)}}}function yd(r){let t,e,n,s,o;return e=new Xr({}),s=new Y({props:{size:1,weight:"medium",$$slots:{default:[vd]},$$scope:{ctx:r}}}),{c(){t=k("div"),x(e.$$.fragment),n=A(),x(s.$$.fragment),w(t,"class","status-controls-button svelte-igdbzh")},m(i,l){y(i,t,l),_(e,t,null),b(t,n),_(s,t,null),o=!0},p(i,l){const a={};131072&l[1]&&(a.$$scope={dirty:l,ctx:i}),s.$set(a)},i(i){o||(p(e.$$.fragment,i),p(s.$$.fragment,i),o=!0)},o(i){m(e.$$.fragment,i),m(s.$$.fragment,i),o=!1},d(i){i&&v(t),S(e),S(s)}}}function wd(r){let t,e,n,s,o,i;return t=new vt.Item({props:{onSelect:r[19],$$slots:{default:[$d]},$$scope:{ctx:r}}}),n=new vt.Item({props:{onSelect:r[32],$$slots:{default:[gd]},$$scope:{ctx:r}}}),o=new vt.Item({props:{color:"error",onSelect:r[33],$$slots:{default:[yd]},$$scope:{ctx:r}}}),{c(){x(t.$$.fragment),e=A(),x(n.$$.fragment),s=A(),x(o.$$.fragment)},m(l,a){_(t,l,a),y(l,e,a),_(n,l,a),y(l,s,a),_(o,l,a),i=!0},p(l,a){const c={};131072&a[1]&&(c.$$scope={dirty:a,ctx:l}),t.$set(c);const d={};32768&a[0]&&(d.onSelect=l[32]),131072&a[1]&&(d.$$scope={dirty:a,ctx:l}),n.$set(d);const u={};32792&a[0]&&(u.onSelect=l[33]),131072&a[1]&&(u.$$scope={dirty:a,ctx:l}),o.$set(u)},i(l){i||(p(t.$$.fragment,l),p(n.$$.fragment,l),p(o.$$.fragment,l),i=!0)},o(l){m(t.$$.fragment,l),m(n.$$.fragment,l),m(o.$$.fragment,l),i=!1},d(l){l&&(v(e),v(s)),S(t,l),S(n,l),S(o,l)}}}function xd(r){let t,e,n,s;return t=new vt.Trigger({props:{$$slots:{default:[md]},$$scope:{ctx:r}}}),n=new vt.Content({props:{side:"bottom",align:"end",$$slots:{default:[wd]},$$scope:{ctx:r}}}),{c(){x(t.$$.fragment),e=A(),x(n.$$.fragment)},m(o,i){_(t,o,i),y(o,e,i),_(n,o,i),s=!0},p(o,i){const l={};131072&i[1]&&(l.$$scope={dirty:i,ctx:o}),t.$set(l);const a={};32792&i[0]|131072&i[1]&&(a.$$scope={dirty:i,ctx:o}),n.$set(a)},i(o){s||(p(t.$$.fragment,o),p(n.$$.fragment,o),s=!0)},o(o){m(t.$$.fragment,o),m(n.$$.fragment,o),s=!1},d(o){o&&v(e),S(t,o),S(n,o)}}}function _d(r){let t,e,n,s,o,i,l=Zo(),a=l&&function(u){let $,f;return $=new Qr({props:{size:1,checked:!u[3].disabled}}),$.$on("change",u[31]),{c(){x($.$$.fragment)},m(g,h){_($,g,h),f=!0},p(g,h){const C={};8&h[0]&&(C.checked=!g[3].disabled),$.$set(C)},i(g){f||(p($.$$.fragment,g),f=!0)},o(g){m($.$$.fragment,g),f=!1},d(g){S($,g)}}}(r);function c(u){r[34](u)}let d={$$slots:{default:[xd]},$$scope:{ctx:r}};return r[15]!==void 0&&(d.requestClose=r[15]),s=new vt.Root({props:d}),xt.push(()=>_t(s,"requestClose",c)),{c(){t=k("div"),e=k("div"),a&&a.c(),n=A(),x(s.$$.fragment),w(e,"class","status-controls svelte-igdbzh"),w(t,"class","server-actions svelte-igdbzh"),w(t,"slot","header-right")},m(u,$){y(u,t,$),b(t,e),a&&a.m(e,null),b(e,n),_(s,e,null),i=!0},p(u,$){l&&a.p(u,$);const f={};32792&$[0]|131072&$[1]&&(f.$$scope={dirty:$,ctx:u}),!o&&32768&$[0]&&(o=!0,f.requestClose=u[15],St(()=>o=!1)),s.$set(f)},i(u){i||(p(a),p(s.$$.fragment,u),i=!0)},o(u){m(a),m(s.$$.fragment,u),i=!1},d(u){u&&v(t),a&&a.d(),S(s)}}}function Sd(r){let t,e;return t=new Pe({props:{slot:"header",$$slots:{"header-right":[_d],"header-left":[ud]},$$scope:{ctx:r}}}),{c(){x(t.$$.fragment)},m(n,s){_(t,n,s),e=!0},p(n,s){const o={};311544&s[0]|131072&s[1]&&(o.$$scope={dirty:s,ctx:n}),t.$set(o)},i(n){e||(p(t.$$.fragment,n),e=!0)},o(n){m(t.$$.fragment,n),e=!1},d(n){S(t,n)}}}function Cd(r){let t,e=(r[45].definition.mcp_tool_name||r[45].definition.name)+"";return{c(){t=L(e)},m(n,s){y(n,t,s)},p(n,s){262144&s[0]&&e!==(e=(n[45].definition.mcp_tool_name||n[45].definition.name)+"")&&rt(t,e)},d(n){n&&v(t)}}}function fr(r){let t,e;return t=new Y({props:{size:1,color:"secondary",$$slots:{default:[bd]},$$scope:{ctx:r}}}),{c(){x(t.$$.fragment)},m(n,s){_(t,n,s),e=!0},p(n,s){const o={};262144&s[0]|131072&s[1]&&(o.$$scope={dirty:s,ctx:n}),t.$set(o)},i(n){e||(p(t.$$.fragment,n),e=!0)},o(n){m(t.$$.fragment,n),e=!1},d(n){S(t,n)}}}function bd(r){let t,e=r[45].definition.description+"";return{c(){t=L(e)},m(n,s){y(n,t,s)},p(n,s){262144&s[0]&&e!==(e=n[45].definition.description+"")&&rt(t,e)},d(n){n&&v(t)}}}function kd(r){let t,e,n=r[45].definition.description&&fr(r);return{c(){n&&n.c(),t=ht()},m(s,o){n&&n.m(s,o),y(s,t,o),e=!0},p(s,o){s[45].definition.description?n?(n.p(s,o),262144&o[0]&&p(n,1)):(n=fr(s),n.c(),p(n,1),n.m(t.parentNode,t)):n&&(U(),m(n,1,1,()=>{n=null}),V())},i(s){e||(p(n),e=!0)},o(s){m(n),e=!1},d(s){s&&v(t),n&&n.d(s)}}}function $r(r){let t,e,n,s,o,i,l,a,c,d,u;return i=new Y({props:{size:1,weight:"medium",$$slots:{default:[Cd]},$$scope:{ctx:r}}}),c=new se({props:{content:r[45].definition.description,align:"start",$$slots:{default:[kd]},$$scope:{ctx:r}}}),{c(){t=k("div"),e=k("div"),n=k("div"),s=k("div"),o=A(),x(i.$$.fragment),l=A(),a=k("div"),x(c.$$.fragment),d=A(),w(s,"class","tool-status-dot svelte-igdbzh"),$t(s,"enabled",r[45].enabled),$t(s,"disabled",!r[45].enabled),w(n,"class","tool-status svelte-igdbzh"),w(a,"class","c-tool-description svelte-igdbzh"),w(e,"class","c-tool-info svelte-igdbzh"),w(t,"class","c-tool-item svelte-igdbzh")},m($,f){y($,t,f),b(t,e),b(e,n),b(n,s),b(n,o),_(i,n,null),b(e,l),b(e,a),_(c,a,null),b(t,d),u=!0},p($,f){(!u||262144&f[0])&&$t(s,"enabled",$[45].enabled),(!u||262144&f[0])&&$t(s,"disabled",!$[45].enabled);const g={};262144&f[0]|131072&f[1]&&(g.$$scope={dirty:f,ctx:$}),i.$set(g);const h={};262144&f[0]&&(h.content=$[45].definition.description),262144&f[0]|131072&f[1]&&(h.$$scope={dirty:f,ctx:$}),c.$set(h)},i($){u||(p(i.$$.fragment,$),p(c.$$.fragment,$),u=!0)},o($){m(i.$$.fragment,$),m(c.$$.fragment,$),u=!1},d($){$&&v(t),S(i),S(c)}}}function Md(r){let t,e,n=mt(r[18]),s=[];for(let i=0;i<n.length;i+=1)s[i]=$r(cr(r,n,i));const o=i=>m(s[i],1,1,()=>{s[i]=null});return{c(){t=k("div");for(let i=0;i<s.length;i+=1)s[i].c();w(t,"slot","footer")},m(i,l){y(i,t,l);for(let a=0;a<s.length;a+=1)s[a]&&s[a].m(t,null);e=!0},p(i,l){if(262144&l[0]){let a;for(n=mt(i[18]),a=0;a<n.length;a+=1){const c=cr(i,n,a);s[a]?(s[a].p(c,l),p(s[a],1)):(s[a]=$r(c),s[a].c(),p(s[a],1),s[a].m(t,null))}for(U(),a=n.length;a<s.length;a+=1)o(a);V()}},i(i){if(!e){for(let l=0;l<n.length;l+=1)p(s[l]);e=!0}},o(i){s=s.filter(Boolean);for(let l=0;l<s.length;l+=1)m(s[l]);e=!1},d(i){i&&v(t),me(s,i)}}}function Td(r){let t,e,n,s;const o=[Pc,Ec],i=[];function l(a,c){return a[0]==="view"&&a[3]?0:1}return t=l(r),e=i[t]=o[t](r),{c(){e.c(),n=ht()},m(a,c){i[t].m(a,c),y(a,n,c),s=!0},p(a,c){let d=t;t=l(a),t===d?i[t].p(a,c):(U(),m(i[d],1,1,()=>{i[d]=null}),V(),e=i[t],e?e.p(a,c):(e=i[t]=o[t](a),e.c()),p(e,1),e.m(n.parentNode,n))},i(a){s||(p(e),s=!0)},o(a){m(e),s=!1},d(a){a&&v(n),i[t].d(a)}}}function Ad({key:r,value:t}){return r.trim()&&t.trim()}function Nd(r,t,e){let n,s,o,i,l,{server:a=null}=t,{onDelete:c}=t,{onAdd:d}=t,{onSave:u}=t,{onEdit:$}=t,{onToggleDisableServer:f}=t,{onJSONImport:g}=t,{onCancel:h}=t,{disabledText:C}=t,{warningText:I}=t,{mode:E="view"}=t,{mcpServerError:T=""}=t,M=(a==null?void 0:a.name)??"",N=Ft(a)?"":Me(a)?a.command:"",P=Ft(a)?a.url:"",R=Me(a)?a.env??{}:{},tt="",et=Ft(a)?a.type:"http",F=[];q();let Z=!0;function q(){e(13,F=Object.entries(R).map(([z,ut])=>({id:crypto.randomUUID(),key:z,value:ut})))}let st=()=>{},{busy:j=!1}=t;function G(){if(a){const z=In.convertServerToJSON(a);navigator.clipboard.writeText(z)}}return r.$$set=z=>{"server"in z&&e(3,a=z.server),"onDelete"in z&&e(4,c=z.onDelete),"onAdd"in z&&e(23,d=z.onAdd),"onSave"in z&&e(24,u=z.onSave),"onEdit"in z&&e(25,$=z.onEdit),"onToggleDisableServer"in z&&e(5,f=z.onToggleDisableServer),"onJSONImport"in z&&e(26,g=z.onJSONImport),"onCancel"in z&&e(27,h=z.onCancel),"disabledText"in z&&e(6,C=z.disabledText),"warningText"in z&&e(7,I=z.warningText),"mode"in z&&e(0,E=z.mode),"mcpServerError"in z&&e(1,T=z.mcpServerError),"busy"in z&&e(2,j=z.busy)},r.$$.update=()=>{8&r.$$.dirty[0]&&e(18,n=(a==null?void 0:a.tools)??[]),768&r.$$.dirty[0]&&M&&N&&e(1,T=""),1793&r.$$.dirty[0]&&e(30,s=!((E!=="add"||M.trim()&&N.trim())&&(E!=="addRemote"||M.trim()&&P.trim()))),2049&r.$$.dirty[0]&&e(29,o=E==="addJson"&&!tt.trim()),1610612737&r.$$.dirty[0]&&e(17,i=s||E==="view"||o),1&r.$$.dirty[0]&&e(16,l=(()=>{switch(E){case"add":return"New MCP Server";case"addRemote":return"New Remote MCP Server";case"addJson":return"Import MCP Server";default:return"Edit MCP Server"}})())},[E,T,j,a,c,f,C,I,M,N,P,tt,et,F,Z,st,l,i,n,function(){a&&E==="view"&&(e(0,E="edit"),$(a),st())},G,async function(){e(1,T=""),e(2,j=!0);const z=F.filter(Ad);R=Object.fromEntries(z.map(({key:ut,value:Zt})=>[ut.trim(),Zt.trim()])),q();try{if(E==="add"){const ut={type:"stdio",name:M.trim(),command:N.trim(),arguments:"",useShellInterpolation:!0,env:Object.keys(R).length>0?R:void 0};await d(ut)}else if(E==="addRemote"){const ut={type:et,name:M.trim(),url:P.trim()};await d(ut)}else if(E==="addJson"){try{JSON.parse(tt)}catch(ut){const Zt=ut instanceof Error?ut.message:String(ut);throw new wt(`Invalid JSON format: ${Zt}`)}await g(tt)}else if(E==="edit"&&a){if(Ft(a)){const ut={...a,type:et,name:M.trim(),url:P.trim()};await u(ut)}else if(Me(a)){const ut={...a,name:M.trim(),command:N.trim(),arguments:"",env:Object.keys(R).length>0?R:void 0};await u(ut)}}}catch(ut){e(1,T=ut instanceof wt?ut.message:"Failed to save server"),console.warn(ut)}finally{e(2,j=!1)}},function(){e(2,j=!1),e(1,T=""),h==null||h(),e(11,tt=""),e(8,M=(a==null?void 0:a.name)??""),e(9,N=Ft(a)?"":Me(a)?a.command:""),e(10,P=Ft(a)?a.url:""),R=Me(a)&&a.env?{...a.env}:{},e(12,et=Ft(a)?a.type:"http"),q()},d,u,$,g,h,q,o,s,()=>{a&&f(a.id),st()},()=>{G(),st()},()=>{c(a.id),st()},function(z){st=z,e(15,st)},()=>e(14,Z=!Z),function(z){Z=z,e(14,Z)},function(z){tt=z,e(11,tt)},()=>e(12,et="http"),()=>e(12,et="sse"),function(z){M=z,e(8,M)},function(z){P=z,e(10,P)},function(z){N=z,e(9,N)},function(z){F=z,e(13,F)}]}class wo extends ct{constructor(t){super(),dt(this,t,Nd,Td,at,{server:3,onDelete:4,onAdd:23,onSave:24,onEdit:25,onToggleDisableServer:5,onJSONImport:26,onCancel:27,disabledText:6,warningText:7,mode:0,mcpServerError:1,setLocalEnvVarFormState:28,busy:2},null,[-1,-1])}get setLocalEnvVarFormState(){return this.$$.ctx[28]}}function hr(r,t,e){const n=r.slice();return n[21]=t[e],n}function Id(r){let t,e,n;return e=new ei({}),{c(){t=k("div"),x(e.$$.fragment),w(t,"slot","iconLeft"),w(t,"class","search-icon")},m(s,o){y(s,t,o),_(e,t,null),n=!0},p:J,i(s){n||(p(e.$$.fragment,s),n=!0)},o(s){m(e.$$.fragment,s),n=!1},d(s){s&&v(t),S(e)}}}function Ed(r){let t,e=r[21].label+"";return{c(){t=L(e)},m(n,s){y(n,t,s)},p:J,d(n){n&&v(t)}}}function Pd(r){let t,e=r[21].description+"";return{c(){t=L(e)},m(n,s){y(n,t,s)},p:J,d(n){n&&v(t)}}}function gr(r){let t,e,n,s,o,i,l,a,c,d;function u(g){r[16](g)}function $(g){r[17](g)}let f={placeholder:"Enter your API key...",size:1,variant:"surface",type:"password"};return r[4]!==void 0&&(f.value=r[4]),r[5]!==void 0&&(f.textInput=r[5]),e=new le({props:f}),xt.push(()=>_t(e,"value",u)),xt.push(()=>_t(e,"textInput",$)),e.$on("keydown",function(...g){return r[18](r[21],...g)}),l=new yt({props:{variant:"ghost-block",color:"accent",size:1,$$slots:{default:[Rd]},$$scope:{ctx:r}}}),l.$on("click",function(){return r[19](r[21])}),c=new yt({props:{variant:"ghost-block",color:"neutral",size:1,$$slots:{default:[Ld]},$$scope:{ctx:r}}}),c.$on("click",r[10]),{c(){t=k("div"),x(e.$$.fragment),o=A(),i=k("div"),x(l.$$.fragment),a=A(),x(c.$$.fragment),w(i,"class","api-key-actions svelte-1y2bury"),w(t,"class","api-key-input-container svelte-1y2bury")},m(g,h){y(g,t,h),_(e,t,null),b(t,o),b(t,i),_(l,i,null),b(i,a),_(c,i,null),d=!0},p(g,h){r=g;const C={};!n&&16&h&&(n=!0,C.value=r[4],St(()=>n=!1)),!s&&32&h&&(s=!0,C.textInput=r[5],St(()=>s=!1)),e.$set(C);const I={};16777216&h&&(I.$$scope={dirty:h,ctx:r}),l.$set(I);const E={};16777216&h&&(E.$$scope={dirty:h,ctx:r}),c.$set(E)},i(g){d||(p(e.$$.fragment,g),p(l.$$.fragment,g),p(c.$$.fragment,g),d=!0)},o(g){m(e.$$.fragment,g),m(l.$$.fragment,g),m(c.$$.fragment,g),d=!1},d(g){g&&v(t),S(e),S(l),S(c)}}}function Rd(r){let t;return{c(){t=L("Install")},m(e,n){y(e,t,n)},d(e){e&&v(t)}}}function Ld(r){let t;return{c(){t=L("Cancel")},m(e,n){y(e,t,n)},d(e){e&&v(t)}}}function Od(r){let t,e,n,s,o,i;n=new Y({props:{size:1,weight:"medium",$$slots:{default:[Ed]},$$scope:{ctx:r}}});let l=r[21].description&&function(c){let d,u;return d=new Y({props:{size:1,color:"secondary",$$slots:{default:[Pd]},$$scope:{ctx:c}}}),{c(){x(d.$$.fragment)},m($,f){_(d,$,f),u=!0},p($,f){const g={};16777216&f&&(g.$$scope={dirty:f,ctx:$}),d.$set(g)},i($){u||(p(d.$$.fragment,$),u=!0)},o($){m(d.$$.fragment,$),u=!1},d($){S(d,$)}}}(r),a=r[3]===r[21].value&&gr(r);return{c(){t=k("div"),e=k("div"),x(n.$$.fragment),s=A(),l&&l.c(),o=A(),a&&a.c(),w(e,"class","mcp-service-title svelte-1y2bury"),w(t,"slot","header-left"),w(t,"class","mcp-service-info svelte-1y2bury")},m(c,d){y(c,t,d),b(t,e),_(n,e,null),b(t,s),l&&l.m(t,null),b(t,o),a&&a.m(t,null),i=!0},p(c,d){const u={};16777216&d&&(u.$$scope={dirty:d,ctx:c}),n.$set(u),c[21].description&&l.p(c,d),c[3]===c[21].value?a?(a.p(c,d),8&d&&p(a,1)):(a=gr(c),a.c(),p(a,1),a.m(t,null)):a&&(U(),m(a,1,1,()=>{a=null}),V())},i(c){i||(p(n.$$.fragment,c),p(l),p(a),i=!0)},o(c){m(n.$$.fragment,c),m(l),m(a),i=!1},d(c){c&&v(t),S(n),l&&l.d(),a&&a.d()}}}function zd(r){let t,e;return t=new yt({props:{variant:"ghost-block",color:"accent",size:1,$$slots:{default:[Fd]},$$scope:{ctx:r}}}),t.$on("click",function(){return r[15](r[21])}),{c(){x(t.$$.fragment)},m(n,s){_(t,n,s),e=!0},p(n,s){r=n;const o={};16777216&s&&(o.$$scope={dirty:s,ctx:r}),t.$set(o)},i(n){e||(p(t.$$.fragment,n),e=!0)},o(n){m(t.$$.fragment,n),e=!1},d(n){S(t,n)}}}function Zd(r){let t,e,n;return e=new Yr.Root({props:{color:"success",size:1,variant:"soft",$$slots:{default:[jd]},$$scope:{ctx:r}}}),{c(){t=k("div"),x(e.$$.fragment),w(t,"class","installed-indicator svelte-1y2bury")},m(s,o){y(s,t,o),_(e,t,null),n=!0},p(s,o){const i={};16777216&o&&(i.$$scope={dirty:o,ctx:s}),e.$set(i)},i(s){n||(p(e.$$.fragment,s),n=!0)},o(s){m(e.$$.fragment,s),n=!1},d(s){s&&v(t),S(e)}}}function Fd(r){let t;return{c(){t=k("span"),t.textContent="+"},m(e,n){y(e,t,n)},p:J,d(e){e&&v(t)}}}function jd(r){let t;return{c(){t=L("Installed")},m(e,n){y(e,t,n)},d(e){e&&v(t)}}}function Dd(r){let t,e,n,s,o;function i(...d){return r[13](r[21],...d)}const l=[Zd,zd],a=[];function c(d,u){return 1&u&&(e=null),e==null&&(e=!!d[0].some(i)),e?0:1}return n=c(r,-1),s=a[n]=l[n](r),{c(){t=k("div"),s.c(),w(t,"slot","header-right"),w(t,"class","mcp-service-actions svelte-1y2bury")},m(d,u){y(d,t,u),a[n].m(t,null),o=!0},p(d,u){let $=n;n=c(r=d,u),n===$?a[n].p(r,u):(U(),m(a[$],1,1,()=>{a[$]=null}),V(),s=a[n],s?s.p(r,u):(s=a[n]=l[n](r),s.c()),p(s,1),s.m(t,null))},i(d){o||(p(s),o=!0)},o(d){m(s),o=!1},d(d){d&&v(t),a[n].d()}}}function vr(r){let t,e,n,s;return e=new Pe({props:{$$slots:{"header-right":[Dd],"header-left":[Od]},$$scope:{ctx:r}}}),{c(){t=k("div"),x(e.$$.fragment),n=A(),w(t,"class","mcp-service-item")},m(o,i){y(o,t,i),_(e,t,null),b(t,n),s=!0},p(o,i){const l={};16777273&i&&(l.$$scope={dirty:i,ctx:o}),e.$set(l)},i(o){s||(p(e.$$.fragment,o),s=!0)},o(o){m(e.$$.fragment,o),s=!1},d(o){o&&v(t),S(e)}}}function Ud(r){let t,e,n,s,o=r[6].length>9&&function(c){let d,u,$,f;function g(C){c[14](C)}let h={placeholder:"Search MCPs...",size:1,variant:"surface",$$slots:{iconLeft:[Id]},$$scope:{ctx:c}};return c[2]!==void 0&&(h.value=c[2]),u=new le({props:h}),xt.push(()=>_t(u,"value",g)),u.$on("input",c[7]),{c(){d=k("div"),x(u.$$.fragment),w(d,"class","mcp-search-container")},m(C,I){y(C,d,I),_(u,d,null),f=!0},p(C,I){const E={};16777216&I&&(E.$$scope={dirty:I,ctx:C}),!$&&4&I&&($=!0,E.value=C[2],St(()=>$=!1)),u.$set(E)},i(C){f||(p(u.$$.fragment,C),f=!0)},o(C){m(u.$$.fragment,C),f=!1},d(C){C&&v(d),S(u)}}}(r),i=mt(r[6]),l=[];for(let c=0;c<i.length;c+=1)l[c]=vr(hr(r,i,c));const a=c=>m(l[c],1,1,()=>{l[c]=null});return{c(){t=k("div"),o&&o.c(),e=A(),n=k("div");for(let c=0;c<l.length;c+=1)l[c].c();w(n,"class","mcp-list-container svelte-1y2bury"),w(t,"class","mcp-install-content svelte-1y2bury")},m(c,d){y(c,t,d),o&&o.m(t,null),b(t,e),b(t,n);for(let u=0;u<l.length;u+=1)l[u]&&l[u].m(n,null);s=!0},p(c,d){if(c[6].length>9&&o.p(c,d),1913&d){let u;for(i=mt(c[6]),u=0;u<i.length;u+=1){const $=hr(c,i,u);l[u]?(l[u].p($,d),p(l[u],1)):(l[u]=vr($),l[u].c(),p(l[u],1),l[u].m(n,null))}for(U(),u=i.length;u<l.length;u+=1)a(u);V()}},i(c){if(!s){p(o);for(let d=0;d<i.length;d+=1)p(l[d]);s=!0}},o(c){m(o),l=l.filter(Boolean);for(let d=0;d<l.length;d+=1)m(l[d]);s=!1},d(c){c&&v(t),o&&o.d(),me(l,c)}}}function Vd(r){let t;return{c(){t=L("Easy MCP Installation")},m(e,n){y(e,t,n)},d(e){e&&v(t)}}}function qd(r){let t,e,n,s,o;return e=new vi({}),s=new Y({props:{color:"neutral",size:1,weight:"light",class:"card-title",$$slots:{default:[Vd]},$$scope:{ctx:r}}}),{c(){t=k("div"),x(e.$$.fragment),n=A(),x(s.$$.fragment),w(t,"slot","header-left"),w(t,"class","mcp-install-left svelte-1y2bury")},m(i,l){y(i,t,l),_(e,t,null),b(t,n),_(s,t,null),o=!0},p(i,l){const a={};16777216&l&&(a.$$scope={dirty:l,ctx:i}),s.$set(a)},i(i){o||(p(e.$$.fragment,i),p(s.$$.fragment,i),o=!0)},o(i){m(e.$$.fragment,i),m(s.$$.fragment,i),o=!1},d(i){i&&v(t),S(e),S(s)}}}function Bd(r){let t,e,n;return e=new Pe({props:{$$slots:{"header-left":[qd]},$$scope:{ctx:r}}}),{c(){t=k("div"),x(e.$$.fragment),w(t,"slot","header"),w(t,"class","mcp-install-header svelte-1y2bury")},m(s,o){y(s,t,o),_(e,t,null),n=!0},p(s,o){const i={};16777216&o&&(i.$$scope={dirty:o,ctx:s}),e.$set(i)},i(s){n||(p(e.$$.fragment,s),n=!0)},o(s){m(e.$$.fragment,s),n=!1},d(s){s&&v(t),S(e)}}}function Gd(r){let t,e,n,s;function o(l){r[20](l)}let i={$$slots:{header:[Bd],default:[Ud]},$$scope:{ctx:r}};return r[1]!==void 0&&(i.collapsed=r[1]),e=new oo({props:i}),xt.push(()=>_t(e,"collapsed",o)),{c(){t=k("div"),x(e.$$.fragment),w(t,"class","mcp-install-wrapper svelte-1y2bury")},m(l,a){y(l,t,a),_(e,t,null),s=!0},p(l,[a]){const c={};16777277&a&&(c.$$scope={dirty:a,ctx:l}),!n&&2&a&&(n=!0,c.collapsed=l[1],St(()=>n=!1)),e.$set(c)},i(l){s||(p(e.$$.fragment,l),s=!0)},o(l){m(e.$$.fragment,l),s=!1},d(l){l&&v(t),S(e)}}}const Fn="easyMCPInstall.collapsed";function Jd(r,t){return r.value==="tavily"?`npx -y tavily-mcp@latest --TAVILY_API_KEY=${t}`:r.command}function Hd(r,t){switch(r.value){case"tavily":return{};case"exa-search":return{EXA_API_KEY:t};default:return{API_KEY:t}}}function Wd(r,t,e){let{onMCPServerAdd:n}=t,{servers:s=[]}=t,o,i=!1,l="",a=!1,c=null,d="";async function u(g){try{if(s.some(C=>C.name===g.label))return;const h={type:"stdio",name:g.label,command:g.command,arguments:"",useShellInterpolation:!0,env:void 0};n&&n(h)}catch(h){console.error(`Failed to install ${g.label}:`,h)}}async function $(g){try{if(!d.trim())return void(o==null?void 0:o.focus());const h={type:"stdio",name:g.label,command:Jd(g,d.trim()),arguments:"",useShellInterpolation:!0,env:Hd(g,d.trim())};n&&n(h),e(3,c=null),e(4,d="")}catch(h){console.error(`Failed to install ${g.label}:`,h)}}function f(){e(3,c=null),e(4,d="")}r.$$set=g=>{"onMCPServerAdd"in g&&e(11,n=g.onMCPServerAdd),"servers"in g&&e(0,s=g.servers)},r.$$.update=()=>{4098&r.$$.dirty&&typeof window<"u"&&a&&localStorage.setItem(Fn,JSON.stringify(i))};{const g=localStorage.getItem(Fn);if(g!==null)try{e(1,i=JSON.parse(g))}catch{localStorage.removeItem(Fn)}e(12,a=!0)}return[s,i,l,c,d,o,[{value:"context7",label:"Context 7",description:"Package documentation",command:"npx -y @upstash/context7-mcp@latest"},{value:"playwright",label:"Playwright",description:"Browser automation",command:"npx -y @playwright/mcp@latest"},{value:"sequential-thinking",label:"Sequential thinking",description:"Think through complex problems step-by-step.",command:"npx -y @modelcontextprotocol/server-sequential-thinking"}],function(g){const h=g.target;e(2,l=h.value)},u,$,f,n,a,(g,h)=>h.name===g.label,function(g){l=g,e(2,l)},g=>u(g),function(g){d=g,e(4,d)},function(g){o=g,e(5,o)},(g,h)=>{h.key==="Enter"?$(g):h.key==="Escape"&&f()},g=>$(g),function(g){i=g,e(1,i)}]}class Kd extends ct{constructor(t){super(),dt(this,t,Wd,Gd,at,{onMCPServerAdd:11,servers:0})}}const Yd={mcpDocsURL:"https://docs.augmentcode.com/setup-augment/mcp"},Xd={mcpDocsURL:"https://docs.augmentcode.com/jetbrains/setup-augment/mcp"},Qd=Fo(),tu=new class{constructor(r){lt(this,"strings");let t={[is.vscode]:{},[is.jetbrains]:Xd};this.strings={...Yd,...t[r]}}get(r){return this.strings[r]}}(Qd.clientType);function yr(r,t,e){const n=r.slice();return n[24]=t[e],n}function eu(r){let t;return{c(){t=k("div"),t.textContent="MCP",w(t,"class","section-heading-text")},m(e,n){y(e,t,n)},p:J,d(e){e&&v(t)}}}function wr(r,t){let e,n,s;return n=new wo({props:{mode:t[2]===t[24].id?"edit":"view",server:t[24],onAdd:t[8],onSave:t[9],onDelete:t[11],onToggleDisableServer:t[12],onEdit:t[7],onCancel:t[6],onJSONImport:t[10],disabledText:t[4].errors.get(t[24].id),warningText:t[4].warnings.get(t[24].id)}}),{key:r,first:null,c(){e=ht(),x(n.$$.fragment),this.first=e},m(o,i){y(o,e,i),_(n,o,i),s=!0},p(o,i){t=o;const l={};5&i&&(l.mode=t[2]===t[24].id?"edit":"view"),1&i&&(l.server=t[24]),17&i&&(l.disabledText=t[4].errors.get(t[24].id)),17&i&&(l.warningText=t[4].warnings.get(t[24].id)),n.$set(l)},i(o){s||(p(n.$$.fragment,o),s=!0)},o(o){m(n.$$.fragment,o),s=!1},d(o){o&&v(e),S(n,o)}}}function xr(r){let t,e;return t=new wo({props:{mode:r[3],onAdd:r[8],onSave:r[9],onDelete:r[11],onToggleDisableServer:r[12],onEdit:r[7],onCancel:r[6],onJSONImport:r[10]}}),{c(){x(t.$$.fragment)},m(n,s){_(t,n,s),e=!0},p(n,s){const o={};8&s&&(o.mode=n[3]),t.$set(o)},i(n){e||(p(t.$$.fragment,n),e=!0)},o(n){m(t.$$.fragment,n),e=!1},d(n){S(t,n)}}}function nu(r){let t;return{c(){t=L("Add MCP")},m(e,n){y(e,t,n)},d(e){e&&v(t)}}}function su(r){let t,e;return t=new Qe({props:{slot:"iconLeft"}}),{c(){x(t.$$.fragment)},m(n,s){_(t,n,s),e=!0},p:J,i(n){e||(p(t.$$.fragment,n),e=!0)},o(n){m(t.$$.fragment,n),e=!1},d(n){S(t,n)}}}function ru(r){let t;return{c(){t=L("Add remote MCP")},m(e,n){y(e,t,n)},d(e){e&&v(t)}}}function ou(r){let t,e;return t=new Qe({props:{slot:"iconLeft"}}),{c(){x(t.$$.fragment)},m(n,s){_(t,n,s),e=!0},p:J,i(n){e||(p(t.$$.fragment,n),e=!0)},o(n){m(t.$$.fragment,n),e=!1},d(n){S(t,n)}}}function _r(r){let t,e;return t=new yt({props:{disabled:r[5],color:"neutral",variant:"soft",size:1,title:"Add MCP from JSON",$$slots:{iconLeft:[au],default:[iu]},$$scope:{ctx:r}}}),t.$on("click",r[22]),{c(){x(t.$$.fragment)},m(n,s){_(t,n,s),e=!0},p(n,s){const o={};32&s&&(o.disabled=n[5]),134217728&s&&(o.$$scope={dirty:s,ctx:n}),t.$set(o)},i(n){e||(p(t.$$.fragment,n),e=!0)},o(n){m(t.$$.fragment,n),e=!1},d(n){S(t,n)}}}function iu(r){let t;return{c(){t=L("Import from JSON")},m(e,n){y(e,t,n)},d(e){e&&v(t)}}}function au(r){let t,e;return t=new to({props:{slot:"iconLeft"}}),{c(){x(t.$$.fragment)},m(n,s){_(t,n,s),e=!0},p:J,i(n){e||(p(t.$$.fragment,n),e=!0)},o(n){m(t.$$.fragment,n),e=!1},d(n){S(t,n)}}}function lu(r){let t,e,n,s,o,i,l,a,c,d,u,$,f,g,h,C,I,E,T,M,N=[],P=new Map;n=new Y({props:{size:1,weight:"regular",color:"secondary",$$slots:{default:[eu]},$$scope:{ctx:r}}}),u=new Kd({props:{onMCPServerAdd:r[8],servers:r[0]}});let R=mt(r[0]);const tt=Z=>Z[24].id;for(let Z=0;Z<R.length;Z+=1){let q=yr(r,R,Z),st=tt(q);P.set(st,N[Z]=wr(st,q))}let et=(r[3]==="add"||r[3]==="addJson"||r[3]==="addRemote")&&xr(r);C=new yt({props:{disabled:r[5],color:"neutral",variant:"soft",size:1,$$slots:{iconLeft:[su],default:[nu]},$$scope:{ctx:r}}}),C.$on("click",r[20]),E=new yt({props:{disabled:r[5],color:"neutral",variant:"soft",size:1,$$slots:{iconLeft:[ou],default:[ru]},$$scope:{ctx:r}}}),E.$on("click",r[21]);let F=r[1]&&_r(r);return{c(){t=k("div"),e=k("div"),x(n.$$.fragment),s=A(),o=k("div"),i=L(`Configure a new Model Context Protocol server to connect Augment to custom tools. Find out more
    about MCP `),l=k("a"),a=L("in the docs"),c=L("."),d=A(),x(u.$$.fragment),$=A();for(let Z=0;Z<N.length;Z+=1)N[Z].c();f=A(),et&&et.c(),g=A(),h=k("div"),x(C.$$.fragment),I=A(),x(E.$$.fragment),T=A(),F&&F.c(),w(e,"class","section-heading svelte-1vnq4q3"),w(l,"href",r[13]),w(o,"class","description-text svelte-1vnq4q3"),w(t,"class","mcp-servers svelte-1vnq4q3"),w(h,"class","add-mcp-button-container svelte-1vnq4q3")},m(Z,q){y(Z,t,q),b(t,e),_(n,e,null),b(t,s),b(t,o),b(o,i),b(o,l),b(l,a),b(o,c),b(t,d),_(u,t,null),b(t,$);for(let st=0;st<N.length;st+=1)N[st]&&N[st].m(t,null);y(Z,f,q),et&&et.m(Z,q),y(Z,g,q),y(Z,h,q),_(C,h,null),b(h,I),_(E,h,null),b(h,T),F&&F.m(h,null),M=!0},p(Z,[q]){const st={};134217728&q&&(st.$$scope={dirty:q,ctx:Z}),n.$set(st);const j={};1&q&&(j.servers=Z[0]),u.$set(j),8149&q&&(R=mt(Z[0]),U(),N=fe(N,q,tt,1,Z,R,P,t,$e,wr,null,yr),V()),Z[3]==="add"||Z[3]==="addJson"||Z[3]==="addRemote"?et?(et.p(Z,q),8&q&&p(et,1)):(et=xr(Z),et.c(),p(et,1),et.m(g.parentNode,g)):et&&(U(),m(et,1,1,()=>{et=null}),V());const G={};32&q&&(G.disabled=Z[5]),134217728&q&&(G.$$scope={dirty:q,ctx:Z}),C.$set(G);const z={};32&q&&(z.disabled=Z[5]),134217728&q&&(z.$$scope={dirty:q,ctx:Z}),E.$set(z),Z[1]?F?(F.p(Z,q),2&q&&p(F,1)):(F=_r(Z),F.c(),p(F,1),F.m(h,null)):F&&(U(),m(F,1,1,()=>{F=null}),V())},i(Z){if(!M){p(n.$$.fragment,Z),p(u.$$.fragment,Z);for(let q=0;q<R.length;q+=1)p(N[q]);p(et),p(C.$$.fragment,Z),p(E.$$.fragment,Z),p(F),M=!0}},o(Z){m(n.$$.fragment,Z),m(u.$$.fragment,Z);for(let q=0;q<N.length;q+=1)m(N[q]);m(et),m(C.$$.fragment,Z),m(E.$$.fragment,Z),m(F),M=!1},d(Z){Z&&(v(t),v(f),v(g),v(h)),S(n),S(u);for(let q=0;q<N.length;q+=1)N[q].d();et&&et.d(Z),S(C),S(E),F&&F.d()}}}function cu(r,t,e){let n,s,{servers:o}=t,{onMCPServerAdd:i}=t,{onMCPServerSave:l}=t,{onMCPServerDelete:a}=t,{onMCPServerToggleDisable:c}=t,{onCancel:d}=t,{onMCPServerJSONImport:u}=t,{isMCPImportEnabled:$=!0}=t,f=null,g=null;function h(P){return async function(...R){const tt=await P(...R);return e(3,g=null),e(2,f=null),tt}}const C=h(i),I=h(l),E=h(u),T=h(a),M=h(c),N=tu.get("mcpDocsURL");return r.$$set=P=>{"servers"in P&&e(0,o=P.servers),"onMCPServerAdd"in P&&e(14,i=P.onMCPServerAdd),"onMCPServerSave"in P&&e(15,l=P.onMCPServerSave),"onMCPServerDelete"in P&&e(16,a=P.onMCPServerDelete),"onMCPServerToggleDisable"in P&&e(17,c=P.onMCPServerToggleDisable),"onCancel"in P&&e(18,d=P.onCancel),"onMCPServerJSONImport"in P&&e(19,u=P.onMCPServerJSONImport),"isMCPImportEnabled"in P&&e(1,$=P.isMCPImportEnabled)},r.$$.update=()=>{12&r.$$.dirty&&e(5,n=g==="add"||g==="addJson"||g==="addRemote"||f!==null),1&r.$$.dirty&&e(4,s=In.parseServerValidationMessages(o))},[o,$,f,g,s,n,function(){e(2,f=null),e(3,g=null),d==null||d()},function(P){e(2,f=P.id)},C,I,E,T,M,N,i,l,a,c,d,u,()=>{e(3,g="add")},()=>{e(3,g="addRemote")},()=>{e(3,g="addJson")}]}class du extends ct{constructor(t){super(),dt(this,t,cu,lu,at,{servers:0,onMCPServerAdd:14,onMCPServerSave:15,onMCPServerDelete:16,onMCPServerToggleDisable:17,onCancel:18,onMCPServerJSONImport:19,isMCPImportEnabled:1})}}function Sr(r,t,e){const n=r.slice();return n[12]=t[e],n}function uu(r){let t;return{c(){t=k("div"),t.textContent="Terminal",w(t,"class","section-heading-text")},m(e,n){y(e,t,n)},p:J,d(e){e&&v(t)}}}function pu(r){let t;return{c(){t=L("Shell:")},m(e,n){y(e,t,n)},d(e){e&&v(t)}}}function mu(r){let t;return{c(){t=L("Select a shell")},m(e,n){y(e,t,n)},p:J,d(e){e&&v(t)}}}function fu(r){let t;return{c(){t=L("No shells available")},m(e,n){y(e,t,n)},p:J,d(e){e&&v(t)}}}function $u(r){let t,e,n,s,o=r[5].friendlyName+"",i=r[5].supportString+"";return{c(){t=L(o),e=L(`
            (`),n=L(i),s=L(")")},m(l,a){y(l,t,a),y(l,e,a),y(l,n,a),y(l,s,a)},p(l,a){32&a&&o!==(o=l[5].friendlyName+"")&&rt(t,o),32&a&&i!==(i=l[5].supportString+"")&&rt(n,i)},d(l){l&&(v(t),v(e),v(n),v(s))}}}function hu(r){let t;function e(o,i){return o[5]&&o[1].length>0?$u:o[1].length===0?fu:mu}let n=e(r),s=n(r);return{c(){s.c(),t=ht()},m(o,i){s.m(o,i),y(o,t,i)},p(o,i){n===(n=e(o))&&s?s.p(o,i):(s.d(1),s=n(o),s&&(s.c(),s.m(t.parentNode,t)))},d(o){o&&v(t),s.d(o)}}}function gu(r){let t,e;return t=new ni({props:{slot:"iconRight"}}),{c(){x(t.$$.fragment)},m(n,s){_(t,n,s),e=!0},p:J,i(n){e||(p(t.$$.fragment,n),e=!0)},o(n){m(t.$$.fragment,n),e=!1},d(n){S(t,n)}}}function vu(r){let t,e;return t=new yt({props:{size:1,variant:"outline",color:"neutral",disabled:r[1].length===0,$$slots:{iconRight:[gu],default:[hu]},$$scope:{ctx:r}}}),{c(){x(t.$$.fragment)},m(n,s){_(t,n,s),e=!0},p(n,s){const o={};2&s&&(o.disabled=n[1].length===0),32802&s&&(o.$$scope={dirty:s,ctx:n}),t.$set(o)},i(n){e||(p(t.$$.fragment,n),e=!0)},o(n){m(t.$$.fragment,n),e=!1},d(n){S(t,n)}}}function yu(r){let t,e;return t=new vt.Label({props:{$$slots:{default:[xu]},$$scope:{ctx:r}}}),{c(){x(t.$$.fragment)},m(n,s){_(t,n,s),e=!0},p(n,s){const o={};32768&s&&(o.$$scope={dirty:s,ctx:n}),t.$set(o)},i(n){e||(p(t.$$.fragment,n),e=!0)},o(n){m(t.$$.fragment,n),e=!1},d(n){S(t,n)}}}function wu(r){let t,e,n=[],s=new Map,o=mt(r[1]);const i=l=>l[12].friendlyName;for(let l=0;l<o.length;l+=1){let a=Sr(r,o,l),c=i(a);s.set(c,n[l]=Cr(c,a))}return{c(){for(let l=0;l<n.length;l+=1)n[l].c();t=ht()},m(l,a){for(let c=0;c<n.length;c+=1)n[c]&&n[c].m(l,a);y(l,t,a),e=!0},p(l,a){30&a&&(o=mt(l[1]),U(),n=fe(n,a,i,1,l,o,s,t.parentNode,$e,Cr,t,Sr),V())},i(l){if(!e){for(let a=0;a<o.length;a+=1)p(n[a]);e=!0}},o(l){for(let a=0;a<n.length;a+=1)m(n[a]);e=!1},d(l){l&&v(t);for(let a=0;a<n.length;a+=1)n[a].d(l)}}}function xu(r){let t;return{c(){t=L("No shells available")},m(e,n){y(e,t,n)},d(e){e&&v(t)}}}function _u(r){let t,e,n,s,o=r[12].friendlyName+"",i=r[12].supportString+"";return{c(){t=L(o),e=L(`
              (`),n=L(i),s=L(`)
            `)},m(l,a){y(l,t,a),y(l,e,a),y(l,n,a),y(l,s,a)},p(l,a){2&a&&o!==(o=l[12].friendlyName+"")&&rt(t,o),2&a&&i!==(i=l[12].supportString+"")&&rt(n,i)},d(l){l&&(v(t),v(e),v(n),v(s))}}}function Cr(r,t){let e,n,s;function o(){return t[8](t[12])}return n=new vt.Item({props:{onSelect:o,highlight:t[2]===t[12].friendlyName,$$slots:{default:[_u]},$$scope:{ctx:t}}}),{key:r,first:null,c(){e=ht(),x(n.$$.fragment),this.first=e},m(i,l){y(i,e,l),_(n,i,l),s=!0},p(i,l){t=i;const a={};26&l&&(a.onSelect=o),6&l&&(a.highlight=t[2]===t[12].friendlyName),32770&l&&(a.$$scope={dirty:l,ctx:t}),n.$set(a)},i(i){s||(p(n.$$.fragment,i),s=!0)},o(i){m(n.$$.fragment,i),s=!1},d(i){i&&v(e),S(n,i)}}}function Su(r){let t,e,n,s;const o=[wu,yu],i=[];function l(a,c){return a[1].length>0?0:1}return t=l(r),e=i[t]=o[t](r),{c(){e.c(),n=ht()},m(a,c){i[t].m(a,c),y(a,n,c),s=!0},p(a,c){let d=t;t=l(a),t===d?i[t].p(a,c):(U(),m(i[d],1,1,()=>{i[d]=null}),V(),e=i[t],e?e.p(a,c):(e=i[t]=o[t](a),e.c()),p(e,1),e.m(n.parentNode,n))},i(a){s||(p(e),s=!0)},o(a){m(e),s=!1},d(a){a&&v(n),i[t].d(a)}}}function Cu(r){let t,e,n,s;return t=new vt.Trigger({props:{$$slots:{default:[vu]},$$scope:{ctx:r}}}),n=new vt.Content({props:{side:"bottom",align:"start",$$slots:{default:[Su]},$$scope:{ctx:r}}}),{c(){x(t.$$.fragment),e=A(),x(n.$$.fragment)},m(o,i){_(t,o,i),y(o,e,i),_(n,o,i),s=!0},p(o,i){const l={};32802&i&&(l.$$scope={dirty:i,ctx:o}),t.$set(l);const a={};32798&i&&(a.$$scope={dirty:i,ctx:o}),n.$set(a)},i(o){s||(p(t.$$.fragment,o),p(n.$$.fragment,o),s=!0)},o(o){m(t.$$.fragment,o),m(n.$$.fragment,o),s=!1},d(o){o&&v(e),S(t,o),S(n,o)}}}function bu(r){let t;return{c(){t=L("Start-up script: Code to run wherever a new terminal is opened")},m(e,n){y(e,t,n)},d(e){e&&v(t)}}}function ku(r){let t,e,n,s,o,i,l,a,c,d,u,$,f,g,h;function C(M){r[9](M)}e=new Y({props:{size:1,weight:"regular",color:"secondary",$$slots:{default:[uu]},$$scope:{ctx:r}}}),o=new Y({props:{size:1,$$slots:{default:[pu]},$$scope:{ctx:r}}});let I={$$slots:{default:[Cu]},$$scope:{ctx:r}};function E(M){r[10](M)}r[4]!==void 0&&(I.requestClose=r[4]),l=new vt.Root({props:I}),xt.push(()=>_t(l,"requestClose",C)),u=new Y({props:{size:1,$$slots:{default:[bu]},$$scope:{ctx:r}}});let T={placeholder:"Enter shell commands to run on terminal startup",resize:"vertical"};return r[0]!==void 0&&(T.value=r[0]),f=new ro({props:T}),xt.push(()=>_t(f,"value",E)),f.$on("change",r[6]),{c(){t=k("div"),x(e.$$.fragment),n=A(),s=k("div"),x(o.$$.fragment),i=A(),x(l.$$.fragment),c=A(),d=k("div"),x(u.$$.fragment),$=A(),x(f.$$.fragment),w(s,"class","shell-selector svelte-dndd5n"),w(d,"class","startup-script-container svelte-dndd5n"),w(t,"class","terminal-settings svelte-dndd5n")},m(M,N){y(M,t,N),_(e,t,null),b(t,n),b(t,s),_(o,s,null),b(s,i),_(l,s,null),b(t,c),b(t,d),_(u,d,null),b(d,$),_(f,d,null),h=!0},p(M,[N]){const P={};32768&N&&(P.$$scope={dirty:N,ctx:M}),e.$set(P);const R={};32768&N&&(R.$$scope={dirty:N,ctx:M}),o.$set(R);const tt={};32830&N&&(tt.$$scope={dirty:N,ctx:M}),!a&&16&N&&(a=!0,tt.requestClose=M[4],St(()=>a=!1)),l.$set(tt);const et={};32768&N&&(et.$$scope={dirty:N,ctx:M}),u.$set(et);const F={};!g&&1&N&&(g=!0,F.value=M[0],St(()=>g=!1)),f.$set(F)},i(M){h||(p(e.$$.fragment,M),p(o.$$.fragment,M),p(l.$$.fragment,M),p(u.$$.fragment,M),p(f.$$.fragment,M),h=!0)},o(M){m(e.$$.fragment,M),m(o.$$.fragment,M),m(l.$$.fragment,M),m(u.$$.fragment,M),m(f.$$.fragment,M),h=!1},d(M){M&&v(t),S(e),S(o),S(l),S(u),S(f)}}}function Mu(r,t,e){let n,s,{supportedShells:o=[]}=t,{selectedShell:i}=t,{startupScript:l}=t,{onShellSelect:a}=t,{onStartupScriptChange:c}=t;return r.$$set=d=>{"supportedShells"in d&&e(1,o=d.supportedShells),"selectedShell"in d&&e(2,i=d.selectedShell),"startupScript"in d&&e(0,l=d.startupScript),"onShellSelect"in d&&e(3,a=d.onShellSelect),"onStartupScriptChange"in d&&e(7,c=d.onStartupScriptChange)},r.$$.update=()=>{var d;4&r.$$.dirty&&e(5,n=i?(d=i,o.find(u=>u.friendlyName===d)):void 0)},[l,o,i,a,s,n,function(d){const u=d.target;c(u.value)},c,d=>{a(d.friendlyName),s()},function(d){s=d,e(4,s)},function(d){l=d,e(0,l)}]}class Tu extends ct{constructor(t){super(),dt(this,t,Mu,ku,at,{supportedShells:1,selectedShell:2,startupScript:0,onShellSelect:3,onStartupScriptChange:7})}}function Au(r){let t;return{c(){t=k("div"),t.textContent="Sound Settings",w(t,"class","section-heading-text")},m(e,n){y(e,t,n)},p:J,d(e){e&&v(t)}}}function Nu(r){let t;return{c(){t=L("Enable Sound Effects")},m(e,n){y(e,t,n)},d(e){e&&v(t)}}}function Iu(r){let t;return{c(){t=L("Play a sound when an agent completes a task")},m(e,n){y(e,t,n)},d(e){e&&v(t)}}}function Eu(r){let t,e,n,s,o,i,l;return n=new Y({props:{size:2,weight:"medium",$$slots:{default:[Nu]},$$scope:{ctx:r}}}),i=new Y({props:{size:1,weight:"medium",$$slots:{default:[Iu]},$$scope:{ctx:r}}}),{c(){t=k("div"),e=k("div"),x(n.$$.fragment),s=A(),o=k("div"),x(i.$$.fragment),w(t,"class","c-sound-setting__info svelte-8awonv"),w(t,"slot","header-left")},m(a,c){y(a,t,c),b(t,e),_(n,e,null),b(t,s),b(t,o),_(i,o,null),l=!0},p(a,c){const d={};64&c&&(d.$$scope={dirty:c,ctx:a}),n.$set(d);const u={};64&c&&(u.$$scope={dirty:c,ctx:a}),i.$set(u)},i(a){l||(p(n.$$.fragment,a),p(i.$$.fragment,a),l=!0)},o(a){m(n.$$.fragment,a),m(i.$$.fragment,a),l=!1},d(a){a&&v(t),S(n),S(i)}}}function Pu(r){let t,e,n;return e=new Qr({props:{size:1,checked:r[0]}}),e.$on("change",r[5]),{c(){t=k("div"),x(e.$$.fragment),w(t,"slot","header-right")},m(s,o){y(s,t,o),_(e,t,null),n=!0},p(s,o){const i={};1&o&&(i.checked=s[0]),e.$set(i)},i(s){n||(p(e.$$.fragment,s),n=!0)},o(s){m(e.$$.fragment,s),n=!1},d(s){s&&v(t),S(e)}}}function br(r){let t,e;return t=new Pe({props:{$$slots:{"header-right":[Fu],"header-left":[Ou]},$$scope:{ctx:r}}}),{c(){x(t.$$.fragment)},m(n,s){_(t,n,s),e=!0},p(n,s){const o={};65&s&&(o.$$scope={dirty:s,ctx:n}),t.$set(o)},i(n){e||(p(t.$$.fragment,n),e=!0)},o(n){m(t.$$.fragment,n),e=!1},d(n){S(t,n)}}}function Ru(r){let t;return{c(){t=L("Test Sound")},m(e,n){y(e,t,n)},d(e){e&&v(t)}}}function Lu(r){let t;return{c(){t=L("Play a sample of the agent completion sound")},m(e,n){y(e,t,n)},d(e){e&&v(t)}}}function Ou(r){let t,e,n,s,o,i,l;return n=new Y({props:{size:2,weight:"medium",$$slots:{default:[Ru]},$$scope:{ctx:r}}}),i=new Y({props:{size:1,weight:"medium",$$slots:{default:[Lu]},$$scope:{ctx:r}}}),{c(){t=k("div"),e=k("div"),x(n.$$.fragment),s=A(),o=k("div"),x(i.$$.fragment),w(t,"class","c-sound-setting__info svelte-8awonv"),w(t,"slot","header-left")},m(a,c){y(a,t,c),b(t,e),_(n,e,null),b(t,s),b(t,o),_(i,o,null),l=!0},p(a,c){const d={};64&c&&(d.$$scope={dirty:c,ctx:a}),n.$set(d);const u={};64&c&&(u.$$scope={dirty:c,ctx:a}),i.$set(u)},i(a){l||(p(n.$$.fragment,a),p(i.$$.fragment,a),l=!0)},o(a){m(n.$$.fragment,a),m(i.$$.fragment,a),l=!1},d(a){a&&v(t),S(n),S(i)}}}function zu(r){let t;return{c(){t=L("Play")},m(e,n){y(e,t,n)},d(e){e&&v(t)}}}function Zu(r){let t,e;return t=new gi({props:{size:1,defaultColor:"neutral",enabled:r[0],stickyColor:!1,disabled:!r[0],onClick:r[3],tooltip:{neutral:"Play a sample of the agent completion sound",success:"Played!"},$$slots:{default:[zu]},$$scope:{ctx:r}}}),{c(){x(t.$$.fragment)},m(n,s){_(t,n,s),e=!0},p(n,s){const o={};1&s&&(o.enabled=n[0]),1&s&&(o.disabled=!n[0]),64&s&&(o.$$scope={dirty:s,ctx:n}),t.$set(o)},i(n){e||(p(t.$$.fragment,n),e=!0)},o(n){m(t.$$.fragment,n),e=!1},d(n){S(t,n)}}}function Fu(r){let t,e,n;return e=new se({props:{content:r[0]?"":"Enable sound effects to test",triggerOn:[so.Hover],$$slots:{default:[Zu]},$$scope:{ctx:r}}}),{c(){t=k("div"),x(e.$$.fragment),w(t,"slot","header-right")},m(s,o){y(s,t,o),_(e,t,null),n=!0},p(s,o){const i={};1&o&&(i.content=s[0]?"":"Enable sound effects to test"),65&o&&(i.$$scope={dirty:o,ctx:s}),e.$set(i)},i(s){n||(p(e.$$.fragment,s),n=!0)},o(s){m(e.$$.fragment,s),n=!1},d(s){s&&v(t),S(e)}}}function ju(r){let t,e,n,s,o,i;t=new Y({props:{size:1,weight:"regular",color:"secondary",$$slots:{default:[Au]},$$scope:{ctx:r}}}),s=new Pe({props:{$$slots:{"header-right":[Pu],"header-left":[Eu]},$$scope:{ctx:r}}});let l=r[0]&&br(r);return{c(){x(t.$$.fragment),e=A(),n=k("div"),x(s.$$.fragment),o=A(),l&&l.c(),w(n,"class","c-sound-settings svelte-8awonv")},m(a,c){_(t,a,c),y(a,e,c),y(a,n,c),_(s,n,null),b(n,o),l&&l.m(n,null),i=!0},p(a,[c]){const d={};64&c&&(d.$$scope={dirty:c,ctx:a}),t.$set(d);const u={};65&c&&(u.$$scope={dirty:c,ctx:a}),s.$set(u),a[0]?l?(l.p(a,c),1&c&&p(l,1)):(l=br(a),l.c(),p(l,1),l.m(n,null)):l&&(U(),m(l,1,1,()=>{l=null}),V())},i(a){i||(p(t.$$.fragment,a),p(s.$$.fragment,a),p(l),i=!0)},o(a){m(t.$$.fragment,a),m(s.$$.fragment,a),m(l),i=!1},d(a){a&&(v(e),v(n)),S(t,a),S(s),l&&l.d()}}}function Du(r,t,e){let n,s,o,i=J;r.$$.on_destroy.push(()=>i());const l=No(Lo.key);return r.$$.update=()=>{16&r.$$.dirty&&e(0,s=o.enabled)},e(1,n=l.getCurrentSettings),i(),i=Xe(n,a=>e(4,o=a)),[s,n,l,async function(){return await l.playAgentComplete(),"success"},o,()=>l.updateEnabled(!s)]}class Uu extends ct{constructor(t){super(),dt(this,t,Du,ju,at,{})}}function kr(r){let t,e;return t=new du({props:{servers:r[1],onMCPServerAdd:r[9],onMCPServerSave:r[10],onMCPServerDelete:r[11],onMCPServerToggleDisable:r[12],onMCPServerJSONImport:r[13],onCancel:r[14],isMCPImportEnabled:r[3]}}),{c(){x(t.$$.fragment)},m(n,s){_(t,n,s),e=!0},p(n,s){const o={};2&s&&(o.servers=n[1]),512&s&&(o.onMCPServerAdd=n[9]),1024&s&&(o.onMCPServerSave=n[10]),2048&s&&(o.onMCPServerDelete=n[11]),4096&s&&(o.onMCPServerToggleDisable=n[12]),8192&s&&(o.onMCPServerJSONImport=n[13]),16384&s&&(o.onCancel=n[14]),8&s&&(o.isMCPImportEnabled=n[3]),t.$set(o)},i(n){e||(p(t.$$.fragment,n),e=!0)},o(n){m(t.$$.fragment,n),e=!1},d(n){S(t,n)}}}function Mr(r){let t,e;return t=new Tu({props:{supportedShells:r[15],selectedShell:r[16],startupScript:r[17],onShellSelect:r[18],onStartupScriptChange:r[19]}}),{c(){x(t.$$.fragment)},m(n,s){_(t,n,s),e=!0},p(n,s){const o={};32768&s&&(o.supportedShells=n[15]),65536&s&&(o.selectedShell=n[16]),131072&s&&(o.startupScript=n[17]),262144&s&&(o.onShellSelect=n[18]),524288&s&&(o.onStartupScriptChange=n[19]),t.$set(o)},i(n){e||(p(t.$$.fragment,n),e=!0)},o(n){m(t.$$.fragment,n),e=!1},d(n){S(t,n)}}}function Tr(r){let t,e;return t=new Uu({}),{c(){x(t.$$.fragment)},m(n,s){_(t,n,s),e=!0},i(n){e||(p(t.$$.fragment,n),e=!0)},o(n){m(t.$$.fragment,n),e=!1},d(n){S(t,n)}}}function Vu(r){let t,e,n,s,o,i;e=new wc({props:{title:"Services",tools:r[0],onAuthenticate:r[6],onRevokeAccess:r[7],onToolApprovalConfigChange:r[8]}});let l=r[2]&&kr(r),a=r[4]&&Mr(r),c=r[5]&&Tr();return{c(){t=k("div"),x(e.$$.fragment),n=A(),l&&l.c(),s=A(),a&&a.c(),o=A(),c&&c.c(),w(t,"class","c-settings-tools svelte-181yusq")},m(d,u){y(d,t,u),_(e,t,null),b(t,n),l&&l.m(t,null),b(t,s),a&&a.m(t,null),b(t,o),c&&c.m(t,null),i=!0},p(d,[u]){const $={};1&u&&($.tools=d[0]),64&u&&($.onAuthenticate=d[6]),128&u&&($.onRevokeAccess=d[7]),256&u&&($.onToolApprovalConfigChange=d[8]),e.$set($),d[2]?l?(l.p(d,u),4&u&&p(l,1)):(l=kr(d),l.c(),p(l,1),l.m(t,s)):l&&(U(),m(l,1,1,()=>{l=null}),V()),d[4]?a?(a.p(d,u),16&u&&p(a,1)):(a=Mr(d),a.c(),p(a,1),a.m(t,o)):a&&(U(),m(a,1,1,()=>{a=null}),V()),d[5]?c?32&u&&p(c,1):(c=Tr(),c.c(),p(c,1),c.m(t,null)):c&&(U(),m(c,1,1,()=>{c=null}),V())},i(d){i||(p(e.$$.fragment,d),p(l),p(a),p(c),i=!0)},o(d){m(e.$$.fragment,d),m(l),m(a),m(c),i=!1},d(d){d&&v(t),S(e),l&&l.d(),a&&a.d(),c&&c.d()}}}function qu(r,t,e){let{tools:n=[]}=t,{servers:s=[]}=t,{isMCPEnabled:o=!0}=t,{isMCPImportEnabled:i=!0}=t,{isTerminalEnabled:l=!0}=t,{isSoundCategoryEnabled:a=!1}=t,{onAuthenticate:c}=t,{onRevokeAccess:d}=t,{onToolApprovalConfigChange:u=()=>{}}=t,{onMCPServerAdd:$}=t,{onMCPServerSave:f}=t,{onMCPServerDelete:g}=t,{onMCPServerToggleDisable:h}=t,{onMCPServerJSONImport:C}=t,{onCancel:I}=t,{supportedShells:E=[]}=t,{selectedShell:T}=t,{startupScript:M}=t,{onShellSelect:N=()=>{}}=t,{onStartupScriptChange:P=()=>{}}=t;return r.$$set=R=>{"tools"in R&&e(0,n=R.tools),"servers"in R&&e(1,s=R.servers),"isMCPEnabled"in R&&e(2,o=R.isMCPEnabled),"isMCPImportEnabled"in R&&e(3,i=R.isMCPImportEnabled),"isTerminalEnabled"in R&&e(4,l=R.isTerminalEnabled),"isSoundCategoryEnabled"in R&&e(5,a=R.isSoundCategoryEnabled),"onAuthenticate"in R&&e(6,c=R.onAuthenticate),"onRevokeAccess"in R&&e(7,d=R.onRevokeAccess),"onToolApprovalConfigChange"in R&&e(8,u=R.onToolApprovalConfigChange),"onMCPServerAdd"in R&&e(9,$=R.onMCPServerAdd),"onMCPServerSave"in R&&e(10,f=R.onMCPServerSave),"onMCPServerDelete"in R&&e(11,g=R.onMCPServerDelete),"onMCPServerToggleDisable"in R&&e(12,h=R.onMCPServerToggleDisable),"onMCPServerJSONImport"in R&&e(13,C=R.onMCPServerJSONImport),"onCancel"in R&&e(14,I=R.onCancel),"supportedShells"in R&&e(15,E=R.supportedShells),"selectedShell"in R&&e(16,T=R.selectedShell),"startupScript"in R&&e(17,M=R.startupScript),"onShellSelect"in R&&e(18,N=R.onShellSelect),"onStartupScriptChange"in R&&e(19,P=R.onStartupScriptChange)},[n,s,o,i,l,a,c,d,u,$,f,g,h,C,I,E,T,M,N,P]}class Bu extends ct{constructor(t){super(),dt(this,t,qu,Vu,at,{tools:0,servers:1,isMCPEnabled:2,isMCPImportEnabled:3,isTerminalEnabled:4,isSoundCategoryEnabled:5,onAuthenticate:6,onRevokeAccess:7,onToolApprovalConfigChange:8,onMCPServerAdd:9,onMCPServerSave:10,onMCPServerDelete:11,onMCPServerToggleDisable:12,onMCPServerJSONImport:13,onCancel:14,supportedShells:15,selectedShell:16,startupScript:17,onShellSelect:18,onStartupScriptChange:19})}}function Gu(r){let t,e,n=[{xmlns:"http://www.w3.org/2000/svg"},{"data-ds-icon":"fa"},{viewBox:"0 0 512 512"},r[0]],s={};for(let o=0;o<n.length;o+=1)s=Ct(s,n[o]);return{c(){t=Ot("svg"),e=new _n(!0),this.h()},l(o){t=Sn(o,"svg",{xmlns:!0,"data-ds-icon":!0,viewBox:!0});var i=Cn(t);e=bn(i,!0),i.forEach(v),this.h()},h(){e.a=null,ae(t,s)},m(o,i){kn(o,t,i),e.m('<!--! Font Awesome Pro 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2024 Fonticons, Inc.--><path d="M63.2 379.3c-6.2-6.2-6.2-16.4 0-22.6l39.4-39.4 30.1 30.1c6.2 6.2 16.4 6.2 22.6 0s6.2-16.4 0-22.6l-30.1-30.1 41.4-41.4 30.1 30.1c6.2 6.2 16.4 6.2 22.6 0s6.2-16.4 0-22.6l-30.1-30.1 41.4-41.4 30.1 30.1c6.2 6.2 16.4 6.2 22.6 0s6.2-16.4 0-22.6l-30.1-30.1 41.4-41.4 30.1 30.1c6.2 6.2 16.4 6.2 22.6 0s6.2-16.4 0-22.6l-30.1-30.1 39.4-39.4c6.2-6.2 16.4-6.2 22.6 0l69.5 69.5c6.2 6.2 6.2 16.4 0 22.6L155.3 448.8c-6.2 6.2-16.4 6.2-22.6 0zm35.5 103.4c25 25 65.5 25 90.5 0l293.5-293.4c25-25 25-65.5 0-90.5l-69.4-69.5c-25-25-65.5-25-90.5 0L29.3 322.7c-25 25-25 65.5 0 90.5l69.5 69.5z"/>',t)},p(o,[i]){ae(t,s=oe(n,[{xmlns:"http://www.w3.org/2000/svg"},{"data-ds-icon":"fa"},{viewBox:"0 0 512 512"},1&i&&o[0]]))},i:J,o:J,d(o){o&&v(t)}}}function Ju(r,t,e){return r.$$set=n=>{e(0,t=Ct(Ct({},t),Gt(n)))},[t=Gt(t)]}class Hu extends ct{constructor(t){super(),dt(this,t,Ju,Gu,at,{})}}function Wu(r){let t,e,n,s;function o(l){r[6](l)}let i={placeholder:"Add your guidelines for Augment Chat...",resize:"vertical",saveFunction:r[3]};return r[0]!==void 0&&(i.value=r[0]),e=new wi({props:i}),xt.push(()=>_t(e,"value",o)),e.$on("focus",r[7]),{c(){t=k("div"),x(e.$$.fragment),w(t,"class","c-user-guidelines-category__input svelte-10borzo")},m(l,a){y(l,t,a),_(e,t,null),s=!0},p(l,[a]){const c={};!n&&1&a&&(n=!0,c.value=l[0],St(()=>n=!1)),e.$set(c)},i(l){s||(p(e.$$.fragment,l),s=!0)},o(l){m(e.$$.fragment,l),s=!1},d(l){l&&v(t),S(e)}}}function Ku(r,t,e){let n;const s=Mn();let{userGuidelines:o=""}=t,{userGuidelinesLengthLimit:i}=t,{updateUserGuideline:l=()=>!1}=t;const a=Rt(void 0);function c(){const d=o.trim();if(n!==d){if(!l(d))throw i&&d.length>i?`The user guideline must be less than ${i} character long`:"An error occurred updating the user";ss(a,n=d,n)}}return Dt(r,a,d=>e(8,n=d)),Wr(()=>{ss(a,n=o.trim(),n)}),Kr(()=>{c()}),r.$$set=d=>{"userGuidelines"in d&&e(0,o=d.userGuidelines),"userGuidelinesLengthLimit"in d&&e(4,i=d.userGuidelinesLengthLimit),"updateUserGuideline"in d&&e(5,l=d.updateUserGuideline)},[o,s,a,c,i,l,function(d){o=d,e(0,o)},d=>{s("focus",d)}]}class xo extends ct{constructor(t){super(),dt(this,t,Ku,Wu,at,{userGuidelines:0,userGuidelinesLengthLimit:4,updateUserGuideline:5})}}class Yu{constructor(t,e,n){lt(this,"_showCreateRuleDialog",Rt(!1));lt(this,"_createRuleError",Rt(""));lt(this,"_extensionClient");this._host=t,this._msgBroker=e,this._rulesModel=n;const s=new _i;this._extensionClient=new Si(t,e,s)}async createRule(){this._showCreateRuleDialog.set(!0)}async handleCreateRuleWithName(t){if(t&&t.trim()){this._createRuleError.set("");try{const e=await this._rulesModel.createRule(t.trim());e&&e.path&&await this.openRule(e.path),this._extensionClient.reportAgentSessionEvent({eventName:zn.rulesImported,conversationId:"",eventData:{rulesImportedData:{type:on.manuallyCreated,numFiles:1,source:""}}}),this.hideCreateRuleDialog()}catch{const n=`Failed to create rule "${t.trim()}"`;this._createRuleError.set(n)}}else this.hideCreateRuleDialog()}async openRule(t){try{const e=await this._rulesModel.getWorkspaceRoot();t===as?this._extensionClient.openFile({repoRoot:e,pathName:as}):this._extensionClient.openFile({repoRoot:e,pathName:`${ci}/${di}/${t}`})}catch(e){console.error("Failed to open rule:",e)}}async deleteRule(t){try{await this._extensionClient.openConfirmationModal({title:"Delete Rule",message:"Are you sure you want to delete this rule?",confirmButtonText:"Delete",cancelButtonText:"Cancel"})&&await this._rulesModel.deleteRule(t)}catch(e){console.error("Failed to delete rule:",e)}}async selectFileToImport(){try{const t=await this._msgBroker.send({type:ft.triggerImportDialogRequest},1e5);if(t.data.selectedPaths&&t.data.selectedPaths.length>0){const e=await this._rulesModel.processSelectedPaths(t.data.selectedPaths);this._showImportNotification(e),this._reportSelectedImportMetrics(e)}}catch(t){console.error("Failed to import files:",t)}}async getAutoImportOptions(){return await this._rulesModel.getAutoImportOptions()}async processAutoImportSelection(t){const e=await this._rulesModel.processAutoImportSelection(t);return this._showImportNotification(e),this._reportAutoImportMetrics(e),e}_showImportNotification(t){let e;t.importedRulesCount===0?e=t.source?`No new rules imported from ${t.source}`:"No new rules imported":(e=`Successfully imported ${t.importedRulesCount} rule${t.importedRulesCount!==1?"s":""}`,t.duplicatesCount&&t.duplicatesCount>0&&(e+=` and skipped ${t.duplicatesCount} duplicate${t.duplicatesCount!==1?"s":""}`)),this._extensionClient.showNotification({message:e,type:t.importedRulesCount>0?"info":"warning"})}_reportSelectedImportMetrics(t){const e=t.directoryOrFile==="directory"?on.selectedDirectory:(t.directoryOrFile,on.selectedFile);this._extensionClient.reportAgentSessionEvent({eventName:zn.rulesImported,conversationId:"",eventData:{rulesImportedData:{type:e,numFiles:t.importedRulesCount,source:""}}})}_reportAutoImportMetrics(t){this._extensionClient.reportAgentSessionEvent({eventName:zn.rulesImported,conversationId:"",eventData:{rulesImportedData:{type:on.auto,numFiles:t.importedRulesCount,source:t.source}}})}getShowCreateRuleDialog(){return this._showCreateRuleDialog}getCreateRuleError(){return this._createRuleError}hideCreateRuleDialog(){this._showCreateRuleDialog.set(!1),this._createRuleError.set("")}}const Xu=r=>({}),Ar=r=>({}),Qu=r=>({}),Nr=r=>({}),tp=r=>({}),Ir=r=>({});function Er(r){let t,e,n,s,o,i;return n=new bi({props:{variant:"soft",size:3,$$slots:{default:[rp]},$$scope:{ctx:r}}}),{c(){t=k("div"),e=k("div"),x(n.$$.fragment),w(e,"class","c-modal svelte-1hwqfwo"),w(e,"role","dialog"),w(e,"aria-modal","true"),w(e,"aria-labelledby",r[3]),rs(e,"max-width",r[2]),w(t,"class","c-modal-backdrop svelte-1hwqfwo"),w(t,"role","presentation")},m(l,a){y(l,t,a),b(t,e),_(n,e,null),s=!0,o||(i=[It(e,"click",os(r[10])),It(e,"keydown",os(r[11])),It(t,"click",r[4]),It(t,"keydown",r[5])],o=!0)},p(l,a){const c={};4170&a&&(c.$$scope={dirty:a,ctx:l}),n.$set(c),(!s||8&a)&&w(e,"aria-labelledby",l[3]),(!s||4&a)&&rs(e,"max-width",l[2])},i(l){s||(p(n.$$.fragment,l),s=!0)},o(l){m(n.$$.fragment,l),s=!1},d(l){l&&v(t),S(n),o=!1,xn(i)}}}function Pr(r){let t,e,n,s;const o=[np,ep],i=[];function l(a,c){return a[6].header?0:a[1]?1:-1}return~(e=l(r))&&(n=i[e]=o[e](r)),{c(){t=k("div"),n&&n.c(),w(t,"class","c-modal-header svelte-1hwqfwo")},m(a,c){y(a,t,c),~e&&i[e].m(t,null),s=!0},p(a,c){let d=e;e=l(a),e===d?~e&&i[e].p(a,c):(n&&(U(),m(i[d],1,1,()=>{i[d]=null}),V()),~e?(n=i[e],n?n.p(a,c):(n=i[e]=o[e](a),n.c()),p(n,1),n.m(t,null)):n=null)},i(a){s||(p(n),s=!0)},o(a){m(n),s=!1},d(a){a&&v(t),~e&&i[e].d()}}}function ep(r){let t,e;return t=new Y({props:{id:r[3],size:3,weight:"bold",color:"primary",$$slots:{default:[sp]},$$scope:{ctx:r}}}),{c(){x(t.$$.fragment)},m(n,s){_(t,n,s),e=!0},p(n,s){const o={};8&s&&(o.id=n[3]),4098&s&&(o.$$scope={dirty:s,ctx:n}),t.$set(o)},i(n){e||(p(t.$$.fragment,n),e=!0)},o(n){m(t.$$.fragment,n),e=!1},d(n){S(t,n)}}}function np(r){let t;const e=r[9].header,n=Mt(e,r,r[12],Ir);return{c(){n&&n.c()},m(s,o){n&&n.m(s,o),t=!0},p(s,o){n&&n.p&&(!t||4096&o)&&Tt(n,e,s,s[12],t?Nt(e,s[12],o,tp):At(s[12]),Ir)},i(s){t||(p(n,s),t=!0)},o(s){m(n,s),t=!1},d(s){n&&n.d(s)}}}function sp(r){let t;return{c(){t=L(r[1])},m(e,n){y(e,t,n)},p(e,n){2&n&&rt(t,e[1])},d(e){e&&v(t)}}}function Rr(r){let t,e;const n=r[9].body,s=Mt(n,r,r[12],Nr),o=s||function(i){let l;const a=i[9].default,c=Mt(a,i,i[12],null);return{c(){c&&c.c()},m(d,u){c&&c.m(d,u),l=!0},p(d,u){c&&c.p&&(!l||4096&u)&&Tt(c,a,d,d[12],l?Nt(a,d[12],u,null):At(d[12]),null)},i(d){l||(p(c,d),l=!0)},o(d){m(c,d),l=!1},d(d){c&&c.d(d)}}}(r);return{c(){t=k("div"),o&&o.c(),w(t,"class","c-modal-body svelte-1hwqfwo")},m(i,l){y(i,t,l),o&&o.m(t,null),e=!0},p(i,l){s?s.p&&(!e||4096&l)&&Tt(s,n,i,i[12],e?Nt(n,i[12],l,Qu):At(i[12]),Nr):o&&o.p&&(!e||4096&l)&&o.p(i,e?l:-1)},i(i){e||(p(o,i),e=!0)},o(i){m(o,i),e=!1},d(i){i&&v(t),o&&o.d(i)}}}function Lr(r){let t,e;const n=r[9].footer,s=Mt(n,r,r[12],Ar);return{c(){t=k("div"),s&&s.c(),w(t,"class","c-modal-footer svelte-1hwqfwo")},m(o,i){y(o,t,i),s&&s.m(t,null),e=!0},p(o,i){s&&s.p&&(!e||4096&i)&&Tt(s,n,o,o[12],e?Nt(n,o[12],i,Xu):At(o[12]),Ar)},i(o){e||(p(s,o),e=!0)},o(o){m(s,o),e=!1},d(o){o&&v(t),s&&s.d(o)}}}function rp(r){let t,e,n,s,o=(r[1]||r[6].header)&&Pr(r),i=(r[6].body||r[6].default)&&Rr(r),l=r[6].footer&&Lr(r);return{c(){t=k("div"),o&&o.c(),e=A(),i&&i.c(),n=A(),l&&l.c(),w(t,"class","c-modal-content svelte-1hwqfwo")},m(a,c){y(a,t,c),o&&o.m(t,null),b(t,e),i&&i.m(t,null),b(t,n),l&&l.m(t,null),s=!0},p(a,c){a[1]||a[6].header?o?(o.p(a,c),66&c&&p(o,1)):(o=Pr(a),o.c(),p(o,1),o.m(t,e)):o&&(U(),m(o,1,1,()=>{o=null}),V()),a[6].body||a[6].default?i?(i.p(a,c),64&c&&p(i,1)):(i=Rr(a),i.c(),p(i,1),i.m(t,n)):i&&(U(),m(i,1,1,()=>{i=null}),V()),a[6].footer?l?(l.p(a,c),64&c&&p(l,1)):(l=Lr(a),l.c(),p(l,1),l.m(t,null)):l&&(U(),m(l,1,1,()=>{l=null}),V())},i(a){s||(p(o),p(i),p(l),s=!0)},o(a){m(o),m(i),m(l),s=!1},d(a){a&&v(t),o&&o.d(),i&&i.d(),l&&l.d()}}}function op(r){let t,e,n=r[0]&&Er(r);return{c(){n&&n.c(),t=ht()},m(s,o){n&&n.m(s,o),y(s,t,o),e=!0},p(s,[o]){s[0]?n?(n.p(s,o),1&o&&p(n,1)):(n=Er(s),n.c(),p(n,1),n.m(t.parentNode,t)):n&&(U(),m(n,1,1,()=>{n=null}),V())},i(s){e||(p(n),e=!0)},o(s){m(n),e=!1},d(s){s&&v(t),n&&n.d(s)}}}function ip(r,t,e){let{$$slots:n={},$$scope:s}=t;const o=Bn(n),i=Mn();let{show:l=!1}=t,{title:a=""}=t,{maxWidth:c="400px"}=t,{preventBackdropClose:d=!1}=t,{preventEscapeClose:u=!1}=t,{ariaLabelledBy:$="modal-title"}=t;return r.$$set=f=>{"show"in f&&e(0,l=f.show),"title"in f&&e(1,a=f.title),"maxWidth"in f&&e(2,c=f.maxWidth),"preventBackdropClose"in f&&e(7,d=f.preventBackdropClose),"preventEscapeClose"in f&&e(8,u=f.preventEscapeClose),"ariaLabelledBy"in f&&e(3,$=f.ariaLabelledBy),"$$scope"in f&&e(12,s=f.$$scope)},[l,a,c,$,function(){d||i("cancel"),i("backdropClick")},function(f){f.key!=="Escape"||u||(f.preventDefault(),i("cancel")),i("keydown",f)},o,d,u,n,function(f){dn.call(this,r,f)},function(f){dn.call(this,r,f)},s]}class _o extends ct{constructor(t){super(),dt(this,t,ip,op,at,{show:0,title:1,maxWidth:2,preventBackdropClose:7,preventEscapeClose:8,ariaLabelledBy:3})}}function ap(r){let t;return{c(){t=L("Enter a name for the new rule file (e.g., architecture.md):")},m(e,n){y(e,t,n)},d(e){e&&v(t)}}}function Or(r){let t,e;return t=new Tn({props:{variant:"soft",color:"error",size:1,$$slots:{icon:[cp],default:[lp]},$$scope:{ctx:r}}}),{c(){x(t.$$.fragment)},m(n,s){_(t,n,s),e=!0},p(n,s){const o={};4098&s&&(o.$$scope={dirty:s,ctx:n}),t.$set(o)},i(n){e||(p(t.$$.fragment,n),e=!0)},o(n){m(t.$$.fragment,n),e=!1},d(n){S(t,n)}}}function lp(r){let t;return{c(){t=L(r[1])},m(e,n){y(e,t,n)},p(e,n){2&n&&rt(t,e[1])},d(e){e&&v(t)}}}function cp(r){let t,e;return t=new Jn({props:{slot:"icon"}}),{c(){x(t.$$.fragment)},m(n,s){_(t,n,s),e=!0},p:J,i(n){e||(p(t.$$.fragment,n),e=!0)},o(n){m(t.$$.fragment,n),e=!1},d(n){S(t,n)}}}function dp(r){let t,e,n,s,o,i,l,a;function c(f){r[9](f)}function d(f){r[10](f)}t=new Y({props:{size:2,color:"secondary",$$slots:{default:[ap]},$$scope:{ctx:r}}});let u={placeholder:"rule-name.md",disabled:r[4]};r[3]!==void 0&&(u.value=r[3]),r[2]!==void 0&&(u.textInput=r[2]),n=new le({props:u}),xt.push(()=>_t(n,"value",c)),xt.push(()=>_t(n,"textInput",d)),n.$on("keydown",r[8]);let $=r[1]&&Or(r);return{c(){x(t.$$.fragment),e=A(),x(n.$$.fragment),i=A(),$&&$.c(),l=ht()},m(f,g){_(t,f,g),y(f,e,g),_(n,f,g),y(f,i,g),$&&$.m(f,g),y(f,l,g),a=!0},p(f,g){const h={};4096&g&&(h.$$scope={dirty:g,ctx:f}),t.$set(h);const C={};16&g&&(C.disabled=f[4]),!s&&8&g&&(s=!0,C.value=f[3],St(()=>s=!1)),!o&&4&g&&(o=!0,C.textInput=f[2],St(()=>o=!1)),n.$set(C),f[1]?$?($.p(f,g),2&g&&p($,1)):($=Or(f),$.c(),p($,1),$.m(l.parentNode,l)):$&&(U(),m($,1,1,()=>{$=null}),V())},i(f){a||(p(t.$$.fragment,f),p(n.$$.fragment,f),p($),a=!0)},o(f){m(t.$$.fragment,f),m(n.$$.fragment,f),m($),a=!1},d(f){f&&(v(e),v(i),v(l)),S(t,f),S(n,f),$&&$.d(f)}}}function up(r){let t;return{c(){t=L("Cancel")},m(e,n){y(e,t,n)},d(e){e&&v(t)}}}function pp(r){let t,e=r[4]?"Creating...":"Create";return{c(){t=L(e)},m(n,s){y(n,t,s)},p(n,s){16&s&&e!==(e=n[4]?"Creating...":"Create")&&rt(t,e)},d(n){n&&v(t)}}}function mp(r){let t,e,n,s,o;return e=new yt({props:{variant:"solid",color:"neutral",disabled:r[4],$$slots:{default:[up]},$$scope:{ctx:r}}}),e.$on("click",r[6]),s=new yt({props:{variant:"solid",color:"accent",disabled:!r[3].trim()||r[4],loading:r[4],$$slots:{default:[pp]},$$scope:{ctx:r}}}),s.$on("click",r[5]),{c(){t=k("div"),x(e.$$.fragment),n=A(),x(s.$$.fragment),w(t,"slot","footer")},m(i,l){y(i,t,l),_(e,t,null),b(t,n),_(s,t,null),o=!0},p(i,l){const a={};16&l&&(a.disabled=i[4]),4096&l&&(a.$$scope={dirty:l,ctx:i}),e.$set(a);const c={};24&l&&(c.disabled=!i[3].trim()||i[4]),16&l&&(c.loading=i[4]),4112&l&&(c.$$scope={dirty:l,ctx:i}),s.$set(c)},i(i){o||(p(e.$$.fragment,i),p(s.$$.fragment,i),o=!0)},o(i){m(e.$$.fragment,i),m(s.$$.fragment,i),o=!1},d(i){i&&v(t),S(e),S(s)}}}function fp(r){let t,e;return t=new _o({props:{show:r[0],title:"Create New Rule",ariaLabelledBy:"dialog-title",preventBackdropClose:r[4],preventEscapeClose:r[4],$$slots:{footer:[mp],body:[dp]},$$scope:{ctx:r}}}),t.$on("cancel",r[6]),t.$on("keydown",r[7]),{c(){x(t.$$.fragment)},m(n,s){_(t,n,s),e=!0},p(n,[s]){const o={};1&s&&(o.show=n[0]),16&s&&(o.preventBackdropClose=n[4]),16&s&&(o.preventEscapeClose=n[4]),4126&s&&(o.$$scope={dirty:s,ctx:n}),t.$set(o)},i(n){e||(p(t.$$.fragment,n),e=!0)},o(n){m(t.$$.fragment,n),e=!1},d(n){S(t,n)}}}function $p(r,t,e){const n=Mn();let s,{show:o=!1}=t,{errorMessage:i=""}=t,l="",a=!1;function c(){l.trim()&&!a&&(e(4,a=!0),n("create",l.trim()))}function d(){a||(n("cancel"),e(3,l=""))}return r.$$set=u=>{"show"in u&&e(0,o=u.show),"errorMessage"in u&&e(1,i=u.errorMessage)},r.$$.update=()=>{5&r.$$.dirty&&o&&s&&setTimeout(()=>s==null?void 0:s.focus(),100),3&r.$$.dirty&&(o&&!i||e(4,a=!1)),3&r.$$.dirty&&(o||i||e(3,l=""))},[o,i,s,l,a,c,d,function(u){a||u.detail.key==="Enter"&&(u.detail.preventDefault(),c())},function(u){a||(u.key==="Enter"?(u.preventDefault(),c()):u.key==="Escape"&&(u.preventDefault(),d()))},function(u){l=u,e(3,l),e(0,o),e(1,i)},function(u){s=u,e(2,s)}]}class hp extends ct{constructor(t){super(),dt(this,t,$p,fp,at,{show:0,errorMessage:1})}}function zr(r,t,e){const n=r.slice();return n[18]=t[e],n}function gp(r){let t,e,n,s,o,i,l,a,c;function d(h){r[15](h)}function u(h){r[16](h)}t=new Y({props:{size:2,color:"secondary",$$slots:{default:[yp]},$$scope:{ctx:r}}});let $={triggerOn:r[1].length===0?[]:void 0,$$slots:{default:[Cp]},$$scope:{ctx:r}};r[7]!==void 0&&($.requestClose=r[7]),r[6]!==void 0&&($.focusedIndex=r[6]),n=new vt.Root({props:$}),xt.push(()=>_t(n,"requestClose",d)),xt.push(()=>_t(n,"focusedIndex",u));let f=r[3]&&jr(r),g=r[4]&&Dr(r);return{c(){x(t.$$.fragment),e=A(),x(n.$$.fragment),i=A(),f&&f.c(),l=A(),g&&g.c(),a=ht()},m(h,C){_(t,h,C),y(h,e,C),_(n,h,C),y(h,i,C),f&&f.m(h,C),y(h,l,C),g&&g.m(h,C),y(h,a,C),c=!0},p(h,C){const I={};2097152&C&&(I.$$scope={dirty:C,ctx:h}),t.$set(I);const E={};2&C&&(E.triggerOn=h[1].length===0?[]:void 0),2097442&C&&(E.$$scope={dirty:C,ctx:h}),!s&&128&C&&(s=!0,E.requestClose=h[7],St(()=>s=!1)),!o&&64&C&&(o=!0,E.focusedIndex=h[6],St(()=>o=!1)),n.$set(E),h[3]?f?(f.p(h,C),8&C&&p(f,1)):(f=jr(h),f.c(),p(f,1),f.m(l.parentNode,l)):f&&(U(),m(f,1,1,()=>{f=null}),V()),h[4]?g?(g.p(h,C),16&C&&p(g,1)):(g=Dr(h),g.c(),p(g,1),g.m(a.parentNode,a)):g&&(U(),m(g,1,1,()=>{g=null}),V())},i(h){c||(p(t.$$.fragment,h),p(n.$$.fragment,h),p(f),p(g),c=!0)},o(h){m(t.$$.fragment,h),m(n.$$.fragment,h),m(f),m(g),c=!1},d(h){h&&(v(e),v(i),v(l),v(a)),S(t,h),S(n,h),f&&f.d(h),g&&g.d(h)}}}function vp(r){let t;return{c(){t=k("input"),w(t,"type","text"),t.value="No existing rules found",t.readOnly=!0,w(t,"class","c-dropdown-input svelte-z1s6x7")},m(e,n){y(e,t,n)},p:J,i:J,o:J,d(e){e&&v(t)}}}function yp(r){let t;return{c(){t=L("Select existing rules to auto import to .augment/rules")},m(e,n){y(e,t,n)},d(e){e&&v(t)}}}function wp(r){let t,e,n,s,o,i;return o=new Gn({props:{class:"c-dropdown-chevron"}}),{c(){t=k("div"),e=k("input"),s=A(),x(o.$$.fragment),w(e,"type","text"),e.value=n=r[5]?r[5].label:"Existing rules",e.readOnly=!0,w(e,"class","c-dropdown-input svelte-z1s6x7"),w(t,"class","c-dropdown-trigger svelte-z1s6x7")},m(l,a){y(l,t,a),b(t,e),b(t,s),_(o,t,null),i=!0},p(l,a){(!i||32&a&&n!==(n=l[5]?l[5].label:"Existing rules")&&e.value!==n)&&(e.value=n)},i(l){i||(p(o.$$.fragment,l),i=!0)},o(l){m(o.$$.fragment,l),i=!1},d(l){l&&v(t),S(o)}}}function xp(r){let t,e=r[18].label+"";return{c(){t=L(e)},m(n,s){y(n,t,s)},p(n,s){2&s&&e!==(e=n[18].label+"")&&rt(t,e)},d(n){n&&v(t)}}}function Zr(r){var s;let t,e;function n(){return r[14](r[18])}return t=new vt.Item({props:{onSelect:n,highlight:((s=r[5])==null?void 0:s.label)===r[18].label,$$slots:{default:[xp]},$$scope:{ctx:r}}}),{c(){x(t.$$.fragment)},m(o,i){_(t,o,i),e=!0},p(o,i){var a;r=o;const l={};2&i&&(l.onSelect=n),34&i&&(l.highlight=((a=r[5])==null?void 0:a.label)===r[18].label),2097154&i&&(l.$$scope={dirty:i,ctx:r}),t.$set(l)},i(o){e||(p(t.$$.fragment,o),e=!0)},o(o){m(t.$$.fragment,o),e=!1},d(o){S(t,o)}}}function Fr(r){let t,e,n,s;return t=new vt.Separator({}),n=new vt.Label({props:{$$slots:{default:[_p]},$$scope:{ctx:r}}}),{c(){x(t.$$.fragment),e=A(),x(n.$$.fragment)},m(o,i){_(t,o,i),y(o,e,i),_(n,o,i),s=!0},p(o,i){const l={};2097442&i&&(l.$$scope={dirty:i,ctx:o}),n.$set(l)},i(o){s||(p(t.$$.fragment,o),p(n.$$.fragment,o),s=!0)},o(o){m(t.$$.fragment,o),m(n.$$.fragment,o),s=!1},d(o){o&&v(e),S(t,o),S(n,o)}}}function _p(r){var n;let t,e=(r[8]!==void 0?r[1][r[8]].description:(n=r[5])==null?void 0:n.description)+"";return{c(){t=L(e)},m(s,o){y(s,t,o)},p(s,o){var i;290&o&&e!==(e=(s[8]!==void 0?s[1][s[8]].description:(i=s[5])==null?void 0:i.description)+"")&&rt(t,e)},d(s){s&&v(t)}}}function Sp(r){let t,e,n,s=mt(r[1]),o=[];for(let a=0;a<s.length;a+=1)o[a]=Zr(zr(r,s,a));const i=a=>m(o[a],1,1,()=>{o[a]=null});let l=(r[8]!==void 0||r[5])&&Fr(r);return{c(){for(let a=0;a<o.length;a+=1)o[a].c();t=A(),l&&l.c(),e=ht()},m(a,c){for(let d=0;d<o.length;d+=1)o[d]&&o[d].m(a,c);y(a,t,c),l&&l.m(a,c),y(a,e,c),n=!0},p(a,c){if(546&c){let d;for(s=mt(a[1]),d=0;d<s.length;d+=1){const u=zr(a,s,d);o[d]?(o[d].p(u,c),p(o[d],1)):(o[d]=Zr(u),o[d].c(),p(o[d],1),o[d].m(t.parentNode,t))}for(U(),d=s.length;d<o.length;d+=1)i(d);V()}a[8]!==void 0||a[5]?l?(l.p(a,c),288&c&&p(l,1)):(l=Fr(a),l.c(),p(l,1),l.m(e.parentNode,e)):l&&(U(),m(l,1,1,()=>{l=null}),V())},i(a){if(!n){for(let c=0;c<s.length;c+=1)p(o[c]);p(l),n=!0}},o(a){o=o.filter(Boolean);for(let c=0;c<o.length;c+=1)m(o[c]);m(l),n=!1},d(a){a&&(v(t),v(e)),me(o,a),l&&l.d(a)}}}function Cp(r){let t,e,n,s;return t=new vt.Trigger({props:{$$slots:{default:[wp]},$$scope:{ctx:r}}}),n=new vt.Content({props:{align:"start",side:"bottom",$$slots:{default:[Sp]},$$scope:{ctx:r}}}),{c(){x(t.$$.fragment),e=A(),x(n.$$.fragment)},m(o,i){_(t,o,i),y(o,e,i),_(n,o,i),s=!0},p(o,i){const l={};2097184&i&&(l.$$scope={dirty:i,ctx:o}),t.$set(l);const a={};2097442&i&&(a.$$scope={dirty:i,ctx:o}),n.$set(a)},i(o){s||(p(t.$$.fragment,o),p(n.$$.fragment,o),s=!0)},o(o){m(t.$$.fragment,o),m(n.$$.fragment,o),s=!1},d(o){o&&v(e),S(t,o),S(n,o)}}}function jr(r){let t,e;return t=new Tn({props:{variant:"soft",color:"error",size:1,$$slots:{icon:[kp],default:[bp]},$$scope:{ctx:r}}}),{c(){x(t.$$.fragment)},m(n,s){_(t,n,s),e=!0},p(n,s){const o={};2097160&s&&(o.$$scope={dirty:s,ctx:n}),t.$set(o)},i(n){e||(p(t.$$.fragment,n),e=!0)},o(n){m(t.$$.fragment,n),e=!1},d(n){S(t,n)}}}function bp(r){let t;return{c(){t=L(r[3])},m(e,n){y(e,t,n)},p(e,n){8&n&&rt(t,e[3])},d(e){e&&v(t)}}}function kp(r){let t,e;return t=new Jn({props:{slot:"icon"}}),{c(){x(t.$$.fragment)},m(n,s){_(t,n,s),e=!0},p:J,i(n){e||(p(t.$$.fragment,n),e=!0)},o(n){m(t.$$.fragment,n),e=!1},d(n){S(t,n)}}}function Dr(r){let t,e;return t=new Tn({props:{variant:"soft",color:"success",size:1,$$slots:{icon:[Tp],default:[Mp]},$$scope:{ctx:r}}}),{c(){x(t.$$.fragment)},m(n,s){_(t,n,s),e=!0},p(n,s){const o={};2097168&s&&(o.$$scope={dirty:s,ctx:n}),t.$set(o)},i(n){e||(p(t.$$.fragment,n),e=!0)},o(n){m(t.$$.fragment,n),e=!1},d(n){S(t,n)}}}function Mp(r){let t;return{c(){t=L(r[4])},m(e,n){y(e,t,n)},p(e,n){16&n&&rt(t,e[4])},d(e){e&&v(t)}}}function Tp(r){let t,e;return t=new si({props:{slot:"icon"}}),{c(){x(t.$$.fragment)},m(n,s){_(t,n,s),e=!0},p:J,i(n){e||(p(t.$$.fragment,n),e=!0)},o(n){m(t.$$.fragment,n),e=!1},d(n){S(t,n)}}}function Ap(r){let t,e,n,s;const o=[vp,gp],i=[];function l(a,c){return a[1].length===0?0:1}return e=l(r),n=i[e]=o[e](r),{c(){t=k("div"),n.c(),w(t,"slot","body"),w(t,"class","c-auto-import-rules-dialog svelte-z1s6x7")},m(a,c){y(a,t,c),i[e].m(t,null),s=!0},p(a,c){let d=e;e=l(a),e===d?i[e].p(a,c):(U(),m(i[d],1,1,()=>{i[d]=null}),V(),n=i[e],n?n.p(a,c):(n=i[e]=o[e](a),n.c()),p(n,1),n.m(t,null))},i(a){s||(p(n),s=!0)},o(a){m(n),s=!1},d(a){a&&v(t),i[e].d()}}}function Np(r){let t;return{c(){t=L("Cancel")},m(e,n){y(e,t,n)},d(e){e&&v(t)}}}function Ur(r){let t,e;return t=new yt({props:{color:"accent",variant:"solid",disabled:!r[5]||r[2],loading:r[2],$$slots:{default:[Ip]},$$scope:{ctx:r}}}),t.$on("click",r[10]),{c(){x(t.$$.fragment)},m(n,s){_(t,n,s),e=!0},p(n,s){const o={};36&s&&(o.disabled=!n[5]||n[2]),4&s&&(o.loading=n[2]),2097156&s&&(o.$$scope={dirty:s,ctx:n}),t.$set(o)},i(n){e||(p(t.$$.fragment,n),e=!0)},o(n){m(t.$$.fragment,n),e=!1},d(n){S(t,n)}}}function Ip(r){let t,e=r[2]?"Importing...":"Import ";return{c(){t=L(e)},m(n,s){y(n,t,s)},p(n,s){4&s&&e!==(e=n[2]?"Importing...":"Import ")&&rt(t,e)},d(n){n&&v(t)}}}function Ep(r){let t,e,n,s;e=new yt({props:{variant:"solid",color:"neutral",disabled:r[2],$$slots:{default:[Np]},$$scope:{ctx:r}}}),e.$on("click",r[11]);let o=r[1].length>0&&Ur(r);return{c(){t=k("div"),x(e.$$.fragment),n=A(),o&&o.c(),w(t,"slot","footer")},m(i,l){y(i,t,l),_(e,t,null),b(t,n),o&&o.m(t,null),s=!0},p(i,l){const a={};4&l&&(a.disabled=i[2]),2097152&l&&(a.$$scope={dirty:l,ctx:i}),e.$set(a),i[1].length>0?o?(o.p(i,l),2&l&&p(o,1)):(o=Ur(i),o.c(),p(o,1),o.m(t,null)):o&&(U(),m(o,1,1,()=>{o=null}),V())},i(i){s||(p(e.$$.fragment,i),p(o),s=!0)},o(i){m(e.$$.fragment,i),m(o),s=!1},d(i){i&&v(t),S(e),o&&o.d()}}}function Pp(r){let t,e,n,s;return t=new _o({props:{show:r[0],title:"Auto Import Rules",ariaLabelledBy:"dialog-title",preventBackdropClose:r[2],preventEscapeClose:r[2],$$slots:{footer:[Ep],body:[Ap]},$$scope:{ctx:r}}}),t.$on("cancel",r[11]),{c(){x(t.$$.fragment)},m(o,i){_(t,o,i),e=!0,n||(s=It(window,"keydown",r[12]),n=!0)},p(o,[i]){const l={};1&i&&(l.show=o[0]),4&i&&(l.preventBackdropClose=o[2]),4&i&&(l.preventEscapeClose=o[2]),2097662&i&&(l.$$scope={dirty:i,ctx:o}),t.$set(l)},i(o){e||(p(t.$$.fragment,o),e=!0)},o(o){m(t.$$.fragment,o),e=!1},d(o){S(t,o),n=!1,s()}}}function Rp(r,t,e){let n,s,o=J,i=()=>(o(),o=Xe(a,T=>e(8,s=T)),a);r.$$.on_destroy.push(()=>o());const l=Mn();let a,{show:c=!1}=t,{options:d=[]}=t,{isLoading:u=!1}=t,{errorMessage:$=""}=t,{successMessage:f=""}=t,g=n;i();let h=()=>{};function C(T){e(5,g=T),h()}function I(){g&&!u&&l("select",g)}function E(){u||(l("cancel"),e(5,g=n))}return r.$$set=T=>{"show"in T&&e(0,c=T.show),"options"in T&&e(1,d=T.options),"isLoading"in T&&e(2,u=T.isLoading),"errorMessage"in T&&e(3,$=T.errorMessage),"successMessage"in T&&e(4,f=T.successMessage)},r.$$.update=()=>{2&r.$$.dirty&&e(13,n=d.length>0?d[0]:null),8193&r.$$.dirty&&c&&e(5,g=n)},[c,d,u,$,f,g,a,h,s,C,I,E,function(T){c&&!u&&(T.key==="Escape"?(T.preventDefault(),E()):T.key==="Enter"&&g&&(T.preventDefault(),I()))},n,T=>C(T),function(T){h=T,e(7,h)},function(T){a=T,i(e(6,a))}]}class Lp extends ct{constructor(t){super(),dt(this,t,Rp,Pp,at,{show:0,options:1,isLoading:2,errorMessage:3,successMessage:4})}}function Vr(r,t,e){const n=r.slice();return n[35]=t[e],n}function qr(r,t,e){const n=r.slice();return n[38]=t[e],n}function Op(r){let t;return{c(){t=L("Rules")},m(e,n){y(e,t,n)},d(e){e&&v(t)}}}function zp(r){let t;return{c(){t=L("Learn more")},m(e,n){y(e,t,n)},d(e){e&&v(t)}}}function Zp(r){let t,e,n=[],s=new Map,o=mt(r[10]);const i=l=>l[38].path;for(let l=0;l<o.length;l+=1){let a=qr(r,o,l),c=i(a);s.set(c,n[l]=Br(c,a))}return{c(){for(let l=0;l<n.length;l+=1)n[l].c();t=ht()},m(l,a){for(let c=0;c<n.length;c+=1)n[c]&&n[c].m(l,a);y(l,t,a),e=!0},p(l,a){99328&a[0]&&(o=mt(l[10]),U(),n=fe(n,a,i,1,l,o,s,t.parentNode,$e,Br,t,qr),V())},i(l){if(!e){for(let a=0;a<o.length;a+=1)p(n[a]);e=!0}},o(l){for(let a=0;a<n.length;a+=1)m(n[a]);e=!1},d(l){l&&v(t);for(let a=0;a<n.length;a+=1)n[a].d(l)}}}function Fp(r){let t,e,n;return e=new Y({props:{size:1,color:"neutral",$$slots:{default:[Hp]},$$scope:{ctx:r}}}),{c(){t=k("div"),x(e.$$.fragment),w(t,"class","c-rules-list-empty svelte-5krsve")},m(s,o){y(s,t,o),_(e,t,null),n=!0},p(s,o){const i={};1024&o[1]&&(i.$$scope={dirty:o,ctx:s}),e.$set(i)},i(s){n||(p(e.$$.fragment,s),n=!0)},o(s){m(e.$$.fragment,s),n=!1},d(s){s&&v(t),S(e)}}}function jp(r){let t,e;return t=new Oo({}),{c(){x(t.$$.fragment)},m(n,s){_(t,n,s),e=!0},i(n){e||(p(t.$$.fragment,n),e=!0)},o(n){m(t.$$.fragment,n),e=!1},d(n){S(t,n)}}}function Dp(r){let t,e;return t=new se({props:{content:"No description found",$$slots:{default:[Up]},$$scope:{ctx:r}}}),{c(){x(t.$$.fragment)},m(n,s){_(t,n,s),e=!0},i(n){e||(p(t.$$.fragment,n),e=!0)},o(n){m(t.$$.fragment,n),e=!1},d(n){S(t,n)}}}function Up(r){let t,e;return t=new Jn({}),{c(){x(t.$$.fragment)},m(n,s){_(t,n,s),e=!0},i(n){e||(p(t.$$.fragment,n),e=!0)},o(n){m(t.$$.fragment,n),e=!1},d(n){S(t,n)}}}function Vp(r){let t,e=r[38].path+"";return{c(){t=L(e)},m(n,s){y(n,t,s)},p(n,s){1024&s[0]&&e!==(e=n[38].path+"")&&rt(t,e)},d(n){n&&v(t)}}}function qp(r){let t,e,n,s,o,i,l,a,c;const d=[Dp,jp],u=[];function $(f,g){return f[38].type!==jo.AGENT_REQUESTED||f[38].description?1:0}return n=$(r),s=u[n]=d[n](r),l=new Y({props:{size:1,color:"neutral",$$slots:{default:[Vp]},$$scope:{ctx:r}}}),{c(){t=k("div"),e=k("div"),s.c(),o=A(),i=k("div"),x(l.$$.fragment),a=A(),w(e,"class","l-icon-wrapper svelte-5krsve"),w(i,"class","c-rule-item-path svelte-5krsve"),w(t,"class","c-rule-item-info svelte-5krsve"),w(t,"slot","header-left")},m(f,g){y(f,t,g),b(t,e),u[n].m(e,null),b(t,o),b(t,i),_(l,i,null),b(t,a),c=!0},p(f,g){let h=n;n=$(f),n!==h&&(U(),m(u[h],1,1,()=>{u[h]=null}),V(),s=u[n],s||(s=u[n]=d[n](f),s.c()),p(s,1),s.m(e,null));const C={};1024&g[0]|1024&g[1]&&(C.$$scope={dirty:g,ctx:f}),l.$set(C)},i(f){c||(p(s),p(l.$$.fragment,f),c=!0)},o(f){m(s),m(l.$$.fragment,f),c=!1},d(f){f&&v(t),u[n].d(),S(l)}}}function Bp(r){let t,e;return t=new ai({props:{slot:"iconRight"}}),{c(){x(t.$$.fragment)},m(n,s){_(t,n,s),e=!0},p:J,i(n){e||(p(t.$$.fragment,n),e=!0)},o(n){m(t.$$.fragment,n),e=!1},d(n){S(t,n)}}}function Gp(r){let t,e;return t=new ri({props:{slot:"iconRight"}}),{c(){x(t.$$.fragment)},m(n,s){_(t,n,s),e=!0},p:J,i(n){e||(p(t.$$.fragment,n),e=!0)},o(n){m(t.$$.fragment,n),e=!1},d(n){S(t,n)}}}function Jp(r){let t,e,n,s,o,i,l,a,c,d;function u(...$){return r[26](r[38],...$)}return s=new Ci({props:{rule:r[38],onSave:u}}),i=new yt({props:{size:1,variant:"ghost-block",color:"neutral",class:"c-rule-item-button",$$slots:{iconRight:[Bp]},$$scope:{ctx:r}}}),i.$on("click",function(...$){return r[27](r[38],...$)}),a=new yt({props:{size:1,variant:"ghost-block",color:"neutral",class:"c-rule-item-button",$$slots:{iconRight:[Gp]},$$scope:{ctx:r}}}),a.$on("click",function(...$){return r[28](r[38],...$)}),{c(){t=k("div"),e=k("div"),n=k("div"),x(s.$$.fragment),o=A(),x(i.$$.fragment),l=A(),x(a.$$.fragment),c=A(),w(n,"class","c-rules-dropdown svelte-5krsve"),w(e,"class","status-controls svelte-5krsve"),w(t,"class","server-actions"),w(t,"slot","header-right")},m($,f){y($,t,f),b(t,e),b(e,n),_(s,n,null),b(e,o),_(i,e,null),b(e,l),_(a,e,null),b(t,c),d=!0},p($,f){r=$;const g={};1024&f[0]&&(g.rule=r[38]),1024&f[0]&&(g.onSave=u),s.$set(g);const h={};1024&f[1]&&(h.$$scope={dirty:f,ctx:r}),i.$set(h);const C={};1024&f[1]&&(C.$$scope={dirty:f,ctx:r}),a.$set(C)},i($){d||(p(s.$$.fragment,$),p(i.$$.fragment,$),p(a.$$.fragment,$),d=!0)},o($){m(s.$$.fragment,$),m(i.$$.fragment,$),m(a.$$.fragment,$),d=!1},d($){$&&v(t),S(s),S(i),S(a)}}}function Br(r,t){let e,n,s;return n=new ho({props:{isClickable:!0,$$slots:{"header-right":[Jp],"header-left":[qp]},$$scope:{ctx:t}}}),n.$on("click",function(){return t[29](t[38])}),{key:r,first:null,c(){e=ht(),x(n.$$.fragment),this.first=e},m(o,i){y(o,e,i),_(n,o,i),s=!0},p(o,i){t=o;const l={};1024&i[0]|1024&i[1]&&(l.$$scope={dirty:i,ctx:t}),n.$set(l)},i(o){s||(p(n.$$.fragment,o),s=!0)},o(o){m(n.$$.fragment,o),s=!1},d(o){o&&v(e),S(n,o)}}}function Hp(r){let t;return{c(){t=L("No rules files found")},m(e,n){y(e,t,n)},d(e){e&&v(t)}}}function Wp(r){let t,e,n,s,o;return e=new Qe({}),{c(){t=k("div"),x(e.$$.fragment),n=A(),s=k("span"),s.textContent="Create new rule file",w(t,"class","c-rules-actions-button-content svelte-5krsve")},m(i,l){y(i,t,l),_(e,t,null),b(t,n),b(t,s),o=!0},p:J,i(i){o||(p(e.$$.fragment,i),o=!0)},o(i){m(e.$$.fragment,i),o=!1},d(i){i&&v(t),S(e)}}}function Kp(r){let t,e,n,s,o,i,l;return e=new to({}),i=new Gn({}),{c(){t=k("div"),x(e.$$.fragment),n=A(),s=k("span"),s.textContent="Import rules",o=A(),x(i.$$.fragment),w(t,"class","c-rules-actions-button-content svelte-5krsve")},m(a,c){y(a,t,c),_(e,t,null),b(t,n),b(t,s),b(t,o),_(i,t,null),l=!0},p:J,i(a){l||(p(e.$$.fragment,a),p(i.$$.fragment,a),l=!0)},o(a){m(e.$$.fragment,a),m(i.$$.fragment,a),l=!1},d(a){a&&v(t),S(e),S(i)}}}function Yp(r){let t,e;return t=new yt({props:{size:1,variant:"soft",color:"neutral",class:"c-rules-action-button",$$slots:{default:[Kp]},$$scope:{ctx:r}}}),{c(){x(t.$$.fragment)},m(n,s){_(t,n,s),e=!0},p(n,s){const o={};1024&s[1]&&(o.$$scope={dirty:s,ctx:n}),t.$set(o)},i(n){e||(p(t.$$.fragment,n),e=!0)},o(n){m(t.$$.fragment,n),e=!1},d(n){S(t,n)}}}function Xp(r){let t,e=r[35].label+"";return{c(){t=L(e)},m(n,s){y(n,t,s)},p:J,d(n){n&&v(t)}}}function Gr(r,t){let e,n,s;return n=new vt.Item({props:{onSelect:function(){return t[31](t[35])},$$slots:{default:[Xp]},$$scope:{ctx:t}}}),{key:r,first:null,c(){e=ht(),x(n.$$.fragment),this.first=e},m(o,i){y(o,e,i),_(n,o,i),s=!0},p(o,i){t=o;const l={};1024&i[1]&&(l.$$scope={dirty:i,ctx:t}),n.$set(l)},i(o){s||(p(n.$$.fragment,o),s=!0)},o(o){m(n.$$.fragment,o),s=!1},d(o){o&&v(e),S(n,o)}}}function Jr(r){let t,e,n,s;return t=new vt.Separator({}),n=new vt.Label({props:{$$slots:{default:[Qp]},$$scope:{ctx:r}}}),{c(){x(t.$$.fragment),e=A(),x(n.$$.fragment)},m(o,i){_(t,o,i),y(o,e,i),_(n,o,i),s=!0},p(o,i){const l={};2048&i[0]|1024&i[1]&&(l.$$scope={dirty:i,ctx:o}),n.$set(l)},i(o){s||(p(t.$$.fragment,o),p(n.$$.fragment,o),s=!0)},o(o){m(t.$$.fragment,o),m(n.$$.fragment,o),s=!1},d(o){o&&v(e),S(t,o),S(n,o)}}}function Qp(r){let t,e=(r[11]!==void 0?r[20][r[11]].description:r[20][0])+"";return{c(){t=L(e)},m(n,s){y(n,t,s)},p(n,s){2048&s[0]&&e!==(e=(n[11]!==void 0?n[20][n[11]].description:n[20][0])+"")&&rt(t,e)},d(n){n&&v(t)}}}function tm(r){let t,e,n,s=[],o=new Map,i=mt(r[20]);const l=c=>c[35].id;for(let c=0;c<i.length;c+=1){let d=Vr(r,i,c),u=l(d);o.set(u,s[c]=Gr(u,d))}let a=r[11]!==void 0&&Jr(r);return{c(){for(let c=0;c<s.length;c+=1)s[c].c();t=A(),a&&a.c(),e=ht()},m(c,d){for(let u=0;u<s.length;u+=1)s[u]&&s[u].m(c,d);y(c,t,d),a&&a.m(c,d),y(c,e,d),n=!0},p(c,d){3145728&d[0]&&(i=mt(c[20]),U(),s=fe(s,d,l,1,c,i,o,t.parentNode,$e,Gr,t,Vr),V()),c[11]!==void 0?a?(a.p(c,d),2048&d[0]&&p(a,1)):(a=Jr(c),a.c(),p(a,1),a.m(e.parentNode,e)):a&&(U(),m(a,1,1,()=>{a=null}),V())},i(c){if(!n){for(let d=0;d<i.length;d+=1)p(s[d]);p(a),n=!0}},o(c){for(let d=0;d<s.length;d+=1)m(s[d]);m(a),n=!1},d(c){c&&(v(t),v(e));for(let d=0;d<s.length;d+=1)s[d].d(c);a&&a.d(c)}}}function em(r){let t,e,n,s;return t=new vt.Trigger({props:{$$slots:{default:[Yp]},$$scope:{ctx:r}}}),n=new vt.Content({props:{align:"start",side:"bottom",$$slots:{default:[tm]},$$scope:{ctx:r}}}),{c(){x(t.$$.fragment),e=A(),x(n.$$.fragment)},m(o,i){_(t,o,i),y(o,e,i),_(n,o,i),s=!0},p(o,i){const l={};1024&i[1]&&(l.$$scope={dirty:i,ctx:o}),t.$set(l);const a={};2048&i[0]|1024&i[1]&&(a.$$scope={dirty:i,ctx:o}),n.$set(a)},i(o){s||(p(t.$$.fragment,o),p(n.$$.fragment,o),s=!0)},o(o){m(t.$$.fragment,o),m(n.$$.fragment,o),s=!1},d(o){o&&v(e),S(t,o),S(n,o)}}}function nm(r){let t;return{c(){t=L("User Guidelines")},m(e,n){y(e,t,n)},d(e){e&&v(t)}}}function sm(r){let t;return{c(){t=L("Learn more")},m(e,n){y(e,t,n)},d(e){e&&v(t)}}}function rm(r){let t,e,n,s,o,i,l,a,c,d,u,$,f,g,h,C,I,E,T,M,N,P,R,tt,et,F,Z,q,st,j,G,z,ut,Zt,Se,Re;n=new Y({props:{class:"c-section-header",size:3,color:"primary",$$slots:{default:[Op]},$$scope:{ctx:r}}}),a=new Y({props:{size:1,weight:"regular",$$slots:{default:[zp]},$$scope:{ctx:r}}});const he=[Fp,Zp],te=[];function Wn(W,ot){return W[10].length===0?0:1}function So(W){r[32](W)}function Co(W){r[33](W)}u=Wn(r),$=te[u]=he[u](r),h=new yt({props:{size:1,variant:"soft",color:"neutral",class:"c-rules-action-button",$$slots:{default:[Wp]},$$scope:{ctx:r}}}),h.$on("click",r[30]);let En={$$slots:{default:[em]},$$scope:{ctx:r}};return r[9]!==void 0&&(En.requestClose=r[9]),r[8]!==void 0&&(En.focusedIndex=r[8]),I=new vt.Root({props:En}),xt.push(()=>_t(I,"requestClose",So)),xt.push(()=>_t(I,"focusedIndex",Co)),P=new Y({props:{class:"c-section-header",size:3,color:"primary",$$slots:{default:[nm]},$$scope:{ctx:r}}}),Z=new Y({props:{size:1,weight:"regular",$$slots:{default:[sm]},$$scope:{ctx:r}}}),st=new xo({props:{userGuidelines:r[0],userGuidelinesLengthLimit:r[1],updateUserGuideline:r[2]}}),G=new hp({props:{show:r[12],errorMessage:r[13]}}),G.$on("create",r[24]),G.$on("cancel",r[25]),ut=new Lp({props:{show:r[3],options:r[4],isLoading:r[5],errorMessage:r[6],successMessage:r[7]}}),ut.$on("select",r[22]),ut.$on("cancel",r[23]),{c(){t=k("div"),e=k("div"),x(n.$$.fragment),s=A(),o=k("div"),i=L(`Rules are instructions for Augment Chat and Agent that can be applied automatically across all
      conversations or referenced in specific conversations using @mentions (e.g., @rule-file.md) `),l=k("a"),x(a.$$.fragment),c=A(),d=k("div"),$.c(),f=A(),g=k("div"),x(h.$$.fragment),C=A(),x(I.$$.fragment),M=A(),N=k("div"),x(P.$$.fragment),R=A(),tt=k("div"),et=L(`User Guidelines allow you to control Augment's behavior through natural language instructions.
      These guidelines are applied globally to all Chat and Agent interactions. `),F=k("a"),x(Z.$$.fragment),q=A(),x(st.$$.fragment),j=A(),x(G.$$.fragment),z=A(),x(ut.$$.fragment),w(l,"href","https://docs.augmentcode.com/setup-augment/guidelines#workspace-guidelines"),w(l,"target","_blank"),w(d,"class","c-rules-list svelte-5krsve"),w(g,"class","c-rules-actions-container svelte-5krsve"),w(e,"class","c-rules-section svelte-5krsve"),w(F,"href","https://docs.augmentcode.com/setup-augment/guidelines#workspace-guidelines"),w(F,"target","_blank"),w(N,"class","c-user-guidelines-section svelte-5krsve"),w(t,"class","c-rules-category svelte-5krsve")},m(W,ot){y(W,t,ot),b(t,e),_(n,e,null),b(e,s),b(e,o),b(o,i),b(o,l),_(a,l,null),b(e,c),b(e,d),te[u].m(d,null),b(e,f),b(e,g),_(h,g,null),b(g,C),_(I,g,null),b(t,M),b(t,N),_(P,N,null),b(N,R),b(N,tt),b(tt,et),b(tt,F),_(Z,F,null),b(N,q),_(st,N,null),y(W,j,ot),_(G,W,ot),y(W,z,ot),_(ut,W,ot),Zt=!0,Se||(Re=It(window,"message",r[14].onMessageFromExtension),Se=!0)},p(W,ot){const Kn={};1024&ot[1]&&(Kn.$$scope={dirty:ot,ctx:W}),n.$set(Kn);const Yn={};1024&ot[1]&&(Yn.$$scope={dirty:ot,ctx:W}),a.$set(Yn);let Pn=u;u=Wn(W),u===Pn?te[u].p(W,ot):(U(),m(te[Pn],1,1,()=>{te[Pn]=null}),V(),$=te[u],$?$.p(W,ot):($=te[u]=he[u](W),$.c()),p($,1),$.m(d,null));const Xn={};1024&ot[1]&&(Xn.$$scope={dirty:ot,ctx:W}),h.$set(Xn);const nn={};2048&ot[0]|1024&ot[1]&&(nn.$$scope={dirty:ot,ctx:W}),!E&&512&ot[0]&&(E=!0,nn.requestClose=W[9],St(()=>E=!1)),!T&&256&ot[0]&&(T=!0,nn.focusedIndex=W[8],St(()=>T=!1)),I.$set(nn);const Qn={};1024&ot[1]&&(Qn.$$scope={dirty:ot,ctx:W}),P.$set(Qn);const ts={};1024&ot[1]&&(ts.$$scope={dirty:ot,ctx:W}),Z.$set(ts);const sn={};1&ot[0]&&(sn.userGuidelines=W[0]),2&ot[0]&&(sn.userGuidelinesLengthLimit=W[1]),4&ot[0]&&(sn.updateUserGuideline=W[2]),st.$set(sn);const Rn={};4096&ot[0]&&(Rn.show=W[12]),8192&ot[0]&&(Rn.errorMessage=W[13]),G.$set(Rn);const Ce={};8&ot[0]&&(Ce.show=W[3]),16&ot[0]&&(Ce.options=W[4]),32&ot[0]&&(Ce.isLoading=W[5]),64&ot[0]&&(Ce.errorMessage=W[6]),128&ot[0]&&(Ce.successMessage=W[7]),ut.$set(Ce)},i(W){Zt||(p(n.$$.fragment,W),p(a.$$.fragment,W),p($),p(h.$$.fragment,W),p(I.$$.fragment,W),p(P.$$.fragment,W),p(Z.$$.fragment,W),p(st.$$.fragment,W),p(G.$$.fragment,W),p(ut.$$.fragment,W),Zt=!0)},o(W){m(n.$$.fragment,W),m(a.$$.fragment,W),m($),m(h.$$.fragment,W),m(I.$$.fragment,W),m(P.$$.fragment,W),m(Z.$$.fragment,W),m(st.$$.fragment,W),m(G.$$.fragment,W),m(ut.$$.fragment,W),Zt=!1},d(W){W&&(v(t),v(j),v(z)),S(n),S(a),te[u].d(),S(h),S(I),S(P),S(Z),S(st),S(G,W),S(ut,W),Se=!1,Re()}}}function om(r,t,e){let n,s,o,i,l=J,a=()=>(l(),l=Xe(R,F=>e(11,s=F)),R);r.$$.on_destroy.push(()=>l());let{userGuidelines:c=""}=t,{userGuidelinesLengthLimit:d}=t,{updateUserGuideline:u=()=>!1}=t;const $=new eo(kt),f=new xi($),g=new Yu(kt,$,f);$.registerConsumer(f);const h=f.getRulesFiles();Dt(r,h,F=>e(10,n=F));const C=g.getShowCreateRuleDialog();Dt(r,C,F=>e(12,o=F));const I=g.getCreateRuleError();Dt(r,I,F=>e(13,i=F));let E=!1,T=[],M=!1,N="",P="",R;a();let tt=()=>{};async function et(F){try{F.id==="select_file_or_directory"?await g.selectFileToImport():F.id==="auto_import"&&await async function(){try{e(6,N=""),e(7,P="");const Z=await g.getAutoImportOptions();e(4,T=Z.data.options),e(3,E=!0)}catch(Z){console.error("Failed to get auto-import options:",Z),e(6,N="Failed to detect existing rules in workspace.")}}()}catch(Z){console.error("Failed to handle import select:",Z)}tt&&tt()}return Wr(()=>{f.requestRules()}),r.$$set=F=>{"userGuidelines"in F&&e(0,c=F.userGuidelines),"userGuidelinesLengthLimit"in F&&e(1,d=F.userGuidelinesLengthLimit),"updateUserGuideline"in F&&e(2,u=F.updateUserGuideline)},[c,d,u,E,T,M,N,P,R,tt,n,s,o,i,$,f,g,h,C,I,[{label:"Auto import existing rules in the workspace",id:"auto_import",description:"Choose existing rules in your workspace to auto import to Augment."},{label:"Select file(s) or directory to import",id:"select_file_or_directory",description:"Select an existing directory or list of markdown files to import to Augment."}],et,async function(F){const Z=F.detail;try{e(5,M=!0),e(6,N="");const q=await g.processAutoImportSelection(Z);let st=`Successfully imported ${q.importedRulesCount} rule${q.importedRulesCount!==1?"s":""} from ${Z.label}`;q.duplicatesCount>0&&(st+=`, ${q.duplicatesCount} duplicate${q.duplicatesCount!==1?"s":""} skipped`),q.totalAttempted>q.importedRulesCount+q.duplicatesCount&&(st+=`, ${q.totalAttempted-q.importedRulesCount-q.duplicatesCount} failed`),e(7,P=st),setTimeout(()=>{e(3,E=!1),e(7,P="")},500)}catch(q){console.error("Failed to process auto-import selection:",q),e(6,N="Failed to import rules. Please try again.")}finally{e(5,M=!1)}},function(){e(3,E=!1),e(6,N=""),e(7,P="")},function(F){g.handleCreateRuleWithName(F.detail)},function(){g.hideCreateRuleDialog()},(F,Z,q)=>{f.updateRuleContent({type:Z,path:F.path,content:F.content,description:q})},(F,Z)=>{Z.stopPropagation(),g.openRule(F.path)},(F,Z)=>{Z.stopPropagation(),g.deleteRule(F.path)},F=>g.openRule(F.path),()=>g.createRule(),F=>et(F),function(F){tt=F,e(9,tt)},function(F){R=F,a(e(8,R))}]}class im extends ct{constructor(t){super(),dt(this,t,om,rm,at,{userGuidelines:0,userGuidelinesLengthLimit:1,updateUserGuideline:2},null,[-1,-1])}}function am(r){let t,e,n=[{xmlns:"http://www.w3.org/2000/svg"},{"data-ds-icon":"fa"},{viewBox:"0 0 512 512"},r[0]],s={};for(let o=0;o<n.length;o+=1)s=Ct(s,n[o]);return{c(){t=Ot("svg"),e=new _n(!0),this.h()},l(o){t=Sn(o,"svg",{xmlns:!0,"data-ds-icon":!0,viewBox:!0});var i=Cn(t);e=bn(i,!0),i.forEach(v),this.h()},h(){e.a=null,ae(t,s)},m(o,i){kn(o,t,i),e.m('<!--! Font Awesome Pro 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2024 Fonticons, Inc.--><path d="M352 146.2 462 256 352 365.8V312c0-13.3-10.7-24-24-24H208v-64h120c13.3 0 24-10.7 24-24zM512 256c0-11.5-4.6-22.5-12.7-30.6L383.2 109.6c-8.7-8.7-20.5-13.6-32.8-13.6-25.6 0-46.4 20.8-46.4 46.4V176h-96c-26.5 0-48 21.5-48 48v64c0 26.5 21.5 48 48 48h96v33.6c0 25.6 20.8 46.4 46.4 46.4 12.3 0 24.1-4.9 32.8-13.6l116.1-115.8c8.1-8.1 12.7-19.1 12.7-30.6M168 80c13.3 0 24-10.7 24-24s-10.7-24-24-24H88C39.4 32 0 71.4 0 120v272c0 48.6 39.4 88 88 88h80c13.3 0 24-10.7 24-24s-10.7-24-24-24H88c-22.1 0-40-17.9-40-40V120c0-22.1 17.9-40 40-40z"/>',t)},p(o,[i]){ae(t,s=oe(n,[{xmlns:"http://www.w3.org/2000/svg"},{"data-ds-icon":"fa"},{viewBox:"0 0 512 512"},1&i&&o[0]]))},i:J,o:J,d(o){o&&v(t)}}}function lm(r,t,e){return r.$$set=n=>{e(0,t=Ct(Ct({},t),Gt(n)))},[t=Gt(t)]}class cm extends ct{constructor(t){super(),dt(this,t,lm,am,at,{})}}function dm(r){let t;return{c(){t=L("Sign Out")},m(e,n){y(e,t,n)},d(e){e&&v(t)}}}function um(r){let t,e;return t=new cm({props:{slot:"iconLeft"}}),{c(){x(t.$$.fragment)},m(n,s){_(t,n,s),e=!0},p:J,i(n){e||(p(t.$$.fragment,n),e=!0)},o(n){m(t.$$.fragment,n),e=!1},d(n){S(t,n)}}}function pm(r){let t,e;return t=new yt({props:{loading:r[0],variant:"soft","data-testid":"sign-out-button",$$slots:{iconLeft:[um],default:[dm]},$$scope:{ctx:r}}}),t.$on("click",r[1]),{c(){x(t.$$.fragment)},m(n,s){_(t,n,s),e=!0},p(n,[s]){const o={};1&s&&(o.loading=n[0]),8&s&&(o.$$scope={dirty:s,ctx:n}),t.$set(o)},i(n){e||(p(t.$$.fragment,n),e=!0)},o(n){m(t.$$.fragment,n),e=!1},d(n){S(t,n)}}}function mm(r,t,e){let{onSignOut:n}=t,s=!1;return r.$$set=o=>{"onSignOut"in o&&e(2,n=o.onSignOut)},[s,function(){n(),e(0,s=!0)},n]}class fm extends ct{constructor(t){super(),dt(this,t,mm,pm,at,{onSignOut:2})}}function $m(r){let t,e;return t=new Bu({props:{tools:r[6],onAuthenticate:r[20],onRevokeAccess:r[21],onToolApprovalConfigChange:r[24],servers:r[7],onMCPServerAdd:r[27],onMCPServerSave:r[28],onMCPServerDelete:r[29],onMCPServerToggleDisable:r[30],onMCPServerJSONImport:r[31],isMCPEnabled:r[8]&&r[2].mcpServerList,isMCPImportEnabled:r[8]&&r[2].mcpServerImport,supportedShells:r[9].supportedShells,selectedShell:r[9].selectedShell,startupScript:r[9].startupScript,onShellSelect:r[22],onStartupScriptChange:r[23],isTerminalEnabled:r[2].terminal,isSoundCategoryEnabled:r[10]}}),{c(){x(t.$$.fragment)},m(n,s){_(t,n,s),e=!0},p(n,s){const o={};64&s[0]&&(o.tools=n[6]),128&s[0]&&(o.servers=n[7]),260&s[0]&&(o.isMCPEnabled=n[8]&&n[2].mcpServerList),260&s[0]&&(o.isMCPImportEnabled=n[8]&&n[2].mcpServerImport),512&s[0]&&(o.supportedShells=n[9].supportedShells),512&s[0]&&(o.selectedShell=n[9].selectedShell),512&s[0]&&(o.startupScript=n[9].startupScript),4&s[0]&&(o.isTerminalEnabled=n[2].terminal),1024&s[0]&&(o.isSoundCategoryEnabled=n[10]),t.$set(o)},i(n){e||(p(t.$$.fragment,n),e=!0)},o(n){m(t.$$.fragment,n),e=!1},d(n){S(t,n)}}}function hm(r){let t,e;return t=new fm({props:{onSignOut:r[25]}}),{c(){x(t.$$.fragment)},m(n,s){_(t,n,s),e=!0},p:J,i(n){e||(p(t.$$.fragment,n),e=!0)},o(n){m(t.$$.fragment,n),e=!1},d(n){S(t,n)}}}function gm(r){let t,e,n,s;const o=[xm,wm],i=[];function l(a,c){return a[2].rules?0:1}return t=l(r),e=i[t]=o[t](r),{c(){e.c(),n=ht()},m(a,c){i[t].m(a,c),y(a,n,c),s=!0},p(a,c){let d=t;t=l(a),t===d?i[t].p(a,c):(U(),m(i[d],1,1,()=>{i[d]=null}),V(),e=i[t],e?e.p(a,c):(e=i[t]=o[t](a),e.c()),p(e,1),e.m(n.parentNode,n))},i(a){s||(p(e),s=!0)},o(a){m(e),s=!1},d(a){a&&v(n),i[t].d(a)}}}function vm(r){let t,e;return t=new dl({}),{c(){x(t.$$.fragment)},m(n,s){_(t,n,s),e=!0},p:J,i(n){e||(p(t.$$.fragment,n),e=!0)},o(n){m(t.$$.fragment,n),e=!1},d(n){S(t,n)}}}function ym(r){return{c:J,m:J,p:J,i:J,o:J,d:J}}function wm(r){let t,e;return t=new xo({props:{userGuidelines:r[5],userGuidelinesLengthLimit:r[4],updateUserGuideline:r[19]}}),{c(){x(t.$$.fragment)},m(n,s){_(t,n,s),e=!0},p(n,s){const o={};32&s[0]&&(o.userGuidelines=n[5]),16&s[0]&&(o.userGuidelinesLengthLimit=n[4]),t.$set(o)},i(n){e||(p(t.$$.fragment,n),e=!0)},o(n){m(t.$$.fragment,n),e=!1},d(n){S(t,n)}}}function xm(r){let t,e;return t=new im({props:{userGuidelines:r[5],userGuidelinesLengthLimit:r[4],updateUserGuideline:r[19]}}),{c(){x(t.$$.fragment)},m(n,s){_(t,n,s),e=!0},p(n,s){const o={};32&s[0]&&(o.userGuidelines=n[5]),16&s[0]&&(o.userGuidelinesLengthLimit=n[4]),t.$set(o)},i(n){e||(p(t.$$.fragment,n),e=!0)},o(n){m(t.$$.fragment,n),e=!1},d(n){S(t,n)}}}function _m(r){let t,e,n,s,o;const i=[ym,vm,gm,hm,$m],l=[];function a(c,d){var u,$,f;return 128&d[1]&&(e=null),e==null&&(e=!go(c[38])),e?0:((u=c[38])==null?void 0:u.id)==="context"?1:(($=c[38])==null?void 0:$.id)==="guidelines"?2:((f=c[38])==null?void 0:f.id)==="account"?3:4}return n=a(r,[-1,-1]),s=l[n]=i[n](r),{c(){t=k("span"),s.c(),w(t,"slot","content")},m(c,d){y(c,t,d),l[n].m(t,null),o=!0},p(c,d){let u=n;n=a(c,d),n===u?l[n].p(c,d):(U(),m(l[u],1,1,()=>{l[u]=null}),V(),s=l[n],s?s.p(c,d):(s=l[n]=i[n](c),s.c()),p(s,1),s.m(t,null))},i(c){o||(p(s),o=!0)},o(c){m(s),o=!1},d(c){c&&v(t),l[n].d()}}}function Sm(r){let t,e;return t=new zl({props:{items:r[1],mode:"tree",class:"c-settings-navigation",selectedId:r[0],$$slots:{content:[_m,({item:n})=>({38:n}),({item:n})=>[0,n?128:0]]},$$scope:{ctx:r}}}),{c(){x(t.$$.fragment)},m(n,s){_(t,n,s),e=!0},p(n,s){const o={};2&s[0]&&(o.items=n[1]),1&s[0]&&(o.selectedId=n[0]),2036&s[0]|384&s[1]&&(o.$$scope={dirty:s,ctx:n}),t.$set(o)},i(n){e||(p(t.$$.fragment,n),e=!0)},o(n){m(t.$$.fragment,n),e=!1},d(n){S(t,n)}}}function Cm(r){let t,e,n,s;return t=new yi.Root({props:{$$slots:{default:[Sm]},$$scope:{ctx:r}}}),{c(){x(t.$$.fragment)},m(o,i){_(t,o,i),e=!0,n||(s=It(window,"message",r[12].onMessageFromExtension),n=!0)},p(o,i){const l={};2039&i[0]|256&i[1]&&(l.$$scope={dirty:i,ctx:o}),t.$set(l)},i(o){e||(p(t.$$.fragment,o),e=!0)},o(o){m(t.$$.fragment,o),e=!1},d(o){S(t,o),n=!1,s()}}}function bm(r,t,e){let n,s,o,i,l,a,c,d,u,$,f,g=J;r.$$.on_destroy.push(()=>g());const h=new Mi(kt),C=new Pa(kt),I=new Ra(kt),E=new eo(kt),T=new ii,M=new li(kt,E,T),N=new wn(E);Io(wn.key,N);const P=h.getSettingsComponentSupported();Dt(r,P,j=>e(2,l=j));const R=h.getEnableAgentMode();Dt(r,R,j=>e(8,u=j));const tt=h.getEnableDebugFeatures();Dt(r,tt,j=>e(10,f=j)),E.registerConsumer(h),E.registerConsumer(C),E.registerConsumer(I);const et=I.getTerminalSettings();let F;Dt(r,et,j=>e(9,$=j));const Z={handleMessageFromExtension:j=>!(!j.data||j.data.type!==ft.navigateToSettingsSection)&&(j.data.data&&typeof j.data.data=="string"&&e(0,F=j.data.data),!0)};E.registerConsumer(Z);const q=h.getDisplayableTools();Dt(r,q,j=>e(6,c=j));const st=h.getGuidelines();return Dt(r,st,j=>e(26,a=j)),Kr(()=>{h.dispose(),N.dispose()}),h.notifyLoaded(),kt.postMessage({type:ft.getOrientationStatus}),kt.postMessage({type:ft.settingsPanelLoaded}),r.$$.update=()=>{var j,G,z;67108864&r.$$.dirty[0]&&e(5,n=(j=a.userGuidelines)==null?void 0:j.contents),67108864&r.$$.dirty[0]&&e(4,s=(G=a.userGuidelines)==null?void 0:G.lengthLimit),4&r.$$.dirty[0]&&e(1,i=[l.remoteTools?an("Tools","",Fl,"section-tools"):void 0,l.userGuidelines&&!l.rules?an("User Guidelines","Guidelines for Augment Chat to follow.",zo,"guidelines"):void 0,l.rules?an("Rules and User Guidelines","",Hu,"guidelines"):void 0,l.workspaceContext?{name:"Context",description:"",icon:Dl,id:"context"}:void 0,an("Account","Manage your Augment account settings.",oi,"account")].filter(Boolean)),3&r.$$.dirty[0]&&i.length>1&&!F&&e(0,F=(z=i[0])==null?void 0:z.id)},e(3,o=C.getServers()),g(),g=Xe(o,j=>e(7,d=j)),[F,i,l,o,s,n,c,d,u,$,f,C,E,P,R,tt,et,q,st,function(j){const G=j.trim();return!(s&&G.length>s)&&(h.updateLocalUserGuidelines(G),kt.postMessage({type:ft.updateUserGuidelines,data:j}),!0)},function(j){kt.postMessage({type:ft.toolConfigStartOAuth,data:{authUrl:j}}),h.startPolling()},async function(j){await M.openConfirmationModal({title:"Revoke Access",message:`Are you sure you want to revoke access for ${j.displayName}? This will disconnect the tool and you'll need to reconnect it to use it again.`,confirmButtonText:"Revoke Access",cancelButtonText:"Cancel"})&&kt.postMessage({type:ft.toolConfigRevokeAccess,data:{toolId:j.identifier}})},function(j){I.updateSelectedShell(j)},function(j){I.updateStartupScript(j)},function(j,G){kt.postMessage({type:ft.toolApprovalConfigSetRequest,data:{toolId:j,approvalConfig:G}})},function(){kt.postMessage({type:ft.signOut})},a,j=>C.addServer(j),j=>C.updateServer(j),j=>C.deleteServer(j),j=>C.toggleDisabledServer(j),j=>C.importServersFromJSON(j)]}class km extends ct{constructor(t){super(),dt(this,t,bm,Cm,at,{},null,[-1,-1])}}(async function(){kt&&kt.initialize&&await kt.initialize(),new km({target:document.getElementById("app")})})();
