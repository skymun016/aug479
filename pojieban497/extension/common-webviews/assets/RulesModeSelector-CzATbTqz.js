import{S as M,i as Q,s as W,N as Y,c as d,q as E,t as p,r as T,u as f,e as m,n as S,Y as k,Z as q,_ as D,E as g,F as h,$ as _,G as x,X as N,a0 as R,D as F,b as H,a1 as X,a2 as z}from"./SpinnerAugment-CCR7AGk-.js";import{e as I}from"./IconButtonAugment-CVWbWfwx.js";import{A as j,D as b}from"./index-DaLJ_QUV.js";import{B}from"./ButtonAugment-JhlUwgSi.js";import{C as Z}from"./chevron-down-Di3C5ykp.js";import{T as J}from"./TextTooltipAugment-QVDAcl-O.js";import{R as A}from"./message-broker-D_dlQCzo.js";function G(r,e,n){const t=r.slice();return t[17]=e[n],t}function K(r){let e,n,t,s;function o(a){r[12](a)}function i(a){r[13](a)}let $={$$slots:{default:[st]},$$scope:{ctx:r}};return r[1]!==void 0&&($.requestClose=r[1]),r[0]!==void 0&&($.focusedIndex=r[0]),e=new b.Root({props:$}),q.push(()=>D(e,"requestClose",o)),q.push(()=>D(e,"focusedIndex",i)),{c(){g(e.$$.fragment)},m(a,l){h(e,a,l),s=!0},p(a,l){const c={};1048596&l&&(c.$$scope={dirty:l,ctx:a}),!n&&2&l&&(n=!0,c.requestClose=a[1],_(()=>n=!1)),!t&&1&l&&(t=!0,c.focusedIndex=a[0],_(()=>t=!1)),e.$set(c)},i(a){s||(f(e.$$.fragment,a),s=!0)},o(a){p(e.$$.fragment,a),s=!1},d(a){x(e,a)}}}function O(r){let e,n;return e=new J({props:{content:"Workspace guidelines are always applied",$$slots:{default:[at]},$$scope:{ctx:r}}}),{c(){g(e.$$.fragment)},m(t,s){h(e,t,s),n=!0},p(t,s){const o={};1048576&s&&(o.$$scope={dirty:s,ctx:t}),e.$set(o)},i(t){n||(f(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){x(e,t)}}}function P(r){let e,n=r[2].label+"";return{c(){e=R(n)},m(t,s){d(t,e,s)},p(t,s){4&s&&n!==(n=t[2].label+"")&&z(e,n)},d(t){t&&m(e)}}}function V(r){let e,n;return e=new Z({props:{slot:"iconRight"}}),{c(){g(e.$$.fragment)},m(t,s){h(e,t,s),n=!0},p:S,i(t){n||(f(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){x(e,t)}}}function tt(r){let e,n,t;return n=new B({props:{color:"neutral",size:1,variant:"soft",$$slots:{iconRight:[V],default:[P]},$$scope:{ctx:r}}}),{c(){e=F("div"),g(n.$$.fragment),H(e,"class","c-dropdown-label svelte-9n7h82")},m(s,o){d(s,e,o),h(n,e,null),t=!0},p(s,o){const i={};1048580&o&&(i.$$scope={dirty:o,ctx:s}),n.$set(i)},i(s){t||(f(n.$$.fragment,s),t=!0)},o(s){p(n.$$.fragment,s),t=!1},d(s){s&&m(e),x(n)}}}function et(r){let e,n=r[17].label+"";return{c(){e=R(n)},m(t,s){d(t,e,s)},p:S,d(t){t&&m(e)}}}function L(r){let e,n;return e=new b.Item({props:{onSelect:function(){return r[11](r[17])},highlight:r[2].label===r[17].label,$$slots:{default:[et]},$$scope:{ctx:r}}}),{c(){g(e.$$.fragment)},m(t,s){h(e,t,s),n=!0},p(t,s){r=t;const o={};4&s&&(o.highlight=r[2].label===r[17].label),1048576&s&&(o.$$scope={dirty:s,ctx:r}),e.$set(o)},i(t){n||(f(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){x(e,t)}}}function U(r){let e,n,t,s;return e=new b.Separator({}),t=new b.Label({props:{$$slots:{default:[nt]},$$scope:{ctx:r}}}),{c(){g(e.$$.fragment),n=N(),g(t.$$.fragment)},m(o,i){h(e,o,i),d(o,n,i),h(t,o,i),s=!0},p(o,i){const $={};1048596&i&&($.$$scope={dirty:i,ctx:o}),t.$set($)},i(o){s||(f(e.$$.fragment,o),f(t.$$.fragment,o),s=!0)},o(o){p(e.$$.fragment,o),p(t.$$.fragment,o),s=!1},d(o){o&&m(n),x(e,o),x(t,o)}}}function nt(r){let e,n=(r[4]!==void 0?r[5][r[4]].description:r[2].description)+"";return{c(){e=R(n)},m(t,s){d(t,e,s)},p(t,s){20&s&&n!==(n=(t[4]!==void 0?t[5][t[4]].description:t[2].description)+"")&&z(e,n)},d(t){t&&m(e)}}}function ot(r){let e,n,t,s=I(r[5]),o=[];for(let a=0;a<s.length;a+=1)o[a]=L(G(r,s,a));const i=a=>p(o[a],1,1,()=>{o[a]=null});let $=(r[4]!==void 0||r[2])&&U(r);return{c(){for(let a=0;a<o.length;a+=1)o[a].c();e=N(),$&&$.c(),n=Y()},m(a,l){for(let c=0;c<o.length;c+=1)o[c]&&o[c].m(a,l);d(a,e,l),$&&$.m(a,l),d(a,n,l),t=!0},p(a,l){if(100&l){let c;for(s=I(a[5]),c=0;c<s.length;c+=1){const y=G(a,s,c);o[c]?(o[c].p(y,l),f(o[c],1)):(o[c]=L(y),o[c].c(),f(o[c],1),o[c].m(e.parentNode,e))}for(E(),c=s.length;c<o.length;c+=1)i(c);T()}a[4]!==void 0||a[2]?$?($.p(a,l),20&l&&f($,1)):($=U(a),$.c(),f($,1),$.m(n.parentNode,n)):$&&(E(),p($,1,1,()=>{$=null}),T())},i(a){if(!t){for(let l=0;l<s.length;l+=1)f(o[l]);f($),t=!0}},o(a){o=o.filter(Boolean);for(let l=0;l<o.length;l+=1)p(o[l]);p($),t=!1},d(a){a&&(m(e),m(n)),X(o,a),$&&$.d(a)}}}function st(r){let e,n,t,s;return e=new b.Trigger({props:{$$slots:{default:[tt]},$$scope:{ctx:r}}}),t=new b.Content({props:{side:"bottom",align:"start",$$slots:{default:[ot]},$$scope:{ctx:r}}}),{c(){g(e.$$.fragment),n=N(),g(t.$$.fragment)},m(o,i){h(e,o,i),d(o,n,i),h(t,o,i),s=!0},p(o,i){const $={};1048580&i&&($.$$scope={dirty:i,ctx:o}),e.$set($);const a={};1048596&i&&(a.$$scope={dirty:i,ctx:o}),t.$set(a)},i(o){s||(f(e.$$.fragment,o),f(t.$$.fragment,o),s=!0)},o(o){p(e.$$.fragment,o),p(t.$$.fragment,o),s=!1},d(o){o&&m(n),x(e,o),x(t,o)}}}function rt(r){let e;return{c(){e=R("Always")},m(n,t){d(n,e,t)},d(n){n&&m(e)}}}function at(r){let e,n;return e=new B({props:{color:"accent",size:1,disabled:!0,$$slots:{default:[rt]},$$scope:{ctx:r}}}),{c(){g(e.$$.fragment)},m(t,s){h(e,t,s),n=!0},p(t,s){const o={};1048576&s&&(o.$$scope={dirty:s,ctx:t}),e.$set(o)},i(t){n||(f(e.$$.fragment,t),n=!0)},o(t){p(e.$$.fragment,t),n=!1},d(t){x(e,t)}}}function lt(r){let e,n,t,s,o;const i=[O,K],$=[];function a(l,c){return 8&c&&(e=null),e==null&&(e=!!l[7](l[3])),e?0:1}return n=a(r,-1),t=$[n]=i[n](r),{c(){t.c(),s=Y()},m(l,c){$[n].m(l,c),d(l,s,c),o=!0},p(l,[c]){let y=n;n=a(l,c),n===y?$[n].p(l,c):(E(),p($[y],1,1,()=>{$[y]=null}),T(),t=$[n],t?t.p(l,c):(t=$[n]=i[n](l),t.c()),f(t,1),t.m(s.parentNode,s))},i(l){o||(f(t),o=!0)},o(l){p(t),o=!1},d(l){l&&m(s),$[n].d(l)}}}function $t(r,e,n){let t,s,o,i,$=S,a=()=>($(),$=k(v,u=>n(4,i=u)),v);r.$$.on_destroy.push(()=>$());let{onSave:l}=e,{rule:c}=e;const y=[{label:"Always",value:A.ALWAYS_ATTACHED,description:"These Rules will be included in every message you send to the agent."},{label:"Manual",value:A.MANUAL,description:"These Rules will be included when manually tagged in your message. You can tag Rules by @-mentioning them."},{label:"Agent Requested",value:A.AGENT_REQUESTED,description:"These Rules will be included when the Agent decides to fetch them based on this file's description."}];let v;a();let w=()=>{};async function C(u){l(u.value,u.value!==A.AGENT_REQUESTED||c.description?c.description:"Example description"),w()}return r.$$set=u=>{"onSave"in u&&n(8,l=u.onSave),"rule"in u&&n(9,c=u.rule)},r.$$.update=()=>{512&r.$$.dirty&&n(3,t=c.path),512&r.$$.dirty&&n(10,s=c.type),1024&r.$$.dirty&&n(2,o=y.find(u=>u.value===s))},[v,w,o,t,i,y,C,function(u){return u===j},l,c,s,u=>C(u),function(u){w=u,n(1,w)},function(u){v=u,a(n(0,v))}]}class gt extends M{constructor(e){super(),Q(this,e,$t,lt,W,{onSave:8,rule:9})}}export{gt as R};
